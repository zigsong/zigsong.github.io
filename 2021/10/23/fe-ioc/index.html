<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Inversion of Control (IOC) - zig-log</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="zig-log"><meta name="msapplication-TileImage" content="/images/balloon-favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="zig-log"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="IOC | 제어의 역전"><meta property="og:type" content="blog"><meta property="og:title" content="Inversion of Control (IOC)"><meta property="og:url" content="https://zigsong.github.io/2021/10/23/fe-ioc/"><meta property="og:site_name" content="zig-log"><meta property="og:description" content="IOC | 제어의 역전"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://zigsong.github.io/images/mac-thumbnail.jpeg"><meta property="article:published_time" content="2021-10-23T10:06:53.000Z"><meta property="article:modified_time" content="2021-12-16T01:05:55.083Z"><meta property="article:author" content="jieun song"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/images/mac-thumbnail.jpeg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://zigsong.github.io/2021/10/23/fe-ioc/"},"headline":"Inversion of Control (IOC)","image":[],"datePublished":"2021-10-23T10:06:53.000Z","dateModified":"2021-12-16T01:05:55.083Z","author":{"@type":"Person","name":"jieun song"},"description":"IOC | 제어의 역전"}</script><link rel="canonical" href="https://zigsong.github.io/2021/10/23/fe-ioc/"><link rel="icon" href="/images/balloon-favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">ZIG-LOG</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zigsong"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-10-23T10:06:53.000Z" title="2021. 10. 23. 오후 7:06:53">2021-10-23</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-12-16T01:05:55.083Z" title="2021. 12. 16. 오전 10:05:55">2021-12-16</time></span><span class="level-item"><a class="link-muted" href="/categories/frontend/">frontend</a></span><span class="level-item">22 minutes read (About 3250 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Inversion of Control (IOC)</h1><div class="content"><h3 id="IOC-제어의-역전"><a href="#IOC-제어의-역전" class="headerlink" title="IOC | 제어의 역전"></a>IOC | 제어의 역전</h3><img class="preview" src="/images/mac-thumbnail.jpeg">

<span id="more"></span>

<br />
<br />

<p>Kent C Dodds의 <a target="_blank" rel="noopener" href="https://kentcdodds.com/blog/inversion-of-control">Inversion of Control</a>을 <del>내맘대로</del> 번역한 글이다.</p>
<p>여러분은 리액트 컴포넌트나 hook 등 재사용할 수 있는 코드를 만들어봤을 것이다. 이후 누군가가 해당 코드가 필요하지만, 약간의 변형이 필요하다고 말한다면? 여러분은 그 코드에 argument/prop/option 및 관련된 로직을 추가할 것이고, 이 과정은 반복된다. 재사용 가능했던 코드는 이제 유지보수하기에 끔찍한 악몽이 되고 만다 😭  </p>
<p>이 코드가 유지보수하기에 두려운 이유는 다음과 같다.</p>
<ul>
<li>번들 사이즈와 성능상의 문제가 발생한다. 아무도 이 문제를 해결하기 위해 코드를 들여다봐주지 않을 것이다! </li>
<li>유지보수에 오버헤드가 발생한다. 코드를 사용할 때 수많은 variation이 존재하고, 문서화도 어려워진다. 사용 시 어떤 것이 옳은 접근 방식인지도 판단하기 어렵다.</li>
<li>실행이 복잡해진다. 수많은 arguments/options/props의 조합은 누가 사용하고 있는지조차 몰라 함부로 바꾸거나 없앨 수도 없다.</li>
<li>API가 복잡해진다. 다양한 arguments/options/props들로 인해 문서가 복잡해지며, 이를 사용하는 사람들이 배워야 할 것이 많아진다.</li>
</ul>
<hr>
<h2 id="도입-Inversion-of-Control"><a href="#도입-Inversion-of-Control" class="headerlink" title="도입: Inversion of Control"></a>도입: Inversion of Control</h2><p>단순한 추상화를 위한 효율적인 메커니즘의 원칙 중 하나가 ‘Inversion of Control’이다. 추상화를 거친 코드는 일을 적게 하고, 사용자가 더 일을 많이 하도록 한다. ‘추상화’라는 개념을, ‘복잡하고 반복되는 일들을 추상화함으로써 나머지 코드는 간단하고 깔끔하게 작성하는 방법으로 생각할 수도 있다. 하지만, 전통적인 개념의 추상화는 반드시 그렇게 동작하는 것은 아니다.</p>
<hr>
<h2 id="Inversion-of-Control의-코드-예시"><a href="#Inversion-of-Control의-코드-예시" class="headerlink" title="Inversion of Control의 코드 예시"></a>Inversion of Control의 코드 예시</h2><p>굉장히 인위적인 아래 코드를 살펴보자.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// let&#x27;s pretend that Array.prototype.filter does not exist</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filter</span>(<span class="params">array</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> newArray = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; array.length; index++) &#123;</span><br><span class="line">    <span class="keyword">const</span> element = array[index]</span><br><span class="line">    <span class="keyword">if</span> (element !== <span class="literal">null</span> &amp;&amp; element !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">      newArray[newArray.length] = element</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArray</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// use case:</span></span><br><span class="line"></span><br><span class="line">filter([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>])</span><br><span class="line"><span class="comment">// [0, 1, 2, 3, &#x27;four&#x27;, &#x27;&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>전형적인 ‘추상화 생명주기’에 따라 관련 있어 보이는 use case들을 추가해보자.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// let&#x27;s pretend that Array.prototype.filter does not exist</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filter</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  array,</span></span></span><br><span class="line"><span class="function"><span class="params">  &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">    filterNull = <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">    filterUndefined = <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">    filterZero = <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">    filterEmptyString = <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">  &#125; = &#123;&#125;,</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> newArray = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; array.length; index++) &#123;</span><br><span class="line">    <span class="keyword">const</span> element = array[index]</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      (filterNull &amp;&amp; element === <span class="literal">null</span>) ||</span><br><span class="line">      (filterUndefined &amp;&amp; element === <span class="literal">undefined</span>) ||</span><br><span class="line">      (filterZero &amp;&amp; element === <span class="number">0</span>) ||</span><br><span class="line">      (filterEmptyString &amp;&amp; element === <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="keyword">continue</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    newArray[newArray.length] = element</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArray</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">filter([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>])</span><br><span class="line"><span class="comment">// [0, 1, 2, 3, &#x27;four&#x27;, &#x27;&#x27;]</span></span><br><span class="line"></span><br><span class="line">filter([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>], &#123;<span class="attr">filterNull</span>: <span class="literal">false</span>&#125;)</span><br><span class="line"><span class="comment">// [0, 1, 2, null, 3, &#x27;four&#x27;, &#x27;&#x27;]</span></span><br><span class="line"></span><br><span class="line">filter([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>], &#123;<span class="attr">filterUndefined</span>: <span class="literal">false</span>&#125;)</span><br><span class="line"><span class="comment">// [0, 1, 2, undefined, 3, &#x27;four&#x27;, &#x27;&#x27;]</span></span><br><span class="line"></span><br><span class="line">filter([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>], &#123;<span class="attr">filterZero</span>: <span class="literal">true</span>&#125;)</span><br><span class="line"><span class="comment">// [1, 2, 3, &#x27;four&#x27;, &#x27;&#x27;]</span></span><br><span class="line"></span><br><span class="line">filter([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>], &#123;<span class="attr">filterEmptyString</span>: <span class="literal">true</span>&#125;)</span><br><span class="line"><span class="comment">// [0, 1, 2, 3, &#x27;four&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>이제 문맥상 6개의 use case를 갖게 되었지만, 이들을 조합하면 25개의 경우의 수가 탄생한다. 그리고 이는 일반적으로 간단한 편에 속한다. 하지만 시간이 지나고 다시 코드를 살펴본다면, 위 코드가 실제로 고려하고 있는 use case들을 더 간단하게 작성할 수 있다는 것을 깨닫게 될 것이다. 물론 위 코드가 제공하는 기존 기능들은 없애지 않으면서 말이다!</p>
<p>이제 생각을 좀 더 하고 이 함수를 추상화해보자. 여기서 모든 use case를 지원하기 위해 Inversion of control을 적용할 수 있다.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// let&#x27;s pretend that Array.prototype.filter does not exist</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filter</span>(<span class="params">array, filterFn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> newArray = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; array.length; index++) &#123;</span><br><span class="line">    <span class="keyword">const</span> element = array[index]</span><br><span class="line">    <span class="keyword">if</span> (filterFn(element)) &#123;</span><br><span class="line">      newArray[newArray.length] = element</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArray</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">filter(</span><br><span class="line">  [<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>],</span><br><span class="line">  el =&gt; el !== <span class="literal">null</span> &amp;&amp; el !== <span class="literal">undefined</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment">// [0, 1, 2, 3, &#x27;four&#x27;, &#x27;&#x27;]</span></span><br><span class="line"></span><br><span class="line">filter([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>], <span class="function"><span class="params">el</span> =&gt;</span> el !== <span class="literal">undefined</span>)</span><br><span class="line"><span class="comment">// [0, 1, 2, null, 3, &#x27;four&#x27;, &#x27;&#x27;]</span></span><br><span class="line"></span><br><span class="line">filter([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>], <span class="function"><span class="params">el</span> =&gt;</span> el !== <span class="literal">null</span>)</span><br><span class="line"><span class="comment">// [0, 1, 2, undefined, 3, &#x27;four&#x27;, &#x27;&#x27;]</span></span><br><span class="line"></span><br><span class="line">filter(</span><br><span class="line">  [<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>],</span><br><span class="line">  el =&gt; el !== <span class="literal">undefined</span> &amp;&amp; el !== <span class="literal">null</span> &amp;&amp; el !== <span class="number">0</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment">// [1, 2, 3, &#x27;four&#x27;, &#x27;&#x27;]</span></span><br><span class="line"></span><br><span class="line">filter(</span><br><span class="line">  [<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>],</span><br><span class="line">  el =&gt; el !== <span class="literal">undefined</span> &amp;&amp; el !== <span class="literal">null</span> &amp;&amp; el !== <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment">// [0, 1, 2, 3, &#x27;four&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>굿! 훨씬 간단하다. 제어권을 바꾼 것이다. <code>filter</code> 함수가 리턴하는 새로운 배열의 요소들을 결정하는 책임을 <code>filter</code> 함수의 호출부로 옮겼다.</p>
<p>이전 방식의 추상화도 그렇게 나쁘진 않았을 것이다. 하지만 제어를 역전함으로써 use case를 더 많이, 자유롭게 추가할 수 있게 되었다.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">filter(</span><br><span class="line">  [</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;dog&#x27;</span>, <span class="attr">legs</span>: <span class="number">4</span>, <span class="attr">mammal</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;dolphin&#x27;</span>, <span class="attr">legs</span>: <span class="number">0</span>, <span class="attr">mammal</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;eagle&#x27;</span>, <span class="attr">legs</span>: <span class="number">2</span>, <span class="attr">mammal</span>: <span class="literal">false</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;elephant&#x27;</span>, <span class="attr">legs</span>: <span class="number">4</span>, <span class="attr">mammal</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;robin&#x27;</span>, <span class="attr">legs</span>: <span class="number">2</span>, <span class="attr">mammal</span>: <span class="literal">false</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;cat&#x27;</span>, <span class="attr">legs</span>: <span class="number">4</span>, <span class="attr">mammal</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;salmon&#x27;</span>, <span class="attr">legs</span>: <span class="number">0</span>, <span class="attr">mammal</span>: <span class="literal">false</span>&#125;,</span><br><span class="line">  ],</span><br><span class="line">  animal =&gt; animal.legs === <span class="number">0</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment">// [</span></span><br><span class="line"><span class="comment">//   &#123;name: &#x27;dolphin&#x27;, legs: 0, mammal: true&#125;,</span></span><br><span class="line"><span class="comment">//   &#123;name: &#x27;salmon&#x27;, legs: 0, mammal: false&#125;,</span></span><br><span class="line"><span class="comment">// ]</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="더-나쁜-API"><a href="#더-나쁜-API" class="headerlink" title="더 나쁜 API?"></a>더 나쁜 API?</h2><p>제어가 역전된 API에 대해 사람들이 일반적으로 하는 불평은, “이전보다 사용하기 더 어려워졌다”는 것이다. 다음 예시를 살펴보자.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// before</span></span><br><span class="line">filter([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">// after</span></span><br><span class="line">filter(</span><br><span class="line">  [<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>],</span><br><span class="line">  el =&gt; el !== <span class="literal">null</span> &amp;&amp; el !== <span class="literal">undefined</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>분명히 before의 코드가 사용하긴 더 쉬워보인다. 하지만 우리는 제어의 역전이 적용된 API를 사용하여 이전의 API를 간단하게 다시 사용할 수 있다.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filterWithOptions</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  array,</span></span></span><br><span class="line"><span class="function"><span class="params">  &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">    filterNull = <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">    filterUndefined = <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">    filterZero = <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">    filterEmptyString = <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">  &#125; = &#123;&#125;,</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> filter(</span><br><span class="line">    array,</span><br><span class="line">    element =&gt;</span><br><span class="line">      !(</span><br><span class="line">        (filterNull &amp;&amp; element === <span class="literal">null</span>) ||</span><br><span class="line">        (filterUndefined &amp;&amp; element === <span class="literal">undefined</span>) ||</span><br><span class="line">        (filterZero &amp;&amp; element === <span class="number">0</span>) ||</span><br><span class="line">        (filterEmptyString &amp;&amp; element === <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">      ),</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>위와 같이, 제어가 역전된 API의 상단부에 추상화를 설계하여 사람들에게 필요한 간단한 API를 제공할 수 있다. 또 만약 우리의 “간단한” API가 모든 use case를 다루기 충분하지 않다면, 더 복잡한 태스크를 해결하기 위해 비슷한 코드블럭을 쌓아나갈 수 있다.</p>
<p>아래 재미있는(!) 예시처럼 말이다.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filterByLegCount</span>(<span class="params">array, legCount</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> filter(array, <span class="function"><span class="params">animal</span> =&gt;</span> animal.legs === legCount)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">filterByLegCount(</span><br><span class="line">  [</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;dog&#x27;</span>, <span class="attr">legs</span>: <span class="number">4</span>, <span class="attr">mammal</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;dolphin&#x27;</span>, <span class="attr">legs</span>: <span class="number">0</span>, <span class="attr">mammal</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;eagle&#x27;</span>, <span class="attr">legs</span>: <span class="number">2</span>, <span class="attr">mammal</span>: <span class="literal">false</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;elephant&#x27;</span>, <span class="attr">legs</span>: <span class="number">4</span>, <span class="attr">mammal</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;robin&#x27;</span>, <span class="attr">legs</span>: <span class="number">2</span>, <span class="attr">mammal</span>: <span class="literal">false</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;cat&#x27;</span>, <span class="attr">legs</span>: <span class="number">4</span>, <span class="attr">mammal</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;salmon&#x27;</span>, <span class="attr">legs</span>: <span class="number">0</span>, <span class="attr">mammal</span>: <span class="literal">false</span>&#125;,</span><br><span class="line">  ],</span><br><span class="line">  <span class="number">0</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment">// [</span></span><br><span class="line"><span class="comment">//   &#123;name: &#x27;dolphin&#x27;, legs: 0, mammal: true&#125;,</span></span><br><span class="line"><span class="comment">//   &#123;name: &#x27;salmon&#x27;, legs: 0, mammal: false&#125;,</span></span><br><span class="line"><span class="comment">// ]</span></span><br></pre></td></tr></table></figure>
<p>이렇게 일반적인 use case를 사용하면서도 추가적으로 원하는 여러 태스크들을 조합할 수 있다.</p>
<hr>
<h2 id="실제로-사용되나"><a href="#실제로-사용되나" class="headerlink" title="실제로 사용되나?"></a>실제로 사용되나?</h2><p>이런 추상화 방식이 좋아보이긴 하는데, 실제로 먹히는 컨셉일까? 아마 우리는 눈치채지 못한 새 제어가 역전된 API를 사용하고 있을지 모른다. 예를 들어, <code>Array.prototype.filter</code> 함수는 제어가 역전되었다. <code>Array.prototype.map</code>도 마찬가지다.</p>
<p>최애 패턴 두 가지는 ‘<a target="_blank" rel="noopener" href="https://kentcdodds.com/blog/compound-components-with-react-hooks">Compound Components</a>‘와 ‘<a target="_blank" rel="noopener" href="https://kentcdodds.com/blog/the-state-reducer-pattern">State Reducers</a>‘이다.</p>
<h3 id="Compount-Components"><a href="#Compount-Components" class="headerlink" title="Compount Components"></a>Compount Components</h3><p><code>Menu</code> 컴포넌트를 만들고 싶다고 해보자. 메뉴를 여는 버튼이 있고, 클릭했을 때 메뉴 아이템의 리스트를 보여준다. 아이템이 선택되면, 특정한 액션을 수행한다. 일반적으로 props를 만들어서 컴포넌트를 만들 것이다.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Menu</span><br><span class="line">      buttonContents=&#123;</span><br><span class="line">        &lt;&gt;</span><br><span class="line">          Actions &lt;span aria-hidden&gt;▾&lt;/span&gt;</span><br><span class="line">        &lt;/&gt;</span><br><span class="line">      &#125;</span><br><span class="line">      items=&#123;[</span><br><span class="line">        &#123;<span class="attr">contents</span>: <span class="string">&#x27;Download&#x27;</span>, <span class="attr">onSelect</span>: <span class="function">() =&gt;</span> alert(<span class="string">&#x27;Download&#x27;</span>)&#125;,</span><br><span class="line">        &#123;<span class="attr">contents</span>: <span class="string">&#x27;Create a Copy&#x27;</span>, <span class="attr">onSelect</span>: <span class="function">() =&gt;</span> alert(<span class="string">&#x27;Create a Copy&#x27;</span>)&#125;,</span><br><span class="line">        &#123;<span class="attr">contents</span>: <span class="string">&#x27;Delete&#x27;</span>, <span class="attr">onSelect</span>: <span class="function">() =&gt;</span> alert(<span class="string">&#x27;Delete&#x27;</span>)&#125;,</span><br><span class="line">      ]&#125;</span><br><span class="line">    /&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>우리는 메뉴 아이템을 마음대로 커스터마이징할 수 있다. 하지만 메뉴 아이템 앞에 삭제 버튼을 추가해야 하면 어떨까? 아이템 객체에 옵션을 추가한다면? 🤯 API는 점점 꼬일 것이다.</p>
<p>좋은 API를 만들기 위해서는, if문이나 삼항 연산자 등의 남용은 자제해야 한다. 제어의 역전을 생각해 보자. 이 경우에, 단지 우리 메뉴에 대한 책임을 유저에게 넘기면 어떨까? 그게 리액트 컴포넌트의 조합이 갖고 있는 최고 강점 중 하나이니까!</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Menu&gt;</span><br><span class="line">      &lt;MenuButton&gt;</span><br><span class="line">        Actions &lt;span aria-hidden&gt;▾&lt;/span&gt;</span><br><span class="line">      &lt;/MenuButton&gt;</span><br><span class="line">      &lt;MenuList&gt;</span><br><span class="line">        &lt;MenuItem onSelect=&#123;<span class="function">() =&gt;</span> alert(<span class="string">&#x27;Download&#x27;</span>)&#125;&gt;Download&lt;/MenuItem&gt;</span><br><span class="line">        &lt;MenuItem onSelect=&#123;<span class="function">() =&gt;</span> alert(<span class="string">&#x27;Copy&#x27;</span>)&#125;&gt;Create a Copy&lt;/MenuItem&gt;</span><br><span class="line">        &lt;MenuItem onSelect=&#123;<span class="function">() =&gt;</span> alert(<span class="string">&#x27;Delete&#x27;</span>)&#125;&gt;Delete&lt;/MenuItem&gt;</span><br><span class="line">      &lt;/MenuList&gt;</span><br><span class="line">    &lt;/Menu&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 코드의 특징 중 하나는 컴포넌트를 사용하는 곳에서는 ‘상태(state)’를 볼 수 없다는 것이다. 상태는 컴포넌트들 간에 암묵적으로 공유되고 있다. 이것은 컴포넌트의 조합(compound) 패턴의 핵심 가치다. 이를 이용해서 우리는 렌더링하는 제어권을 컴포넌트의 사용부에 넘길 수 있으며, 코드 추가도 쉽고 직관적으로 바뀐다.</p>
<h3 id="State-Reducer"><a href="#State-Reducer" class="headerlink" title="State Reducer"></a>State Reducer</h3><p>이 패턴은 컴포넌트 로직을 커스터마이징하기 위한 것이다. 검색, 타이핑(typeahead), 자동완성 등이 가능한 <code>Downshift</code>라는 라이브러리를 추가했다. 이제 이 컴포넌트에서 아이템은 복수 선택이 가능하며, 아이템이 선택된 이후에도 메뉴가 계속 열려있어야 한다고 생각해 보자.</p>
<p>누군가는 <code>closeOnSelection</code>이라는 prop을 추가할 것이다. 하지만 이는 별로인 것 같다. </p>
<p>그 대신, 상태 변화를 제어하는 API를 떠올려 보자. 컴포넌트의 상태가 변할 때마다 호출되는 state reducer 함수를 만들 수 있다. 이 함수는 상태가 변화하려 할 때 개발자가 상태를 바꿀 수 있도록 해준다.</p>
<p>다음 예시를 살펴보자.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stateReducer</span>(<span class="params">state, changes</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (changes.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> Downshift.stateChangeTypes.keyDownEnter:</span><br><span class="line">    <span class="keyword">case</span> Downshift.stateChangeTypes.clickItem:</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...changes,</span><br><span class="line">        <span class="comment">// we&#x27;re fine with any changes Downshift wants to make</span></span><br><span class="line">        <span class="comment">// except we&#x27;re going to leave isOpen and highlightedIndex as-is.</span></span><br><span class="line">        isOpen: state.isOpen,</span><br><span class="line">        highlightedIndex: state.highlightedIndex,</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> changes</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// then when you render the component</span></span><br><span class="line"><span class="comment">// &lt;Downshift stateReducer=&#123;stateReducer&#125; &#123;...restOfTheProps&#125; /&gt;</span></span><br></pre></td></tr></table></figure>
<p>이 prop을 추가함으로써, 우리는 컴포넌트를 커스터마이징하는 요청을 획기적으로 줄일 수 있다. 이제 원하는 태스크의 추가를 자유자재로 간단하게 할 수 있다.</p>
<h3 id="Render-Props"><a href="#Render-Props" class="headerlink" title="Render Props"></a>Render Props</h3><p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/render-props.html">render props</a> 패턴은 완벽한 제어의 역전이다. 그러나 여기서는 다루지 않을 것임.</p>
<hr>
<h2 id="주의사항"><a href="#주의사항" class="headerlink" title="주의사항"></a>주의사항</h2><p>제어의 역전은 앞으로 use case를 추가할 수 있는 상황에 대비해서 재사용 가능한 코드를 작성하는 훌륭한 방식이다. 하지만 그전에, 몇몇 주의사항이 있다. 처음에 만났던 인위적인 코드의 예시를 다시 한번 보자.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// let&#x27;s pretend that Array.prototype.filter does not exist</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filter</span>(<span class="params">array</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> newArray = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; array.length; index++) &#123;</span><br><span class="line">    <span class="keyword">const</span> element = array[index]</span><br><span class="line">    <span class="keyword">if</span> (element !== <span class="literal">null</span> &amp;&amp; element !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">      newArray[newArray.length] = element</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArray</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// use case:</span></span><br><span class="line"></span><br><span class="line">filter([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>, <span class="literal">null</span>, <span class="number">3</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;&#x27;</span>])</span><br><span class="line"><span class="comment">// [0, 1, 2, 3, &#x27;four&#x27;, &#x27;&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>만약 이것이 <code>filter</code>가 수행해야 하는 전부이며, <code>null</code>과 <code>undefined</code>를 제외하고 모든 것들을 필터링해야 한다면 어떨까? 이 경우 단 하나의 use case를 위해 제어의 역전을 적용하는 것은 더욱 코드를 복잡하게 만들 뿐이다.</p>
<p>모든 추상화는 항상 신중한 고려 후에 작성해야 한다. 시작 전에 <a target="_blank" rel="noopener" href="https://kentcdodds.com/blog/aha-programming">AHA Programming</a>의 원칙을 살펴보고, 성급한 추상화를 피하도록 하자!</p>
<hr>
<h2 id="생각"><a href="#생각" class="headerlink" title="생각"></a>생각</h2><p>막연하게 ‘제어의 역전’이라는 말을 어렵게만 생각하고 있었는데, 쉬운 예시를 들어가며 이해하기 쉽게 정리한 것 같다. 정말 자주 사용하는 <code>Array</code>의 <code>filter</code>나 <code>map</code> 등의 메서드도 제어의 역전으로 볼 수 있다니, 주어진 기술을 단지 생각없이 사용하는 것보다 ‘이게 왜 이렇게 탄생했는지?’ 생각해보는 연습이 중요한 것 같다.</p>
<p>추상화 단계를 조금 더 세분화해보면 <code>filter</code>라는 가장 추상화된 함수에서 <code>filterByLegCount</code>와 같은 또 다른 중간 단계의 추상화를 만들 수도 있으며, 개발자들이 정말 유연하게 사용할 수 있는 코드라는 것이 이런 지점에서 출발하는 것이 아닐까 생각이 든다.</p>
<p>React의 컴포넌트 역시 이러한 추상화의 방식으로 컴포넌트를 분리하고, 이후 기능 추가에 대비해 유연하게 작성되어 있다는 점을 알 수 있었다.</p>
<p>제어의 역전은 어쩌면 선언형 프로그래밍과도 맥이 이어지는 방식이라고 생각한다. ‘어떻게’ 할 것인지에 초점을 두는 명령형 프로그래밍과는 달리 선언형 프로그래밍은 ‘무엇을’ 할지에 관심을 둔다. 하지만 선언형 프로그래밍은 단지 사용하는 쪽에서 코드를 최대한 단순하게 쓸 수 있도록 해야 한다는 생각에 사용부에서 많은 것을 알아야 하는 위 예시들과는 조금 다르다고 생각했다. </p>
<p>그러나 사용하는 쪽에서 ‘많이’ 알아야 하는 것이 잘못된 것은 아니다. 단순히 누가 많이 알고 적게 아는 것이 아니라, 함수가 온전하게 역할이 분리되어 있고 재사용 가능한 로직들을 적절하게 잘 분리했다면, 추상화한 함수 스스로 ‘무엇을’ 할 것인지에 대한 역할을 수행하고 있다고 생각한다.</p>
<p>함수를 분리하며 누가 제어권을 가져야 좋을지, 이후 유지보수 과정도 잘 생각해 보면서 코드를 짜는 연습을 해야겠다. </p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Inversion of Control (IOC)</p><p><a href="https://zigsong.github.io/2021/10/23/fe-ioc/">https://zigsong.github.io/2021/10/23/fe-ioc/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>jieun song</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2021-10-23</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2021-12-16</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/10/27/woowa-week-37/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">우테코 37주차 기록</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/10/23/woowa-week-36/"><span class="level-item">우테코 36주차 기록</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-4-widescreen  order-3 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/images/profile_hexo.jpeg" alt="zig song"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">zig song</p><p class="is-size-6 is-block">FE Developer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Seoul</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">158</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">14</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-info is-outlined is-rounded" href="/" target="_self" rel="noopener">Home</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/zigsong"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:wldms5764@gmail.com"><i class="fa fa-envelope"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><ul class="menu-list"><li><a class="level is-mobile" href="#IOC-제어의-역전"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">IOC | 제어의 역전</span></span></a></li></ul><li><a class="level is-mobile" href="#도입-Inversion-of-Control"><span class="level-left"><span class="level-item">2</span><span class="level-item">도입: Inversion of Control</span></span></a></li><li><a class="level is-mobile" href="#Inversion-of-Control의-코드-예시"><span class="level-left"><span class="level-item">3</span><span class="level-item">Inversion of Control의 코드 예시</span></span></a></li><li><a class="level is-mobile" href="#더-나쁜-API"><span class="level-left"><span class="level-item">4</span><span class="level-item">더 나쁜 API?</span></span></a></li><li><a class="level is-mobile" href="#실제로-사용되나"><span class="level-left"><span class="level-item">5</span><span class="level-item">실제로 사용되나?</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Compount-Components"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">Compount Components</span></span></a></li><li><a class="level is-mobile" href="#State-Reducer"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">State Reducer</span></span></a></li><li><a class="level is-mobile" href="#Render-Props"><span class="level-left"><span class="level-item">5.3</span><span class="level-item">Render Props</span></span></a></li></ul></li><li><a class="level is-mobile" href="#주의사항"><span class="level-left"><span class="level-item">6</span><span class="level-item">주의사항</span></span></a></li><li><a class="level is-mobile" href="#생각"><span class="level-left"><span class="level-item">7</span><span class="level-item">생각</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/frontend/"><span class="level-start"><span class="level-item">frontend</span></span><span class="level-end"><span class="level-item tag">30</span></span></a></li><li><a class="level is-mobile" href="/categories/git-github/"><span class="level-start"><span class="level-item">git &amp; github</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/javascript/"><span class="level-start"><span class="level-item">javascript</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/nestjs/"><span class="level-start"><span class="level-item">nestjs</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/oop-true-and-false/"><span class="level-start"><span class="level-item">oop-true-and-false</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/refactoring/"><span class="level-start"><span class="level-item">refactoring</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/categories/retrospective/"><span class="level-start"><span class="level-item">retrospective</span></span><span class="level-end"><span class="level-item tag">32</span></span></a></li><li><a class="level is-mobile" href="/categories/troubleshooting/"><span class="level-start"><span class="level-item">troubleshooting</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/typescript/"><span class="level-start"><span class="level-item">typescript</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/woowacourse/"><span class="level-start"><span class="level-item">woowacourse</span></span><span class="level-end"><span class="level-item tag">35</span></span></a></li><li><a class="level is-mobile" href="/categories/wtc-havruta-fe/"><span class="level-start"><span class="level-item">wtc-havruta-fe</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/wtc-pr-log/"><span class="level-start"><span class="level-item">wtc-pr-log</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/wtc-study-log/"><span class="level-start"><span class="level-item">wtc-study-log</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/%EA%B8%80%EB%98%90/"><span class="level-start"><span class="level-item">글또</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/2022/07/16/2022-7-week-3/"><img src="/images/retrospective-thumbnail.jpeg" alt="7월 3주차 기록"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-07-15T23:40:20.000Z">2022-07-16</time></p><p class="title"><a href="/2022/07/16/2022-7-week-3/">7월 3주차 기록</a></p><p class="categories"><a href="/categories/retrospective/">retrospective</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2022/07/10/npm-troubleshooting/"><img src="/images/troubleshooting-thumbnail.jpeg" alt="legacy-peer-deps 너 뭐 돼?"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-07-10T13:51:13.000Z">2022-07-10</time></p><p class="title"><a href="/2022/07/10/npm-troubleshooting/">legacy-peer-deps 너 뭐 돼?</a></p><p class="categories"><a href="/categories/troubleshooting/">troubleshooting</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2022/07/09/2022-7-week-2/"><img src="/images/retrospective-thumbnail.jpeg" alt="7월 2주차 기록"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-07-08T23:39:54.000Z">2022-07-09</time></p><p class="title"><a href="/2022/07/09/2022-7-week-2/">7월 2주차 기록</a></p><p class="categories"><a href="/categories/retrospective/">retrospective</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2022/07/02/2022-7-week-1/"><img src="/images/retrospective-thumbnail.jpeg" alt="7월 1주차 기록"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-07-02T05:50:48.000Z">2022-07-02</time></p><p class="title"><a href="/2022/07/02/2022-7-week-1/">7월 1주차 기록</a></p><p class="categories"><a href="/categories/retrospective/">retrospective</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2022/06/25/2022-6-week-4/"><img src="/images/retrospective-thumbnail.jpeg" alt="6월 4주차 기록"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-06-25T04:59:05.000Z">2022-06-25</time></p><p class="title"><a href="/2022/06/25/2022-6-week-4/">6월 4주차 기록</a></p><p class="categories"><a href="/categories/retrospective/">retrospective</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">July 2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">June 2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">May 2022</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/04/"><span class="level-start"><span class="level-item">April 2022</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">March 2022</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/02/"><span class="level-start"><span class="level-item">February 2022</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/01/"><span class="level-start"><span class="level-item">January 2022</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">December 2021</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/11/"><span class="level-start"><span class="level-item">November 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">October 2021</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/09/"><span class="level-start"><span class="level-item">September 2021</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">August 2021</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">July 2021</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">June 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">May 2021</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">April 2021</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/03/"><span class="level-start"><span class="level-item">March 2021</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">February 2021</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li></ul></div></div></div><!--!--></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">ZIG-LOG</a><p class="is-size-7"><span>&copy; 2022 jieun song</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>