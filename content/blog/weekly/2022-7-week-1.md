---
title: 7ì›” 1ì£¼ì°¨ ê¸°ë¡
date: 2022-07-02 21:41:09
tags: ["weekly"]
description: weekly-i-learned

---

ì—¬ë¦„ì´ë‹·

<!-- more -->

---

## ë°°ì›Œê°€ê¸°

### URLì—ì„œ pathname, parameter ê°€ì ¸ì˜¤ê¸°

URLì—ì„œ `pathname`, `parameter`ë¥¼ ìš°ì•„í•˜ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

```jsx
// URL ì‚¬ìš©í•˜ì§€ ì•Šê³  íŠ¹ì • pathë¥¼ ê°€ì ¸ì˜¬ ë•Œ
const { pathname } = window.location;
const path = pathname.split("/")[1];

// URLì„ ì‚¬ìš©í•´ì„œ ê°€ì ¸ì˜¬ ë•Œ
const { pathname } = new URL(window.location.href);
```

**Ref** https://developer.mozilla.org/en-US/docs/Web/API/URL

### inner border line ê·¸ë¦¬ê¸°

inner border lineì„ ê·¸ë¦¬ê³  ì‹¶ì„ ë•Œ, ì¼ë°˜ì ìœ¼ë¡œ `box-sizing: border-box`ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, í•´ë‹¹ ì¼€ì´ìŠ¤ëŠ” widthë‚˜ heightì´ íŠ¹ì •ê°’ìœ¼ë¡œ ê³ ì •ë˜ì–´ìˆì„ ë•Œë§Œ inner-border-lineì´ ìƒê¸´ë‹¤.

width, heightì´ auto ê°’ìœ¼ë¡œ ì“°ì—¬ì§€ëŠ” ê²½ìš°ê°€ ìƒê¸°ë©´ ì˜ˆìƒê³¼ëŠ” ë‹¤ë¥´ê²Œ outside-border-lineì´ ìƒê¸´ë‹¤. ì´ëŸ° ê²½ìš°ì—ëŠ” `box-shadow`ë¡œ inner-border-lineì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

### useImperativeHandle

`useImperativeHandle`ì€ `ref`ë¥¼ ì‚¬ìš©í•  ë•Œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì— ë…¸ì¶œë˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ê°’ì„ ì‚¬ìš©ìí™”(customizes)í•œë‹¤. (ì¦‰ refë¥¼ ì‚¬ìš©í•˜ëŠ” ë¶€ëª¨ ì¸¡ì—ì„œ ì»¤ìŠ¤í„°ë§ˆì´ì§•ëœ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.) `forwardRef`ì™€ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” í›…ì´ë©°, ìƒˆë¡œìš´ `ref`ì— ì»¤ìŠ¤í„°ë§ˆì´ì§• ì‘ì—…ì„ í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ ì˜ˆì‹œì—ì„œì²˜ëŸ¼ `FancyInput` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³ì—ì„œ ì»¤ìŠ¤í„°ë§ˆì´ì§•ëœ ê°’ì„ ì´ìš©í•  ìˆ˜ ìˆë‹¤.

```jsx
function FancyInput(props, ref) {
  const inputRef = useRef();
  useImperativeHandle(ref, () => ({
    focus: () => {
      inputRef.current.focus();
    }
  }));
  return <input ref={inputRef} ... />;
}
FancyInput = forwardRef(FancyInput);

// FancyInput ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³
function FancyForm() {
  useEffect(() => {
    inputRef.current.focus(); // âœ… FancyInputì˜ `useImperativeHandle` ë‚´ `focus` í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤.
  }, [])

  return (
    <FancyInput ref={inputRef} />
  )
}
```

**Ref** https://ko.reactjs.org/docs/hooks-reference.html#useimperativehandle

### `<a download/>`

`<a />` íƒœê·¸ì— download ì†ì„±ì„ ë„£ìœ¼ë©´ href ê²½ë¡œì—ì„œ íŒŒì¼ì„ ë‹¤ìš´ ë°›ì„ ìˆ˜ ìˆëŠ”ë°, í•´ë‹¹ ê²½ë¡œì˜ íŒŒì¼ì´ ì´ë¯¸ì§€ë¼ë©´ ë¯¸ë¦¬ë³´ê¸°ë¥¼, docxê°™ì€ íŒŒì¼ì´ë©´ ë°”ë¡œ ë‹¤ìš´ë¡œë“œ ì°½ì´ ëœ¬ë‹¤.

ì´ë¯¸ì§€ ë˜í•œ ë°”ë¡œ ë‹¤ìš´ë¡œë“œì°½ì„ ë„ìš°ê³  ì‹¶ìœ¼ë©´ í•´ë‹¹ ê²½ë¡œì— ëŒ€í•´ fetchë¥¼ ì‚¬ìš©í•´ì„œ ì‘ë‹µê°’ì„ ë°›ê³ , blob, URL, createObjectURL ë“±ì„ ì‚¬ìš©í•´ì„œ ë§í¬ë¥¼ ìƒˆë¡œ ë§Œë“¤ì–´ì„œ ë°›ì•„ì˜¨ë‹¤.

```jsx
fetch(url, { mode: "no-cors" })
  .then((response) => response.blob())
  .then((blob) => {
    const blobUrl = window.URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.download = fileName || "download";
    a.href = blobUrl;
    a.click();
  });
```

### Basic Auth

Basic AuthëŠ” í•˜ë‚˜ì˜ HTTP ì¸ì¦ ë°©ì‹ì´ë‹¤.

usernameê³¼ pwë¥¼ Base64 ì¸ì½”ë”© í•´ì„œ `Basic -`ì˜ í˜•ì‹ìœ¼ë¡œ ë³´ë‚´ëŠ” ë°©ì‹ì´ë‹¤.

í—¤ë”ì— Bearer AccessToken ë³´ë‚´ëŠ” ë°©ì‹ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ, Basic Auth ë°©ì‹ì—ì„œëŠ” username, pwì„ axios ìš”ì²­ì— ë„£ì–´ì£¼ë©´ axiosê°€ ì•Œì•„ì„œ Base64ë¡œ ì¸ì½”ë”© ì²˜ë¦¬í•´ì¤€ë‹¤. ê·¸í›„ ìš”ì²­ì„ ì—´ì–´ë³´ë©´, `Authorization: Basic ZGVtbzpwQDU1dzByZA==`ê³¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ë“¤ì–´ê°€ ìˆë‹¤.

**Ref** https://stackoverflow.com/questions/34013299/web-api-authentication-basic-vs-bearer

### shell command ì´ê²ƒì €ê²ƒ

- `chmod +x` - ì‹¤í–‰ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ëª…ë ¹ì–´ì´ë‹¤.
- `grep` - í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ íŠ¹ì • ë¬¸ìì—´ì˜ ìœ„ì¹˜ë“¤ì„ ì°¾ì„ ìˆ˜ ìˆë‹¤. (vs code ê²€ìƒ‰ê¸°ëŠ¥ì´ë‘ ë™ì¼)

```
# -I ëŠ” binary íŒŒì¼ ì œì™¸, rì€ ì¬ê·€ì ìœ¼ë¡œ íƒìƒ‰, nì€ ë¼ì¸ë„˜ë²„ ì¶”ì¶œ, wëŠ” ë‹¨ì–´ê°€ whole matchingì¸ ê²ƒë§Œ
grep --exclude-dir={"/User/...", ...} -I -rnw "${brosMobileDir}" -e "$imageName"
```

- `wc -w` - ë¬¸ìì—´ì˜ word ë§¤ì¹­ê°œìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.
- `tr -d ' '` - trim ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

### superstructì˜ assign()

superstruct ì˜ `assign()` ìœ í‹¸ í•¨ìˆ˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ `Object.assign()`ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ ì²«ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ëœ ê²ƒê³¼ ë™ì¼í•œ êµ¬ì¡°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.

```jsx
const schema = assign(
  type({}), // âœ… ì²«ë²ˆì§¸ íŒŒë¼ë¯¸í„°ê°€ typeì´ê¸° ë•Œë¬¸ì—, ì•„ë˜ êµ¬ì¡°ì²´ëŠ” typeì´ ëœë‹¤.
  object({
    name: string(),
    walk: func(),
  })
);

const obj = {
  name: "Jill",
  age: 37,
  race: "human",
  walk: () => {},
};

assert(obj, schema); // OK
```

### íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì–´ì„œì…˜(assertion)

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ íƒ€ì…ê°€ë“œë¥¼ ìœ„í•´ `is`ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ, `asserts` í‚¤ì›Œë“œì™€ í•¨ê»˜ ì‚¬ìš©í•´ì„œ ì—ëŸ¬ë¥¼ throwí•˜ëŠ” ë°©ì‹ìœ¼ë¡œë„ íƒ€ì…ê°€ë“œë¥¼ í•  ìˆ˜ ìˆë‹¤.

```jsx
const assert = (v: unknown): v is string => {
  return typeof v === 'string'
}

const assert2 = (v: unknown): asserts v is string => {
  if (typeof v !== 'string') throw Error()
}

function fn(v: unknown){
  if (assert(v)) {
    console.log(v) // âœ… ì—¬ê¸°ì„œ vì˜ íƒ€ì…ì€ stringì´ ëœë‹¤
  }

  // âœ… vê°€ stringì´ ì•„ë‹ˆë¼ë©´ Errorë¥¼ throwí•œë‹¤.
  // âœ… vê°€ stringì´ë¼ë©´ ëŸ°íƒ€ì„ì—ì„œ ë¬¸ì œê°€ ì—†ì§€ë§Œ, ì´í›„ì— vì˜ íƒ€ì…ì´ stringì´ ëœë‹¤
  assert2(v)

  console.log(v) // ìœ„ì—ì„œ throw Errorê°€ ë˜ì§€ ì•Šìœ¼ë©´ vëŠ” string
}
```

### forwardRefì—ì„œ childrenì´ ë˜ì§€ ì•ŠëŠ” ì´ìœ 

`forwardRef`ë¥¼ ì‚¬ìš©í•œ ì•„ë˜ ì˜ˆì‹œ ì½”ë“œë¥¼ ì‚´í´ë³´ì.

```jsx
import React, { useRef } from 'react';

interface ChildProps {
  message: string;
}

const ChildComponent = React.forwardRef<HTMLInputElement, ChildProps>((props, ref) => {
  const { message, children } = props;

  return (
    <div>
      <input ref={ref} />
      <span>{message}</span>
      {children}
    </div>
  );
});

const ParentComponent = () => {
  const inputRef = useRef<HTMLInputElement>(null);

  return (
    // ğŸš¨ Property 'children' does not exist on type 'IntrinsicAttributes & ChildProps & RefAttributes<HTMLInputElement>'
    <ChildComponent message="hello child" ref={inputRef}>
      <div>childrenì„ ë„£ì–´ì£¼ê³  ì‹¶ì–´ìš”</div>
    </ChildComponent>
  );
};
```

`ParentComponent`ì—ì„œ `ChildComponent`ë¥¼ ë Œë”ë§í•  ë•Œ, `ChildComponent`ì— `children` propì„ ë¼ì›Œë„˜ê¸°ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ë¬¼ë¡  `ChildProps`ì— `children: React.ReactNode`ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë„£ì–´ì„œ í•´ê²°í•´ì¤„ ìˆ˜ë„ ìˆì§€ë§Œ, `forwardRef`ì˜ íƒ€ì… ì‹œê·¸ë‹ˆì²˜ê°€ ì•„ë˜ì™€ ê°™ì´ ë˜ì–´ ìˆì–´ì„œ `children`ì„ ëª…ì‹œí•´ì£¼ì§€ ì•Šì•„ë„ `children` propì´ ìë™ìœ¼ë¡œ ë“¤ì–´ê°ˆ ê²ƒì´ë¼ê³  ìƒê°í–ˆë‹¤.

```jsx
function forwardRef<T, P = {}>(render: ForwardRefRenderFunction<T, P>): ForwardRefExoticComponent<PropsWithoutRef<P> & RefAttributes<T>>;

interface ForwardRefRenderFunction<T, P = {}> {
  (props: PropsWithChildren<P>, ref: ForwardedRef<T>): ReactElement | null;
  displayName?: string | undefined;
  defaultProps?: never | undefined;
  propTypes?: never | undefined;
}
```

`forwardRef`ì˜ ì¸ìë¡œ ë“¤ì–´ê°€ëŠ” `render()` í•¨ìˆ˜ì˜ íƒ€ì…ì¸ `ForwardRefRenderFunction`ì˜ íƒ€ì… ì‹œê·¸ë‹ˆì²˜ì—ëŠ” `(props: PropsWithChildren<P>)`ê°€ ìˆì§€ ì•Šì€ê°€? ğŸ¤”

ì´ ë¬¸ì œë¡œ ëª‡ë‚ ì„ ì†ì©ì´ë‹¤ê°€, ë™ê¸°ê°€ í•œ ì˜ê²¬ì„ ì œì‹œí•´ì£¼ì—ˆë‹¤. `forwardRef`ì˜ íƒ€ì… ì‹œê·¸ë‹ˆì²˜ `function forwardRef<T, P = {}>`ì—ì„œ `P`ì— `children`ì´ ì—†ë‹¤ë©´, `forwardRef`ì˜ ë¦¬í„´ íƒ€ì…ì¸ `<PropsWithoutRef<P> & RefAttributes<T>>`ì—ë„ `children`ì´ ë“¤ì–´ê°€ì§€ ì•Šì„ ê²ƒì´ë‹¤!

`render()` í•¨ìˆ˜ì˜ ì¸ì íƒ€ì…ì´ `PropsWithChildren<P>`ì´ë¼ëŠ” ì‚¬ì‹¤ì—ë§Œ ê½‚í˜€ì„œ, ë¦¬í„´ íƒ€ì…ì„ ë³´ì§€ ëª»í–ˆë˜ ê²ƒì´ë‹¤! ğŸ˜µ

### esconfig.tsì˜ typescript rules

- â€œoffâ€ - 0 (ruleì„ ì™„ì „íˆ ëˆë‹¤.)
- â€œwarnâ€ - 1 (ruleì„ ì¼œë‘ê¸´ í•˜ì§€ë§Œ, linterê°€ ì‹¤íŒ¨í•˜ì§„ ì•ŠëŠ”ë‹¤.)
- â€œerrorâ€ - 2 (ruleì„ ì¼œë‘ë©°, linterê°€ ì‹¤íŒ¨í•œë‹¤.)

> `@typescript-eslint/eslint-plugin`ì—ì„œ ì§€ì›í•˜ëŠ” rules
> [@typescript-eslint/eslint-plugin](https://www.npmjs.com/package/@typescript-eslint/eslint-plugin)

**Ref** [How to use ESLint with TypeScript | Khalil Stemmler](https://khalilstemmler.com/blogs/typescript/eslint-for-typescript/)

### í•¨ìˆ˜ íŒŒë¼ë¯¸í„°ëŠ” ë°˜ë³€í•œë‹¤ëŠ” ì‚¬ì‹¤ì˜ ì‰¬ìš´ ì˜ˆì‹œ

```jsx
let items = [1, 2, 3];
// Don't force these extra parameters
items.forEach((item, index, array) => console.log(item));
// Should be OK!
items.forEach((item) => console.log(item));
```

ë³´í†µì˜ ê²½ìš° íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ íƒ€ì… ì²´í¬ëŠ” ì´ˆê³¼ ì†ì„±ì„ í—ˆìš©í•˜ì§€ë§Œ(ê³µë³€), í•¨ìˆ˜ì˜ ì¸ì íƒ€ì…ì€ ê·¸ ë°˜ëŒ€ë¡œ ë™ì‘í•œë‹¤. (ë°˜ë³€) `forEach()` ë©”ì„œë“œë¥¼ ë³´ë©´ ì•Œ ìˆ˜ ìˆëŠ”ë°, `item`, `index`, `array` 3ê°€ì§€ì˜ ì¸ìë¥¼ ëª¨ë‘ ì‚¬ìš©í•˜ì§€ ì•Šë”ë¼ë„ `forEach()` í•¨ìˆ˜ì˜ ì½œë°± ì¸ìë¡œ ë„˜ê²¨ì¤„ ìˆ˜ ìˆë‹¤!

**Ref** [Documentation - Type Compatibility](https://www.typescriptlang.org/docs/handbook/type-compatibility.html)

### package-lock.jsonì˜ `lockfileVersion`

- `1`: npm v5ì™€ v6ì—ì„œ ì‚¬ìš©í•˜ëŠ” lockfileVersion
- `2`: npm v7ì—ì„œ ì‚¬ìš©í•˜ëŠ” lockfileVersionìœ¼ë¡œ, v1 lockfilesê³¼ í˜¸í™˜ëœë‹¤.
- `3`: npm v7ì—ì„œ ì‚¬ìš©í•˜ëŠ” lockfileVersionìœ¼ë¡œ, ì´ì „ì˜ ë²„ì „ë“¤ê³¼ í˜¸í™˜ë˜ì§€ ì•ŠëŠ”ë‹¤. `node_modules/.package-lock.json`ì˜ ìˆ¨ê²¨ì§„ lockfileì—ì„œ ì‚¬ìš©ë˜ë©°, npm v6 ì§€ì›ì´ ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•Šì„ ë•Œ npmì˜ ì¶”í›„ ë²„ì „ì—ì„œ ì‚¬ìš©ë  ê²ƒì´ë‹¤.

**Ref**

- [package-lock.jsonì˜ lockfileVersionì— ëŒ€í•´ - Development Notes](https://jopemachine.github.io/2021/11/09/Package-Lock-Json-Lockfile-Version/)
- [package-lock.json | npm Docs](https://docs.npmjs.com/cli/v8/configuring-npm/package-lock-json#lockfileversion)

---

## ì´ê²ƒì €ê²ƒ

- RN í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œì—ëŠ” OSë„ ëª¨í‚¹í•´ì¤˜ì•¼í•œë‹¤. OSë¥¼ ëª¨í‚¹í•˜ì§€ ì•Šìœ¼ë©´ mac ë¡œì»¬ì—ì„œëŠ” iOSë¡œ ì¸ì‹í•˜ì—¬ í†µê³¼í•˜ì§€ë§Œ, CIì—ì„œëŠ” iOSê°€ ì•„ë‹ˆë¼ì„œ Failì´ ë  ìˆ˜ ìˆë‹¤.

- android studioë¡œ ì—ë®¬ë ˆì´í„°ë¥¼ ëŒë¦´ ë•Œ, ê°¤ëŸ­ì‹œ ê¸°ê¸°ì™€ ì—ë®¬ë ˆì´í„° ì‚¬ì´ì¦ˆë¥¼ ë¹„êµí•´ë³´ê³  ì‹¶ë‹¤ë©´ https://developer.samsung.com/galaxy-emulator-skin/galaxy-s.html ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ìŠ¤í‚¨ë„ ë‹¤ìš´ë°›ì•„ì„œ ì—ë®¬ë ˆì´í„°ë¥¼ ê°¤ëŸ­ì‹œì²˜ëŸ¼ ê¾¸ë°€ ìˆ˜ë„ ìˆë‹¤.

- ìŠ¤í¬ë¦° ë¦¬ë”ê°€ í•„ìš”í•  ë•Œ Mac ê¸°ì¤€ - ì‹œìŠ¤í…œ í™˜ê²½ì„¤ì • â†’ ì†ì‰¬ìš´ ì‚¬ìš© â†’ VoiceOver ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

- `nvm use` - í˜„ì¬ í„°ë¯¸ë„ì—ì„œì˜ node ë²„ì „ì„ ë³€ê²½í•˜ëŠ” ëª…ë ¹ì–´ì´ë‹¤. ìƒˆë¡œìš´ í„°ë¯¸ë„ì—ì„œë„ ì§€ì •í•œ node ë²„ì „ì„ ìœ ì§€í•˜ë ¤ë©´ `nvm alias default` ë¡œ ì§€ì •í•´ì•¼ í•œë‹¤.

- uuidëŠ” universally unique identifierì˜ ì•½ìë¡œ, â€˜ë²”ìš© ê³ ìœ  ì‹ë³„ìâ€™ë¥¼ ì˜ë¯¸í•œë‹¤.

- jest ì—ì„œ ì‹¤ì œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì¼ë¶€ë§Œ ëª¨í‚¹í•´ì¤„ ìˆ˜ ìˆë‹¤.

  ```jsx
  // redux mocking
  jest.mock("react-redux", () => {
    const actualRedux = jest.requireActual("react-redux");
    return {
      ...actualRedux,
      useDispatch: jest.fn,
    };
  });
  ```

- `touchstart`, `touchmove`, `touchend` ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ì˜€ì„ ë•Œ `event.preventDefault()`ë¥¼ í˜¸ì¶œí•˜ì—¬ í•´ë‹¹ eventë¥¼ cancelí•˜ë©´ ì´í›„ì˜ `click` ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ([Ref](https://w3c.github.io/touch-events/#mouse-events))

- safari on iOSì—ì„œ ì²´í¬ë°•ìŠ¤ ë¥¼ ë¹ ë¥´ê²Œ í´ë¦­ ì‹œ ì¢Œí‘œê°€ ë³´ì •ë˜ëŠ” ì´ìœ ëŠ”, `dblclick` ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì„¤ì •ë˜ì–´ ìˆê¸° ë•Œë¬¸ì´ë‹¤. (react ì—ì„œëŠ” root elementì— ëª¨ë“  ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•´ë‘ê¸° ë•Œë¬¸ì—, ì˜ë„ì¹˜ì•Šê²Œ í•­ìƒ `dblclick` ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì„¤ì •ë˜ì–´ ìˆë‹¤.) ([Ref](https://github.com/facebook/react/blob/2c8a1452b82b9ec5ebfa3f370b31fda19610ae92/packages/react-dom/src/events/DOMPluginEventSystem.js#L389))

- `jest.mock()`ì˜ 3ë²ˆì§¸ ì¸ìë¡œ `{ virtual: true }` ë¥¼ ì£¼ë©´ mockingí•˜ë ¤ë˜ ëª¨ë“ˆì´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ìƒì— ì¡´ì¬í•˜ì§€ ì•Šì•„ë„ ëª¨í‚¹í•  ìˆ˜ ìˆë‹¤. (ex. RNì—ì„œ native module)

- DOM Treeë¥¼ ìˆœíšŒí•  ìˆ˜ ìˆëŠ” APIê°€ ì¡´ì¬í•œë‹¤. ([Ref](https://developer.mozilla.org/en-US/docs/Web/API/Document/createTreeWalker))

- ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„ëŠ” ìƒí™©ì´ ë³€ê²½ë¨(ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ)ì— ë”°ë¼ ì¢Œì§€ìš°ì§€ ë˜ë©´ ì•ˆëœë‹¤. ì„¤ê³„ ì´ˆê¸°ì—ëŠ” ìƒí™©ì„ ì˜ ëª¨ë¥´ê±°ë‚˜, ë‹¬ë¼ì§ˆ ìˆ˜ ìˆëŠ” ë¶€ë¶„ì´ ë§ì´ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ë‹¤ ì—´ì–´ì£¼ëŠ” í˜•ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ ì¶”í›„ ë³€ê²½ì— ì·¨ì•½í•˜ì§€ ì•Šê²Œë” ì„¤ê³„í•´ì•¼í•œë‹¤.

- storybookì€ preview iframeì„ ì…ë§›ëŒ€ë¡œ ë‹¤ë£° ìˆ˜ ìˆê²Œ htmlì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì§€ì›í•´ì¤€ë‹¤. `.storybook` í´ë” ì•„ë˜ì— preview-body.html ê³¼ preview-head.html ì„ ë§Œë“¤ì–´ì„œ ì ì ˆíˆ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

- storybook ì—ì„œ addons panelì´ ì‚¬ë¼ì ¸ ì•ˆë³´ì´ëŠ” ê²½ìš°ê°€ cacheë¡œ ë‚¨ì•„ì„œ, controls ë“± ì¸í„°ë ‰í‹°ë¸Œë¥¼ ë‹¤ë£° ë•Œ ë¶ˆí¸í•´ì§ˆ ìˆ˜ ìˆëŠ” ìƒí™©ì´ ìˆë‹¤. ì´ëŠ” ìŠ¤í† ë¦¬ë¶ì˜ ê³ ì§ˆì ì¸ ë¬¸ì œì´ë©° `localStorage.clear()`ë¥¼ í†µí•´ í•´ê²°í•  ìˆ˜ ìˆë‹¤. storybookì˜ preview-body.htmlì— scriptë¡œ localStorage.clear() í•´ì£¼ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•˜ë©´ ì´ ë™ì‘ì„ ìë™í™”í•  ìˆ˜ ìˆë‹¤.

- `@storybook/addon-viewport` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ê¸°ë³¸ì ì¸ (ê°¤ëŸ­ì‹œ, ì•„ì´í°, íƒœë¸”ë¦¿ ê¸°ì¢…ë³„) ëª¨ë°”ì¼ viewì—ì„œ ë””ìì¸ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì¶”ê°€ì ìœ¼ë¡œ ì‚¬ì´ì¦ˆë¥¼ ì»¤ìŠ¤í…€í•´ì„œ ë“±ë¡í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ë„ í¬í•¨ë˜ì–´ìˆë‹¤.

- CRA í™˜ê²½ì—ì„œ ESBuild ë¥¼ ì‚¬ìš©í•˜ë©´(craco-esbuild plugin) babel ì„ esbuild ë¡œ ëŒ€ì²´í•˜ê¸° ë•Œë¬¸ì— babel êµ¬ì„±ì´ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. [issue](https://github.com/pradel/create-react-app-esbuild/issues/61)
  ì§ˆë¬¸ì— ëŒ€í•œ ë‹µì— ë”°ë¥´ë©´ `babel-loader` ì™€ `esbuild-loader` ë¥¼ ë™ì‹œì— ì‚¬ìš©í•˜ëŠ” ì‹ ë°•í•œ [ë°©ë²•](https://github.com/privatenumber/esbuild-loader/issues/99)ì´ ìˆëŠ”ë°, `esbuild` ì‚¬ìš©ì˜ ì†ë„ ì´ì ì„ ëˆ„ë¦´ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ê¶Œì¥í•˜ì§€ ì•ŠëŠ” ë°©ë²•ì´ë¼ê³  í•œë‹¤.

---

## ê¸°íƒ€

### ESBuild

ì°¨ì„¸ëŒ€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë²ˆë“¤ëŸ¬ë¡œ, ë¬¸ì„œì— ë”°ë¥´ë©´ webpack5 ë³´ë‹¤ 125ë°° ë¹ ë¥´ë‹¤ê³  í•œë‹¤. (5^3â€¦? ğŸ˜²)

**Ref** https://github.com/evanw/esbuild

### Playwright

ëª¨ë“  ë¸Œë¼ìš°ì €/í”Œë«í¼ì„ í•˜ë‚˜ì˜ APIë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ”(?!) e2e í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‹¤.

**Ref** https://playwright.dev/

### esbuild-kit/tsx

ts-node ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ë„êµ¬ë¡œ, esbuild ë¡œ ì»´íŒŒì¼ í•˜ê¸° ë•Œë¬¸ì— ë¹ ë¥´ë‹¤.

**Ref** https://github.com/esbuild-kit/tsx

### esbuild-loader

ì›¹íŒ© ë‚´ ë¹Œë“œ ì†ë„ í–¥ìƒì„ ìœ„í•œ íˆ´ì´ë‹¤. [ESBuildMinifyPlugin](https://github.com/privatenumber/esbuild-loader#css-assets) ì´ ë‚´ì¥ ë˜ì–´ìˆì–´ TerserPlugin, CSSMinimizerPlugin ë“± íŒŒì¼ ì¶•ì†Œë¥¼ ìœ„í•´ ì§ì ‘ ì‚¬ìš©í–ˆë˜ í”ŒëŸ¬ê·¸ì¸ë“¤ì„ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤.

### next.js 12.2

ì•„ì§ Nextë¥¼ ì œëŒ€ë¡œ ì¨ë³¸ ì•Šì•˜ì§€ë§Œ~
ë¯¸ë“¤ì›¨ì–´ë¥¼ ì—¬ëŸ¬ ê°œ ì •ì˜í•  ìˆ˜ ì—†ëŠ” ê½¤ í° ë³€í™”ê°€ ìˆì—ˆë‹¤ê³  í•œë‹¤!

**Ref** https://nextjs.org/blog/next-12-2

### Fresh 1.0

Frech stable ì²« ë²ˆì§¸ ë²„ì „ìœ¼ë¡œ, Denoë¥¼ ìœ„í•œ í’€ìŠ¤íƒ ì›¹ í”„ë ˆì„ì›Œí¬ë¼ê³  í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ë³´ë‚´ì§€ ì•ŠëŠ”ë‹¤ëŠ”ë°, ì •ì²´ê°€ ë­ì§€?

CSRì€ ìƒë‹¹íˆ ë¬´ê²ê³ , ëª‡ëª‡ ìƒˆë¡œìš´ í”„ë ˆì„ì›Œí¬ë“¤ì€ SSRì„ ì§€ì›í•œë‹¤. í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ëª¨ë“  ë Œë”ë§ì„ í´ë¼ì´ì–¸íŠ¸ì— ìœ„ì„í•˜ê¸° ë•Œë¬¸ì— UX ê²½í—˜ì´ ì¢‹ì§€ ì•Šë‹¤.

FreshëŠ” í´ë¼ì´ì–¸íŠ¸ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì „ë‹¬í•˜ì§€ ì•ŠëŠ”ë‹¤! ëŒ€ë¶€ë¶„ì˜ ë‚´ìš©ì€ ì„œë²„ì—ì„œ ë Œë”ë§ì´ ëë‚˜ë©°, í´ë¼ì´ì–¸íŠ¸ëŠ” ì•„ì£¼ ì‘ì€ ì–‘ì˜ ìƒí˜¸ì‘ìš©ë§Œ ë§¡ê²Œ ëœë‹¤. ì„œë²„ì—ì„œëŠ” JIT ë°©ì‹ì˜ ë Œë”ë§ì„ ì œê³µí•˜ë©°, Freshë¥¼ ì´ìš©í•˜ì—¬ ì„œë²„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì½”ë“œë„ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” **Islands**ë¼ê³  ë¶ˆë¦¬ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ì´ë“¤ì€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ re-hydrationëœë‹¤.

Preact(!)ì™€ JSXë¥¼ ì‚¬ìš©í•˜ëŠ” ìƒë‹¹íˆ fancyí•œ í”„ë ˆì„ì›Œí¬ì´ë©°, ë¼ìš°íŒ…ì€ Next.jsë¥¼ í‰ë‚´ë‚¸, ë¯¹ìŠ¤ë©ì–´ë¦¬ê°™ì•„ ë³´ì¸ë‹¤.

**Ref**

- https://deno.com/blog/fresh-is-stable
- https://fresh.deno.dev/docs/introduction

### stackoverflow 2022

**Ref** https://survey.stackoverflow.co/2022/

### JSconf 2022

ë…¸ë“¤ì„¬~ ì§± ê°€ê¹ë‹¤ ğŸ˜†

**Ref** https://2022.jsconf.kr/ko

---

## ë§ˆë¬´ë¦¬

ë„ˆì–´ì–´ì–´ë¬´ ë¥ë‹¤! ê°€ ì•„ë‹ˆê³  ìŠµí•˜ë‹¤! ë°–ì— ê±°ì˜ ë‚˜ê°€ì§€ ì•ŠëŠ”ë°ë„, ì ê¹ë§Œ ë‚˜ê°€ëŠ” ìˆœê°„ ë°”ë¡œ ì§‘ ê°€ê³  ì‹¶ì–´ì§„ë‹¤. ì–´ì©” ìˆ˜ ì—†ëŠ” ì—¬ë¦„â€¦

ì˜¤ëœë§Œì— ë©‹ì‚¬ ìš´ì˜ì§„ë“¤ì„ ë§Œë‚¬ë‹¤. ë‹¤ë“¤ ì–´ì—¿í•œ ì§ì¥ì¸ì´ ë˜ì–´ ë¹„ìŠ·í•œ ê³ ë¯¼ë“¤ ìƒê°ë“¤ì„ ë‚˜ëˆ„ê³  ìˆì—ˆë‹¤. ê·¸ë˜ë„ ì—¬ì „íˆ ì´ˆë”©ê°™ì€ ìƒê°ê³¼ ë§ê³¼ ì›ƒìŒí¬ì¸íŠ¸ë“¤ì´ ë‚¨ì•„ìˆì–´ì„œ ì¦ê±°ì› ë˜ ì‹œê°„ â˜ºï¸
