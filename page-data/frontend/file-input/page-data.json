{"componentChunkName":"component---src-templates-blog-post-js","path":"/frontend/file-input/","result":{"data":{"site":{"siteMetadata":{"title":"ziglog","author":"zigsong","lang":"en"}},"markdownRemark":{"id":"e4a90308-5873-515d-8bdc-8a2cf7d4d1f5","excerpt":"ë‹¤ë£¨ëŠ” ë²• ë¦¬ì•¡íŠ¸ ì•±ì—ì„œ ë‹¤ë£¨ê¸° ì–´ë ¤ìš´ ê²ƒ ì¤‘ í•˜ë‚˜ê°€ ë°”ë¡œ formì´ë‹¤. form ì•ˆì˜ input ê°’ì˜ ìƒíƒœë¥¼ ì¼ì¼íˆ ê´€ë¦¬í•´ì£¼ì–´ì•¼ í•˜ê³ , ê°ê° validationê¹Œì§€ í•´ì¤€ë‹¤ë©´ ë”ìš± ë³µì¡í•´ì§„ë‹¤. ê·¸ë˜ì„œ react-hook-formì´ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í–ˆë‹¤. í•œë²ˆì— formâ€¦","html":"<p><code class=\"language-text\">&lt;input type=\"file\" /></code> ë‹¤ë£¨ëŠ” ë²•</p>\n<!-- more -->\n<hr>\n<p>ë¦¬ì•¡íŠ¸ ì•±ì—ì„œ ë‹¤ë£¨ê¸° ì–´ë ¤ìš´ ê²ƒ ì¤‘ í•˜ë‚˜ê°€ ë°”ë¡œ formì´ë‹¤. form ì•ˆì˜ input ê°’ì˜ ìƒíƒœë¥¼ ì¼ì¼íˆ ê´€ë¦¬í•´ì£¼ì–´ì•¼ í•˜ê³ , ê°ê° validationê¹Œì§€ í•´ì¤€ë‹¤ë©´ ë”ìš± ë³µì¡í•´ì§„ë‹¤.</p>\n<p>ê·¸ë˜ì„œ <strong>react-hook-form</strong>ì´ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í–ˆë‹¤. í•œë²ˆì— form ì•ˆì˜ ëª¨ë“  inputë“¤ì˜ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆì—ˆì§€ë§Œ, file íƒ€ì…ì˜ inputì„ ê°€ì ¸ì˜¤ëŠ” ì¼ì€ ë§Œë§Œì¹˜ ì•Šì•˜ë‹¤. ë˜ ë””ìì¸ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•œ íŒŒì¼ ì„ íƒ inputì—ì„œ íŒŒì¼ì´ ì„ íƒë˜ì—ˆì„ ë•Œ ë°”ë¡œ ì˜†ì— ì„ íƒëœ íŒŒì¼ì˜ ì´ë¦„ì´ ëœ¨ê²Œë” ë§Œë“¤ì–´ì•¼ í–ˆë‹¤.</p>\n<blockquote>\n<p>íŒŒì¼ íƒ€ì…ì˜ ì¸í’‹ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µì—ì„œ ê´€ë¦¬ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. íŒŒì¼ ì„ íƒì„ ì·¨ì†Œí•  ìˆ˜ë„ ìˆê³  <code class=\"language-text\">FileList</code> ê°ì²´ë„ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. (<a href=\"https://react-hook-form.com/kr/api/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ì¶œì²˜: react-hook-form ê³µì‹ ë¬¸ì„œ</a>)</p>\n</blockquote>\n<p>ìœ„ì™€ ê°™ì€ ì´ìœ ë¡œ <strong>react-hook-form</strong>ì„ ì‚¬ìš©í•œ ë‹¤ë¥¸ inputë“¤ê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ file inputì„ ì‘ì„±í•  ìˆ˜ ì—†ì—ˆë‹¤. ê·¸ë¦¬ê³  ì•„ë˜ ì´ìœ ë¡œ <code class=\"language-text\">value</code>ì™€ <code class=\"language-text\">onChange</code> ë“±ì„ ì´ìš©í•˜ì—¬ file inputì— ë“¤ì–´ì˜¨ ê°’ì„ ë°”ë¡œ ê°€ì ¸ì˜¤ê¸°ë„ í˜ë“¤ì—ˆë‹¤.</p>\n<blockquote>\n<p>Reactì—ì„œ <code class=\"language-text\">&lt;input type=\"file\" /></code>ì€ í”„ë¡œê·¸ë˜ë°ì ìœ¼ë¡œ ê°’ì„ ì„¤ì • í•  ìˆ˜ ì—†ê³  ì‚¬ìš©ìë§Œì´ ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•­ìƒ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤. (<a href=\"https://ko.reactjs.org/docs/uncontrolled-components.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ì¶œì²˜ - react ê³µì‹ ë¬¸ì„œ</a>)</p>\n</blockquote>\n<p>ì‹¤ì œë¡œ React ê³µì‹ë¬¸ì„œì—ì„œ file inputì€ ì•„ë˜ì™€ ê°™ì´ <code class=\"language-text\">ref</code>ë¥¼ ê±¸ì–´ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ë¡œ ì‚¬ìš©í•˜ê³  ìˆë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">FileInput</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React</span><span class=\"token punctuation\">.</span>Component <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleSubmit <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleSubmit</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fileInput <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">handleSubmit</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Selected file - </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fileInput<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">onSubmit</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleSubmit<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          Upload file:\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fileInput<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Submit</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì •ë§ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ë°–ì— ë‹µì´ ì—†ì„ê¹Œ? ğŸ¤”</p>\n<p>ê³ ë¯¼í•˜ë˜ ì¤‘ <strong>react-hook-form</strong>ì˜ <code class=\"language-text\">watch</code>ë¼ëŠ” ë©”ì„œë“œë¥¼ ë°œê²¬í–ˆë‹¤.\n<code class=\"language-text\">watch</code>ëŠ” ë§ ê·¸ëŒ€ë¡œ â€˜ì§€ì¼œë³´ê³ â€™ ìˆëŠ” ê²ƒê³¼ ê°™ë‹¤. ì¸ìë¡œ ì›í•˜ëŠ” input ì´ë¦„ì„ ë„£ì–´ì£¼ë©´, í•´ë‹¹ inputì˜ ê°’ì„ ê´€ì°°í•˜ì—¬ ê°’ì´ ë°”ë€” ë•Œ ì—…ë°ì´íŠ¸ëœ ê°’ì„ ì¦‰ì‹œ ì•Œì•„ì±Œ ìˆ˜ ìˆë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// Upload.tsx</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Upload</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> register<span class=\"token punctuation\">,</span> handleSubmit<span class=\"token punctuation\">,</span> setValue<span class=\"token punctuation\">,</span> watch <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useForm</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>FeedToUpload<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> watchThumbnailImage <span class=\"token operator\">=</span> <span class=\"token function\">watch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"thumbnailImage\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// ...</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">FileInput</span></span>\n      <span class=\"token attr-name\">fileName</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>watchThumbnailImage<span class=\"token operator\">?.</span>name<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n        <span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"thumbnailImage\"</span><span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">.</span>currentTarget<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">/></span></span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// FileInput.tsx</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">FileInput</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> fileName<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>options <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> Props<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Styled.Root</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Styled.Label</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>options<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">íŒŒì¼ ì„ íƒ</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Styled.Label</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Styled.FileNameText</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>fileName <span class=\"token operator\">||</span> <span class=\"token string\">\"íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.\"</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Styled.FileNameText</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Styled.Root</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","timeToRead":2,"frontmatter":{"title":"file input ë‹¤ë£¨ëŠ” ë²•","date":"July 18, 2021","description":null,"tags":["frontend"],"disqus":null},"fields":{"langKey":"en"}}},"pageContext":{"slug":"/frontend/file-input/","previous":{"fields":{"slug":"/react/react-query-debounce/","langKey":"en","directoryName":"react"},"frontmatter":{"date":"July 24, 2021","description":null,"title":"react queryì—ì„œ debounce ì“°ê¸°","tags":["frontend"]}},"next":{"fields":{"slug":"/react/forwardRef/","langKey":"en","directoryName":"react"},"frontmatter":{"date":"July 18, 2021","description":null,"title":"ì™œ forwardRefë¥¼ ì‚¬ìš©í• ê¹Œ?","tags":["react"]}},"previousInSameTag":{"fields":{"slug":"/react/react-query-debounce/","langKey":"en","directoryName":"react"},"frontmatter":{"date":"July 24, 2021","description":null,"title":"react queryì—ì„œ debounce ì“°ê¸°","tags":["frontend"]}},"nextInSameTag":{"fields":{"slug":"/frontend/babelrc-and-webpackconfig/","langKey":"en","directoryName":"frontend"},"frontmatter":{"date":"July 11, 2021","description":null,"title":"babelrcì™€ webpack.config","tags":["frontend"]}},"translationsLink":[]}},"staticQueryHashes":["1522010811","1615650028","2894998521","3765107650","683610688"]}