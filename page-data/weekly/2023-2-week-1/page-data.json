{"componentChunkName":"component---src-templates-blog-post-js","path":"/weekly/2023-2-week-1/","result":{"data":{"site":{"siteMetadata":{"title":"ziglog","author":"zigsong","lang":"en"}},"markdownRemark":{"id":"4335e0aa-92a0-5e49-94db-acd87d90070e","excerpt":"코드리뷰는 재미써 배워가기 gitlab ci 이모저모 job과 job 간에 파일을 공유하려면 job artifacts - dependencies에 가져올 다른 job artifact를 넣어주어야 한다. gitlab ci의 파이프라인은 두 가지 종류가 있다 MR…","html":"<p>코드리뷰는 재미써</p>\n<!-- more -->\n<hr>\n<h2 id=\"배워가기\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%EC%9B%8C%EA%B0%80%EA%B8%B0\" aria-label=\"배워가기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>배워가기</h2>\n<h3 id=\"gitlab-ci-이모저모\" style=\"position:relative;\"><a href=\"#gitlab-ci-%EC%9D%B4%EB%AA%A8%EC%A0%80%EB%AA%A8\" aria-label=\"gitlab ci 이모저모 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gitlab ci 이모저모</h3>\n<ul>\n<li>\n<p>job과 job 간에 파일을 공유하려면 job artifacts - dependencies에 가져올 다른 job artifact를 넣어주어야 한다.</p>\n</li>\n<li>\n<p>gitlab ci의 파이프라인은 두 가지 종류가 있다</p>\n<ul>\n<li>MR 파이프라인과 브랜치 파이프라인이다</li>\n<li>MR 파이프라인을 트리거하기 위해서는, 파이프라인 rules의 조건(if)에 <code class=\"language-text\">$CI_PIPELINE_SOURCE == 'merge_request_event'</code>  를 명시해주어야 한다.</li>\n</ul>\n</li>\n</ul>\n<p><strong>Ref</strong></p>\n<ul>\n<li><a href=\"https://docs.gitlab.com/ee/ci/pipelines/job_artifacts.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://docs.gitlab.com/ee/ci/pipelines/job_artifacts.html</a></li>\n<li><a href=\"https://docs.gitlab.com/ee/ci/yaml/index.html#dependencies\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://docs.gitlab.com/ee/ci/yaml/index.html#dependencies</a></li>\n</ul>\n<h3 id=\"테스트\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스트</h3>\n<ul>\n<li>\n<p>테스트의 준비-실행-검증 구절에서 보통 실행 구절은 한 줄이어야 한다. 실행 구절이 여러 줄이면, 단일 작업을 수행하는 데 여러 개의 메서드 호출이 필요하다는 것이다. 이는 API에 문제가 있는 것이며, 클라이언트에서 모순이 발생할 수 있다.</p>\n</li>\n<li>\n<p>jest에서는 <code class=\"language-text\">describe.each()</code> 메서드로 테스트를 매개변수화할 수 있다</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">describe<span class=\"token punctuation\">.</span><span class=\"token function\">each</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".add(%i, %i)\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> expected</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">returns </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>expected<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span>expected<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">returned value not be greater than </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>expected<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>not<span class=\"token punctuation\">.</span><span class=\"token function\">toBeGreaterThan</span><span class=\"token punctuation\">(</span>expected<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<p><strong>Ref</strong> <a href=\"https://jestjs.io/docs/api#describeeachtablename-fn-timeout\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://jestjs.io/docs/api#describeeachtablename-fn-timeout</a></p>\n<h3 id=\"react-query-queryclient의-위치\" style=\"position:relative;\"><a href=\"#react-query-queryclient%EC%9D%98-%EC%9C%84%EC%B9%98\" aria-label=\"react query queryclient의 위치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>react-query queryClient의 위치</h3>\n<p>SSR에서 react-query를 사용해주기 위해서, 서버에서 query를 prefetch하고 클라이언트에서 hydration해주는 방법을 선택했었다. query hydration을 사용하기 위해서는 react-query 공식 문서에서 <code class=\"language-text\">QueryClient</code>를 리액트의 상태로 관리하여 데이터가 서로 다른 유저와 요청 사이에 공유되지 않도록 작성하는 방법을 권장하고 있었다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// _app.jsx</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  Hydrate<span class=\"token punctuation\">,</span>\n  QueryClient<span class=\"token punctuation\">,</span>\n  QueryClientProvider<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@tanstack/react-query'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">MyApp</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> pageProps <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>queryClient<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QueryClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">QueryClientProvider</span></span> <span class=\"token attr-name\">client</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>queryClient<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Hydrate</span></span> <span class=\"token attr-name\">state</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>pageProps<span class=\"token punctuation\">.</span>dehydratedState<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Component</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>pageProps<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Hydrate</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">QueryClientProvider</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span></code></pre></div>\n<p>그런데… useQuery를 호출하는 컴포넌트들에서 무한 API 호출이 발생하는 버그가 터졌다 😇</p>\n<p>이유와 해결책을 살펴보자.</p>\n<p>react-query의 queryClient는 일종의 옵저버 패턴으로, 내부에 query 데이터에 대한 캐시값이나 클라이언트 내의 정보를 담고 있다. API를 호출하게 되면 queryClient에 캐시 정보와 여러 정보를 업데이트 하게 된다. 그리고 client의 값이 변경될 때마다 컴포넌트는 새로 mount한다.</p>\n<p>위 코드에서 queryClient는 <code class=\"language-text\">useState</code>로 관리되기 때문에 상태를 변경할 수 없는 상태이므로, <code class=\"language-text\">useQuery</code>로 호출한 상태의 queryClient를 불러오지 못한다. react-query 내부적으로 제대로 mount가 안되고, API를 호출했으나 응답이 오지 않으니 지속적으로 API를 호출하게 된다.</p>\n<p>어느 순간 애플리케이션에서 SSR hydration을 사용하지 않게 되었는데, <code class=\"language-text\">QueryClient</code>는 여전히 <code class=\"language-text\">useState</code>로 관리되고 있어서 발생한 문제였다.</p>\n<p>그래서 다음과 같이 queryClient를 React 컴포넌트 밖으로 빼버렸다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>queryClient<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span>  <span class=\"token keyword\">new</span> <span class=\"token class-name\">QueryClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">defaultOptions</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">queries</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">suspense</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">useErrorBoundary</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">retry</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> pageProps <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> AppProps</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">...</span></code></pre></div>\n<h3 id=\"nestjs-httpexception-exceptionfilter\" style=\"position:relative;\"><a href=\"#nestjs-httpexception-exceptionfilter\" aria-label=\"nestjs httpexception exceptionfilter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nest.js HttpException, ExceptionFilter</h3>\n<p>Nest.js는 앱 전체에서 처리되지 않은 예외처리들을 담당하는 <strong>exceptions layer</strong>가 있다. 이 레이어는 처리되지 않은 애플리케이션 코드를 잡아 사용자 친화적인 응답으로 바꿔준다.</p>\n<p>이 동작은 HttpException 타입의 예외를 처리하는 global exception filter로 수행된다. 알 수 없는 형태의 에러라면, 빌트인 exception filter는 500 Internal server error를 JSON 형식으로 반환한다.</p>\n<p>다음처럼 기본으로 제공하는 <code class=\"language-text\">HttpException</code>을 사용할 수도 있고,</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">@<span class=\"token function\">Get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">async</span> <span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HttpException</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Forbidden'</span><span class=\"token punctuation\">,</span> HttpStatus<span class=\"token punctuation\">.</span><span class=\"token constant\">FORBIDDEN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">HttpException</code>을 상속하여 커스텀 Exception을 사용할 수도 있다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ForbiddenException</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpException</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Forbidden\"</span><span class=\"token punctuation\">,</span> HttpStatus<span class=\"token punctuation\">.</span><span class=\"token constant\">FORBIDDEN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">HttpException</code> 뿐만 아니라 exception layer 전반을 제어하기 위해 <strong>Exception filter</strong>를 사용할 수도 있다. Exception filter를 이용하면 에러 발생 시 로깅 등의 추가적인 작업을 할 수 있다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ExceptionFilter<span class=\"token punctuation\">,</span> Catch<span class=\"token punctuation\">,</span> ArgumentsHost<span class=\"token punctuation\">,</span> HttpException <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/common'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Request<span class=\"token punctuation\">,</span> Response <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'express'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">Catch</span><span class=\"token punctuation\">(</span>HttpException<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HttpExceptionFilter</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ExceptionFilter</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">catch</span><span class=\"token punctuation\">(</span>exception<span class=\"token operator\">:</span> HttpException<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">host</span><span class=\"token operator\">:</span> ArgumentsHost<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> ctx <span class=\"token operator\">=</span> host<span class=\"token punctuation\">.</span><span class=\"token function\">switchToHttp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> ctx<span class=\"token punctuation\">.</span>getResponse<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Response</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">();\n    const request = ctx.getRequest</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Request</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">();\n    const status = exception.getStatus();\n\n    response\n      .status(status)\n      .json(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">statusCode</span><span class=\"token operator\">:</span> status<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">timestamp</span><span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toISOString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> request<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token plain-text\">);\n  }\n}</span></code></pre></div>\n<p>컨트롤러에서 사용할 땐 이렇게</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">@<span class=\"token function\">Post</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n@<span class=\"token function\">UseFilters</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">HttpExceptionFilter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">async</span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">@<span class=\"token function\">Body</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> createCatDto<span class=\"token operator\">:</span> CreateCatDto</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ForbiddenException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>또는 앱 전역에서 globalFilter로 사용할 수 있다</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">bootstrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> NestFactory<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>AppModule<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  app<span class=\"token punctuation\">.</span><span class=\"token function\">useGlobalFilters</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">HttpExceptionFilter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">bootstrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Ref</strong> <a href=\"https://docs.nestjs.com/exception-filters\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://docs.nestjs.com/exception-filters</a></p>\n<h3 id=\"nestjs-logger\" style=\"position:relative;\"><a href=\"#nestjs-logger\" aria-label=\"nestjs logger permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nest.js logger</h3>\n<p>Nest는 앱 부트스트랩 및 여러 다른 예외 처리의 상황에서 문자열 기반의 로거를 제공한다. 이 기능은 nest에 내장된 <code class=\"language-text\">Logger</code> class를 사용한다.</p>\n<p>cf) 더 향상된 로깅을 위해 Node.js의 로깅 패키지인 <a href=\"https://github.com/winstonjs/winston\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Winston</a>을 사용할 수도 있다.</p>\n<p>nest에서 제공하는 <code class=\"language-text\">LoggerService</code>를 상속하여 커스텀 로거를 만들 수도 있다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> LoggerService <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@nestjs/common'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyLogger</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">LoggerService</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">message</span><span class=\"token operator\">:</span> any<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>optionalParams<span class=\"token operator\">:</span> any<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">message</span><span class=\"token operator\">:</span> any<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>optionalParams<span class=\"token operator\">:</span> any<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">message</span><span class=\"token operator\">:</span> any<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>optionalParams<span class=\"token operator\">:</span> any<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  debug<span class=\"token operator\">?</span><span class=\"token punctuation\">(</span>message<span class=\"token operator\">:</span> any<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>optionalParams<span class=\"token operator\">:</span> any<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  verbose<span class=\"token operator\">?</span><span class=\"token punctuation\">(</span>message<span class=\"token operator\">:</span> any<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>optionalParams<span class=\"token operator\">:</span> any<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Ref</strong> <a href=\"https://docs.nestjs.com/techniques/logger\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://docs.nestjs.com/techniques/logger</a></p>\n<h3 id=\"vanilla-extract\" style=\"position:relative;\"><a href=\"#vanilla-extract\" aria-label=\"vanilla extract permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vanilla Extract</h3>\n<p>Vanilla Extract는 타입스크립트를 지원하는 zero-runtime 스타일시트로, 타입스크립트를 전처리기로 사용하여 빌드 타임에 타입 안정적인 정적 CSS 파일을 생성한다.</p>\n<ul>\n<li>타입스크립트로 타입 안정성을 갖춘 정적 CSS 생성</li>\n<li>global theme이나 여러 개의 theme을 만들 수 있다.</li>\n<li>프레임워크에 종속적이지 않다.</li>\n<li>익스텐션에도 사용될 수 있다.</li>\n</ul>\n<p>파일 확장자명이 <code class=\"language-text\">.css.ts</code>로 끝나는 건 신기하다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> style <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@vanilla-extract/css\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> className <span class=\"token operator\">=</span> <span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  display<span class=\"token operator\">:</span> <span class=\"token string\">\"flex\"</span><span class=\"token punctuation\">,</span>\n  flexDirection<span class=\"token operator\">:</span> <span class=\"token string\">\"column\"</span><span class=\"token punctuation\">,</span>\n  selectors<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">\"&amp;:nth-child(2n)\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      background<span class=\"token operator\">:</span> <span class=\"token string\">\"aliceblue\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"@media\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">\"screen and (min-width: 768px)\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      flexDirection<span class=\"token operator\">:</span> <span class=\"token string\">\"row\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Ref</strong> <a href=\"https://vanilla-extract.style/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://vanilla-extract.style/</a></p>\n<h3 id=\"fetch\" style=\"position:relative;\"><a href=\"#fetch\" aria-label=\"fetch permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>fetch</h3>\n<p>Fetch API를 사용하지 못하는 환경이 있다.</p>\n<ul>\n<li>Browsers: Opera Mini &#x26; IE</li>\n<li>Server: Node v17 or lower</li>\n</ul>\n<p>만약 sdk나 라이브러리를 만들 때 Fetch API가 필요하다면, fetch polyfill을 굳이 구현할 필요는 없다. 사용하는 쪽에서 fetch를 사용하지 않을 수도 있기 때문에, 필요 시 라이브러리를 사용하는 쪽에서 구현하는 것이 더 낫다.</p>\n<p>또한 만약 라이브러리에서 특정 polyfill(node-fetch)들을 디펜던시로 가지고있다면 node가 아닌 deno, bun 등의 다른 런타임에서 문제를 일으킬 수 있다.</p>\n<h3 id=\"용어\" style=\"position:relative;\"><a href=\"#%EC%9A%A9%EC%96%B4\" aria-label=\"용어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>용어</h3>\n<ul>\n<li>\n<p><strong>DPR</strong>, Device Pixel Ratio 기기 픽셀 비율</p>\n<ul>\n<li>화소밀도(pixel density)를 표현하는 단위로, 단위 길이 안에 존재하는 픽셀의 개수를 상대적으로 나타내는 단위 (1x, 2x, 3x)</li>\n</ul>\n</li>\n<li>\n<p><strong>Alpha Compositing</strong> 알파 채널 기법</p>\n<ul>\n<li>png 에서 사용하는 이미지 변환 기법으로, 핵심 이미지 레이어를 제외한 배경 이미지 레이어를 제거하여 전체 이미지를 투명하게 만들 수 있다.</li>\n</ul>\n</li>\n<li>\n<p><strong>Raster graphics</strong> 래스터 이미지</p>\n<ul>\n<li>작은 점을 무수히 찍어 만든 이미지로, 사이즈가 커지면 그만큼의 추가정보가 필요해서 확장성이 떨어진다.</li>\n</ul>\n</li>\n<li>\n<p><strong>Art direction</strong></p>\n<ul>\n<li>같은 이미지의 크기만 다르게 하는 것이 아니라 이미지의 특징이나 가치가 기기 특성에 따라 표현되도록 하는 정교한 작업</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"배포전-테스트하기-npm-pack\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%ED%8F%AC%EC%A0%84-%ED%85%8C%EC%8A%A4%ED%8A%B8%ED%95%98%EA%B8%B0-npm-pack\" aria-label=\"배포전 테스트하기 npm pack permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>배포전 테스트하기 (npm pack)</h3>\n<ol>\n<li>배포할 패키지 빌드 <code class=\"language-text\">npm run build</code></li>\n<li>배포할 패키지 패킹 <code class=\"language-text\">npm pack</code></li>\n</ol>\n<ul>\n<li>tgz 압축파일이 만들어진다.</li>\n</ul>\n<ol start=\"3\">\n<li>패키지를 사용할 레포로 이동하기</li>\n<li>tgz 경로 지정해서 설치하기 <code class=\"language-text\">npm i {tgz파일경로}</code></li>\n</ol>\n<ul>\n<li>이때 패키지가 변경됐는지 구분이 어렵다면 README.md 같은 곳에 표식을 남겨둔다.</li>\n</ul>\n<hr>\n<h2 id=\"이것저것\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EA%B2%83%EC%A0%80%EA%B2%83\" aria-label=\"이것저것 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이것저것</h2>\n<ul>\n<li>객체지향 프로그래밍과 함수형 프로그래밍\n<ul>\n<li>객체지향 프로그래밍에서 추상화의 단위가 클래스라면 함수형 프로그래밍에서 추상화 단위는 함수다.</li>\n<li>객체지향 프로그래밍에서 협업의 방법이 참조나 이벤트 등을 통한 연결이라면 함수형 프로그래밍에서의 협업 방법은 함수의 인자와 결과값이다.</li>\n</ul>\n</li>\n<li><code class=\"language-text\">MouseEvent.shiftKey</code>\n<ul>\n<li>마우스 이벤트에서 shiftKey를 눌렀는지 알 수 있다.</li>\n<li>💡꿀팁! shift + 마우스를 이용하면 텍스트 드래그를 좀더 쉽게 할 수 있다. 커서에서부터 shift를 누르고 클릭한 지점까지 선택된다.</li>\n</ul>\n</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">requestIdleCallback()</a>\n<ul>\n<li>브라우저의 idle 타입(태스크 큐에 작업이 없을 때) callback으로 전달받은 함수를 실행한다.</li>\n<li>우선순위가 낮은 작업을 실행하고자 할 때 사용한다.</li>\n</ul>\n</li>\n<li>storybook v.7\n<ul>\n<li>storybook ver 7부터 내부 빌드툴이 esbuild로 변경되었다. (원래는 webpack이었다.)</li>\n<li>storybook은 preview와 app manager로 나눌 수 있는데, 7부터는 app-manager를 pre-bundle하여 더욱 빠르다.</li>\n</ul>\n</li>\n<li>Github에서는 프로젝트를 스캔해서 문제가 있는 버전의 패키지를 사용하면 알람을 보내준다. (<a href=\"https://github.com/dependabot\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Dependabot</a>)</li>\n<li>Github <a href=\"https://codeql.github.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CodeQL</a>은 코드를 정적으로 분석하여 취약점이 있다면 안내해준다.\n<ul>\n<li>CWE(Common Weakness Enumeration)을 찾아서 해결해준다고 한다.</li>\n<li>오픈소스에서는 무료로 사용할 수 있으며, (프로젝트 > Settings > Code security and analysis > Code Settings), Typescript도 사용 가능하다.</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"기타공유\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80%EA%B3%B5%EC%9C%A0\" aria-label=\"기타공유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기타공유</h2>\n<h3 id=\"www상-유통되는-컨텐츠-언어-비율\" style=\"position:relative;\"><a href=\"#www%EC%83%81-%EC%9C%A0%ED%86%B5%EB%90%98%EB%8A%94-%EC%BB%A8%ED%85%90%EC%B8%A0-%EC%96%B8%EC%96%B4-%EB%B9%84%EC%9C%A8\" aria-label=\"www상 유통되는 컨텐츠 언어 비율 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>WWW상 유통되는 컨텐츠 언어 비율</h3>\n<p>영어가 약 60%, 한국어가 1% 남짓으로 나름 많다.</p>\n<p>천재만재 인도 개발자들이 많을 줄 알았는데, Hindi는 0.1%밖에 안 된다. (근데 인도어가 ‘Indian’이 아니고 ‘Hindi’라는 것도 처음 알았다.) 유튜브만 많이 하시나보다.</p>\n<p><strong>Ref</strong> <a href=\"https://w3techs.com/technologies/overview/content_language\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://w3techs.com/technologies/overview/content_language</a></p>\n<hr>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>이번주도 신규 프로젝트 코드리뷰 열심히 하고 😎 주말에 알차게 놀고 뻗었다</p>\n<p>사실 안 뻗었다 절거운 인생 또 힘찬 월요일~!</p>","timeToRead":8,"frontmatter":{"title":"2월 첫주차 기록","date":"February 04, 2023","description":"weekly-i-learned","tags":["weekly"],"disqus":null},"fields":{"langKey":"en"}}},"pageContext":{"slug":"/weekly/2023-2-week-1/","previous":{"fields":{"slug":"/weekly/2023-2-week-2/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"February 11, 2023","description":"weekly-i-learned","title":"2월 2주차 기록","tags":["weekly"]}},"next":{"fields":{"slug":"/weekly/2023-1-week-4/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"January 28, 2023","description":"weekly-i-learned","title":"1월 4주차 기록","tags":["weekly"]}},"previousInSameTag":{"fields":{"slug":"/weekly/2023-2-week-2/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"February 11, 2023","description":"weekly-i-learned","title":"2월 2주차 기록","tags":["weekly"]}},"nextInSameTag":{"fields":{"slug":"/weekly/2023-1-week-4/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"January 28, 2023","description":"weekly-i-learned","title":"1월 4주차 기록","tags":["weekly"]}},"translationsLink":[]}},"staticQueryHashes":["1522010811","1615650028","2894998521","3765107650","683610688"]}