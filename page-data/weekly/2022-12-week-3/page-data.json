{"componentChunkName":"component---src-templates-blog-post-js","path":"/weekly/2022-12-week-3/","result":{"data":{"site":{"siteMetadata":{"title":"ziglog","author":"zigsong","lang":"en"}},"markdownRemark":{"id":"54ee6661-879a-54db-9145-4360869a709f","excerpt":"공연 끝!! 배워가기 react에서 변경을 트리거하는 것이 인지 인지 구분하기 💡 TL; DR effect는 해당 의존대상이 변경되는 이유와 상관없이(앞으로도) 영향을 받고자 할 때 등록해야 한다. 어떤 상태를 변경하고자 할 때, 나  같은 ‘event…","html":"<p>공연 끝!!</p>\n<!-- more -->\n<hr>\n<h2 id=\"배워가기\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%EC%9B%8C%EA%B0%80%EA%B8%B0\" aria-label=\"배워가기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>배워가기</h2>\n<h3 id=\"react에서-변경을-트리거하는-것이-effect인지-event인지-구분하기\" style=\"position:relative;\"><a href=\"#react%EC%97%90%EC%84%9C-%EB%B3%80%EA%B2%BD%EC%9D%84-%ED%8A%B8%EB%A6%AC%EA%B1%B0%ED%95%98%EB%8A%94-%EA%B2%83%EC%9D%B4-effect%EC%9D%B8%EC%A7%80-event%EC%9D%B8%EC%A7%80-%EA%B5%AC%EB%B6%84%ED%95%98%EA%B8%B0\" aria-label=\"react에서 변경을 트리거하는 것이 effect인지 event인지 구분하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>react에서 변경을 트리거하는 것이 <code class=\"language-text\">effect</code>인지 <code class=\"language-text\">event</code>인지 구분하기</h3>\n<blockquote>\n<p>💡 TL; DR</p>\n<p>effect는 해당 의존대상이 <strong>변경되는 이유와 상관없이(앞으로도)</strong> 영향을 받고자 할 때 등록해야 한다.</p>\n</blockquote>\n<p>어떤 상태를 변경하고자 할 때, <code class=\"language-text\">onClick</code>나 <code class=\"language-text\">onChange</code> 같은 ‘event’에 의해서 상태를 변경할 것인지, <code class=\"language-text\">useEffect</code> 의존성 배열에서 의존하고자 하는 대상을 감지해서 상태를 변경할 것인가 구분해야 한다.</p>\n<p>예를 들어, A와 B가 있을 때, A를 변경하면 B를 초기화해야하는 상황이 있다고 가정해보자. 그러면 아래와 같은 코드를 작성할 수 있다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">A</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이로써 B는 A에 의존성을 가지게 된다. 보통의 케이스에서는 큰 문제가 없을 수 있지만, 문제는 A의 입장에서는 B가 자신을 의존한다는 것은 관심사가 아니기 때문에, A는 이후에 추가적인 여러가지 이유로 변경될 수 있다는 사실이다.</p>\n<p>따라서 B가 A의 effect로 변경되고자 한다면, A가 이후 어떤 이유로 변경되든지 상관없어야 한다.</p>\n<p>어떤 서비스의 케이스에서, A를 변경하면 B를 초기화하는 상황에서 초기에 A가 변경되는 케이스는 사용자가 직접 select box로 A를 선택하는 것 뿐이었다고 가정해보자. 하지만 이후에 뒤로가기 시 <code class=\"language-text\">queryParam</code>에 저장된 값을 가져와서 이전 검색 조건을 유지해야 하는 기획이 추가되었고, A는 사용자 선택(event) 외에 페이지 접근시 <code class=\"language-text\">queryParam</code>에 존재하는 값으로 set되는 기능이 추가되었다. 문제는 이 경우 B의 <code class=\"language-text\">queryParam</code>에 존재하는 값으로 설정해야 하는데, A가 <code class=\"language-text\">queryParam</code>의 값에 의해 set되었기 때문에, B가 초기화되는 문제가 발생한다. 즉 <code class=\"language-text\">queryParam</code>으로 set을 하는 것과 A가 변경됨에 따라 초기화하는 effect가 동시에 수행되었다. 즉 B의 초기화는 A의 effect가 아니라, A를 변경하는 사용자의 event에 의해서만 동작해야 했던 것이다.</p>\n<h3 id=\"npm-install-시-쓸-수-있는-플래그들\" style=\"position:relative;\"><a href=\"#npm-install-%EC%8B%9C-%EC%93%B8-%EC%88%98-%EC%9E%88%EB%8A%94-%ED%94%8C%EB%9E%98%EA%B7%B8%EB%93%A4\" aria-label=\"npm install 시 쓸 수 있는 플래그들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">npm install</code> 시 쓸 수 있는 플래그들</h3>\n<ul>\n<li><code class=\"language-text\">P|--save-prod</code></li>\n<li><code class=\"language-text\">D|--save-dev</code></li>\n<li><code class=\"language-text\">O|--save-optional</code></li>\n<li><code class=\"language-text\">-save-peer</code></li>\n<li><code class=\"language-text\">E|--save-exact</code> - 딱 그 버전으로 설치해준다.</li>\n<li><code class=\"language-text\">B|--save-bundle</code></li>\n<li><code class=\"language-text\">-no-save</code></li>\n<li><code class=\"language-text\">-dry-run</code></li>\n</ul>\n<p><strong>Ref</strong> <a href=\"https://docs.npmjs.com/cli/v7/commands/npm-install\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://docs.npmjs.com/cli/v7/commands/npm-install</a></p>\n<hr>\n<h2 id=\"이것저것\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EA%B2%83%EC%A0%80%EA%B2%83\" aria-label=\"이것저것 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이것저것</h2>\n<ul>\n<li>프로젝트에서 Jest를 처음 세팅할 때 <code class=\"language-text\">'describe' is not defined. eslint (no-undef)</code> 에러가 난다면 eslint config 파일에서 <code class=\"language-text\">jest: true</code>로 설정되어 있는지 확인하자.</li>\n</ul>\n<hr>\n<h2 id=\"기타\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80\" aria-label=\"기타 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기타</h2>\n<h3 id=\"우아한-타입스크립트-컨벤션-정하기-여정\" style=\"position:relative;\"><a href=\"#%EC%9A%B0%EC%95%84%ED%95%9C-%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%BB%A8%EB%B2%A4%EC%85%98-%EC%A0%95%ED%95%98%EA%B8%B0-%EC%97%AC%EC%A0%95\" aria-label=\"우아한 타입스크립트 컨벤션 정하기 여정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>우아한 타입스크립트 컨벤션 정하기 여정</h3>\n<p>타입스크립트도 참 컨벤션 정하기가 어려운 것 같다. “니들 마음대로 해!” 컨셉의 자바스크립트를 본따 만든 언어이니 그럴 수밖에…?!</p>\n<p>그리고 <code class=\"language-text\">enum</code>은 tree-shaking 문제 때문에 여기저기서 지양하자고 하면서, 결국 왜 모두들 쓰게 되는 걸까 😬</p>\n<p>아, react 컴포넌트 작성 시 prop의 타입을 지정할 땐 <code class=\"language-text\">type</code> 대신 <code class=\"language-text\">interface</code>를 사용하곤 했었는데, <code class=\"language-text\">interface</code>는 IDE에서 미리보기가 되지 않는다는 사실을 몰랐다! 대체 왜 그러는 고야…</p>\n<p><strong>Ref</strong> <a href=\"https://techblog.woowahan.com/9804/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://techblog.woowahan.com/9804/</a></p>\n<h3 id=\"다양한-언어로-git-docker-redis를-만드는-강의\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EC%96%91%ED%95%9C-%EC%96%B8%EC%96%B4%EB%A1%9C-git-docker-redis%EB%A5%BC-%EB%A7%8C%EB%93%9C%EB%8A%94-%EA%B0%95%EC%9D%98\" aria-label=\"다양한 언어로 git docker redis를 만드는 강의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>다양한 언어로 Git, Docker, Redis를 만드는 강의</h3>\n<p>Git을 만들다니..! 궁금하다</p>\n<p><strong>Ref</strong> <a href=\"https://codecrafters.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://codecrafters.io/</a></p>\n<hr>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>드디어 2022 송년회가, 그리고 슬우생 데뷔무대가 끝났다!</p>\n<p>3주 정도밖에 되지 않는 시간 동안 거의 매일매일 드럼을 치며 미친듯이 바빴지만 즐거웠던 시간들이었다. 왕울보는 뒤풀이에서 눈물 한방울 찔끔 흘려버렸다. 직장인이 돼서도 밴드할 수 있을까? 했는데, 언제 또 이렇게 실력도 대단하고 마음도 따뜻한 사람들과 합주를 하고, 2천 명이 보는 큰 무대에서 공연을 할 수 있을까. 올 한 해는 이거 하나 한 것만으로도 마음 담뿍하게 뭉클하고 즐거웠던 기억으로 남을 것 같다.</p>\n<br />\n<img src=\"02.png\"  />\n<br />\n<img src=\"01.png\"  />\n<p>그리고 지난 한 달 간 잠시 본가가 아닌 다른 곳에서 지냈었는데, 이제 본가로 돌아오게 되었다. 나가 사는 한 달 동안도 좋았지만, 본가의 아늑한 내 방도 역시 조아</p>\n<p>이제 일 해야지…</p>","timeToRead":4,"frontmatter":{"title":"12월 3주차 기록","date":"December 17, 2022","description":"weekly-i-learned","tags":["weekly"],"disqus":null},"fields":{"langKey":"en"}}},"pageContext":{"slug":"/weekly/2022-12-week-3/","previous":{"fields":{"slug":"/weekly/2022-12-week-4-5/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"December 30, 2022","description":"weekly-i-learned","title":"12월 4-5주차 기록","tags":["weekly"]}},"next":{"fields":{"slug":"/weekly/2022-12-week-2/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"December 10, 2022","description":"weekly-i-learned","title":"12월 2주차 기록","tags":["weekly"]}},"previousInSameTag":{"fields":{"slug":"/weekly/2022-12-week-4-5/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"December 30, 2022","description":"weekly-i-learned","title":"12월 4-5주차 기록","tags":["weekly"]}},"nextInSameTag":{"fields":{"slug":"/weekly/2022-12-week-2/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"December 10, 2022","description":"weekly-i-learned","title":"12월 2주차 기록","tags":["weekly"]}},"translationsLink":[]}},"staticQueryHashes":["1522010811","1615650028","2894998521","3765107650","683610688"]}