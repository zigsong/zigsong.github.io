{"componentChunkName":"component---src-templates-blog-post-js","path":"/weekly/2023-1-week-2/","result":{"data":{"site":{"siteMetadata":{"title":"ziglog","author":"zigsong","lang":"en"}},"markdownRemark":{"id":"048c2bf6-c311-5c97-9efd-b792b76ff295","excerpt":"영어공부 잘 해보자구 배워가기 웹 폰트 렌더링 방식 브라우저는 렌더링 과정에서 웹 폰트가 다운되지 않았으면 해당 텍스트의 렌더링을 차단한다. FOUT(Flash of unstyled Text): 웹 폰트가 적용되지 않은 폰트 상태(unstyled…","html":"<p>영어공부 잘 해보자구</p>\n<!-- more -->\n<hr>\n<h2 id=\"배워가기\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%EC%9B%8C%EA%B0%80%EA%B8%B0\" aria-label=\"배워가기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>배워가기</h2>\n<h3 id=\"웹-폰트-렌더링-방식\" style=\"position:relative;\"><a href=\"#%EC%9B%B9-%ED%8F%B0%ED%8A%B8-%EB%A0%8C%EB%8D%94%EB%A7%81-%EB%B0%A9%EC%8B%9D\" aria-label=\"웹 폰트 렌더링 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>웹 폰트 렌더링 방식</h3>\n<p>브라우저는 렌더링 과정에서 웹 폰트가 다운되지 않았으면 해당 텍스트의 렌더링을 차단한다.</p>\n<ul>\n<li>FOUT(Flash of unstyled Text): 웹 폰트가 적용되지 않은 폰트 상태(unstyled)에서 폰트가 바뀌면서 텍스트가 번쩍이며 글꼴을 대체한다.</li>\n<li>FOIT(Flash of invisible Text): 웹 폰트가 적용되지 않은 텍스트가 보이지 않는 상태에서 폰트가 바뀌면서 텍스트가 번쩍이면서 텍스트를 보여준다.</li>\n</ul>\n<p>IE는 FOUT 방식으로 차단하고, 그 외 브라우저는 FOIT 방식으로 차단한다.</p>\n<h3 id=\"css-font-display로-웹-폰트의-로딩-상태에-따른-동작-설정하기\" style=\"position:relative;\"><a href=\"#css-font-display%EB%A1%9C-%EC%9B%B9-%ED%8F%B0%ED%8A%B8%EC%9D%98-%EB%A1%9C%EB%94%A9-%EC%83%81%ED%83%9C%EC%97%90-%EB%94%B0%EB%A5%B8-%EB%8F%99%EC%9E%91-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\" aria-label=\"css font display로 웹 폰트의 로딩 상태에 따른 동작 설정하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CSS <code class=\"language-text\">font-display</code>로 웹 폰트의 로딩 상태에 따른 동작 설정하기</h3>\n<p>CSS의 <code class=\"language-text\">font-display</code> 속성으로 웹 폰트의 로딩 상태에 따른 동작을 설정할 수 있다.</p>\n<ul>\n<li>\n<p><code class=\"language-text\">swap</code>: FOUT 방식 - 웹 폰트 로딩 여부와 관계없이 항상 텍스트를 보여준다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">block</code>: FOIT 방식 - 웹 폰트가 로딩되지 않았을 때는 텍스트를 렌더링하지 않는다.(최대 3초)</p>\n<ul>\n<li>3초가 지나면 웹 폰트가 로딩되지 않았더라도 폴백 폰트(기본 폰트)를 보여주고 웹폰트가 다운 완료되면 렌더링한다.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">fallback</code>: 100ms 동안 텍스트가 보이지 않고 그 후 폴백 폰트로 렌더링한다.</p>\n<ul>\n<li>3초 내에 웹 폰트가 다운로드 되면 웹 폰트로 전환되지만, 3초 내에 웹 폰트가 다운되지 않는다면 폴백 폰트를 유지한다.</li>\n<li>3초 이후 다운로드된 웹 폰트는 웹 페이지에 바로 적용되지 않지만 캐시에 남아 추후 사용자가 재방문 시 바로 웹 폰트가 적용된다.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">optional</code>: 100ms동안 텍스트가 보이지 않고 그 후 폴백 폰트로 전환한다.</p>\n<ul>\n<li>브라우저가 네트워크 상태에 따라 글꼴을 다운로드 할지, 글꼴을 다운로드 하지 않을지 결정한다.</li>\n</ul>\n</li>\n</ul>\n<p>참고로, pretendard의 <code class=\"language-text\">font-display</code> 는 기본으로 <code class=\"language-text\">swap</code> 이다</p>\n<p>크롬, 파이어폭스 등의 브라우저들은 FOIT 방식으로 폰트를 렌더하기 때문에 네트워크 환경이 좋지 못한 사용자를 고려하려면 <code class=\"language-text\">font-display</code> 를 <code class=\"language-text\">swap</code> 등으로 변경해주는게 좋다.</p>\n<p><strong>Ref</strong></p>\n<ul>\n<li><a href=\"https://developer.chrome.com/blog/font-display\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Controlling Font Performance with font-display</a></li>\n<li><a href=\"https://d2.naver.com/helloworld/4969726\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">웹 폰트 사용과 최적화의 최근 동향</a></li>\n</ul>\n<h3 id=\"pnpm의-중복-패키지-제거-방법\" style=\"position:relative;\"><a href=\"#pnpm%EC%9D%98-%EC%A4%91%EB%B3%B5-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%A0%9C%EA%B1%B0-%EB%B0%A9%EB%B2%95\" aria-label=\"pnpm의 중복 패키지 제거 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>pnpm의 중복 패키지 제거 방법</h3>\n<p><strong>tl;dr</strong>\nlinux계열에서 pnpm은 hard-link를 이용해서 중복된 패키지들을 store로 관리한다. 윈도우에서는 <a href=\"https://docs.microsoft.com/en-us/windows/win32/fileio/hard-links-and-junctions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">junctions</a>을 사용한다.</p>\n<p>파일 시스템을 참조하는 방식들을 살펴보자.</p>\n<ul>\n<li>inode\n<ul>\n<li>리눅스 시스템에서 i-node란, 파일에 대한 정보(메타데이터)를 가진, 일종의 데이터를 말한다.</li>\n<li>파일이나 디렉토리는 고유한 i-node를 가진다. 그 결과로 빠르게 파일과 디렉토리를 찾을 수 있다.</li>\n<li><code class=\"language-text\">ls -i</code> 를 통해서 i-node 번호를 볼 수 있다.</li>\n</ul>\n</li>\n<li>soft-link (symbolic link)\n<ul>\n<li><code class=\"language-text\">ln -s</code> 명령어로 생성할 수 있으며, 일종의 바로가기라고 생각하면 된다.</li>\n<li>soft-link는 원본 파일과 다른 inode를 가지고 있다.</li>\n<li>원본이 삭제되면 접근이 불가능하다. 원본 파일명을 변경해도 접근이 불가능하다.</li>\n</ul>\n</li>\n<li>hard-link\n<ul>\n<li><code class=\"language-text\">ln</code> 명령어로 생성한다.</li>\n<li>원본파일과 동일한 i-node를 가지며, 복사본과는 다르다. 복사를 통해 생성한 파일은 다른 i-node를 가진다.</li>\n<li><strong>같은 i-node를 가지기 때문에 전체 디스크에서 용량도 추가되지 않는다.</strong></li>\n<li>원본 파일을 삭제해도 파일에 접근할 수 있음</li>\n</ul>\n</li>\n</ul>\n<p>pnpm의 hardlink와 store prune은 다음과 같다.</p>\n<ul>\n<li>pnpm hard-link\n<ul>\n<li>pnpm으로 패키지를 다운받으면 npm과 달리 node_modules에 저장되는 것이 아니라 디스크에 있는 <code class=\"language-text\">.pnpm-store</code>에 다운받고 hard link를 만들어서 node_modules에 저장한다.</li>\n<li>이런 방식으로 중복되는 패키지를 없애서 디스크 용량을 절약할 수 있다.</li>\n</ul>\n</li>\n<li>pnpm store prune\n<ul>\n<li>어떤 프로젝트에서도 사용하지 않는 패키지들을 pnpm 스토어에서 제거한다.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"meta--태그로-구글-번역기의-실행-막기\" style=\"position:relative;\"><a href=\"#meta--%ED%83%9C%EA%B7%B8%EB%A1%9C-%EA%B5%AC%EA%B8%80-%EB%B2%88%EC%97%AD%EA%B8%B0%EC%9D%98-%EC%8B%A4%ED%96%89-%EB%A7%89%EA%B8%B0\" aria-label=\"meta  태그로 구글 번역기의 실행 막기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">&lt;meta /></code> 태그로 구글 번역기의 실행 막기</h3>\n<p><code class=\"language-text\">&lt;meta *name*=\"google\" *value*=\"notranslate\" /></code> 를 삽입해서 페이지에서 google 번역기가 실행되는걸 막을 수 있다.</p>\n<p>class에 <code class=\"language-text\">notranslate</code>을 주거나 다음 메타태그를 사용하는 것도 동일하다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>google<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notranslate<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>단 class에 옵션 부여 시 해당 태그 번역이 안될 뿐, 번역 버튼은 보인다. (<code class=\"language-text\">&lt;meta /></code> 태그 사용 시 번역 버튼 자체가 보이지 않는다.)</p>\n<blockquote>\n<p>+ HTML 명세에 <code class=\"language-text\">translate</code> 속성도 있다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">translate</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>no<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n</blockquote>\n<p><strong>Ref</strong> <a href=\"https://html.spec.whatwg.org/multipage/dom.html#attr-translate\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://html.spec.whatwg.org/multipage/dom.html#attr-translate</a></p>\n<h3 id=\"헤더에-position-fixed-vs-position-sticky\" style=\"position:relative;\"><a href=\"#%ED%97%A4%EB%8D%94%EC%97%90-position-fixed-vs-position-sticky\" aria-label=\"헤더에 position fixed vs position sticky permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>헤더에 <code class=\"language-text\">position: fixed</code> vs <code class=\"language-text\">position: sticky</code></h3>\n<ul>\n<li><code class=\"language-text\">fixed</code>를 먹인 요소는 쌓임 스택에서 제거되어, 다른 요소들이 해당 공간을 침범할 수 있게 된다. 따라서 헤더를 fixed로 둘 경우, 헤더의 높이만큼 컨텐츠 영역에 padding-top을 먹여야 한다.</li>\n<li><code class=\"language-text\">sticky</code>를 먹인 요소는 쌓임 스택에 남아있어, 다른 요소들이 해당 공간을 침범하지 않는다. 따라서 헤더를 sticky(그리고 top: 0)로 둘 경우, 컨텐츠 영역에 별도의 조치가 필요하지 않다.</li>\n</ul>\n<p><strong>Ref</strong> <a href=\"https://dev.to/luisaugusto/stop-using-fixed-headers-and-start-using-sticky-ones-1k30\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://dev.to/luisaugusto/stop-using-fixed-headers-and-start-using-sticky-ones-1k30</a></p>\n<h3 id=\"html-meta--태그의-description-vs-ogdescription\" style=\"position:relative;\"><a href=\"#html-meta--%ED%83%9C%EA%B7%B8%EC%9D%98-description-vs-ogdescription\" aria-label=\"html meta  태그의 description vs ogdescription permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>html <code class=\"language-text\">&lt;meta /></code> 태그의 <code class=\"language-text\">description</code> vs <code class=\"language-text\">og:description</code></h3>\n<ul>\n<li><code class=\"language-text\">description</code> - 서치 엔진에 잡힐 수 있다.</li>\n<li><code class=\"language-text\">og:description</code> - facebook같은 소셜 플랫폼에 사용된다.</li>\n</ul>\n<p>둘의 <code class=\"language-text\">content</code> 가 같은 경우 합쳐서 쓸 수도 있다</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span>\n  <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>description<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">property</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>og:description<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>배달의민족 사장님들을 위해 메뉴부터 광고까지, 가게 관리에 필요한 모든 서비스를 제공합니다.<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>\n<p><strong>Ref</strong></p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/38173163/seo-meta-tag-ogdescription-vs-description\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://stackoverflow.com/questions/38173163/seo-meta-tag-ogdescription-vs-description</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6203984/combining-the-meta-description-and-open-graph-protocol-description-into-one-tag\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://stackoverflow.com/questions/6203984/combining-the-meta-description-and-open-graph-protocol-description-into-one-tag</a></li>\n</ul>\n<h3 id=\"useeffect의-실행-시점을-믿지-마세요\" style=\"position:relative;\"><a href=\"#useeffect%EC%9D%98-%EC%8B%A4%ED%96%89-%EC%8B%9C%EC%A0%90%EC%9D%84-%EB%AF%BF%EC%A7%80-%EB%A7%88%EC%84%B8%EC%9A%94\" aria-label=\"useeffect의 실행 시점을 믿지 마세요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">useEffect</code>의 실행 시점을 믿지 마세요</h3>\n<p><code class=\"language-text\">useEffect</code> 는 일반적으로 DOM paint 이후에 실행되지만, <code class=\"language-text\">useLayoutEffect</code>에서 상태 업데이트가 발생한 경우 <code class=\"language-text\">useEffect</code>는 paint 이전에 실행될 수도 있다.</p>\n<ol>\n<li>React update 1: 가상 DOM 렌더링, effect 스케줄링, DOM 업데이트</li>\n<li><code class=\"language-text\">useLayoutEffect</code> 호출</li>\n<li><strong>상태 업데이트,</strong> 리렌더링 스케줄링</li>\n<li><strong><code class=\"language-text\">useEffect</code> 호출</strong></li>\n<li>React update 2</li>\n<li>update 2로부터 <code class=\"language-text\">useLayoutEffect</code> 호출</li>\n<li>React는 제어권을 넘기고, 브라우저가 새로운 DOM을 <strong>paints</strong></li>\n<li>update 2로부터 <code class=\"language-text\">useEffect</code> 호출</li>\n</ol>\n<p><strong>→ <code class=\"language-text\">useEffect</code>가 업데이트 이후에 호출될 것이라고 믿지 말아라!</strong></p>\n<p><strong>Ref</strong> <a href=\"https://blog.thoughtspile.tech/2021/11/15/unintentional-layout-effect/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://blog.thoughtspile.tech/2021/11/15/unintentional-layout-effect/</a></p>\n<h3 id=\"ime\" style=\"position:relative;\"><a href=\"#ime\" aria-label=\"ime permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IME</h3>\n<p>IME(Input Method Editor, 입력 방식 편집기)는 한글처럼 조합이 필요한 언어를 작성하는데 필요한 OS 부속 프로그램이다. (송 -> ㅅ + ㅗ + ㅇ)</p>\n<p>운영체제와 브라우저는 이벤트를 중복처리하기 때문에 한글 입력이 중복으로 입력되는 경우가 생길 수 있다.</p>\n<p>브라우저 이벤트에서는 <code class=\"language-text\">CompositionEvent</code>를 제공하는데, 컴포지션 세션(composition session)은 다음의 단계로 나뉜다.</p>\n<ul>\n<li>compositionstart</li>\n<li>compositionupdate</li>\n<li>compositionend</li>\n</ul>\n<p>따라서 현재 <code class=\"language-text\">Composition</code> 이벤트가 발생중일 때, 이벤트 핸들러에서 return 시키면 중복 입력 문제를 해결할 수 있다. (event의 <code class=\"language-text\">isComposing</code> 속성으로 이벤트가 발생중인지 체크할 수 있다.)</p>\n<h3 id=\"disabled된-요소는-이벤트가-트리거-되지-않는다\" style=\"position:relative;\"><a href=\"#disabled%EB%90%9C-%EC%9A%94%EC%86%8C%EB%8A%94-%EC%9D%B4%EB%B2%A4%ED%8A%B8%EA%B0%80-%ED%8A%B8%EB%A6%AC%EA%B1%B0-%EB%90%98%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4\" aria-label=\"disabled된 요소는 이벤트가 트리거 되지 않는다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">disabled</code> 된 요소는 이벤트가 트리거 되지 않는다.</h3>\n<p><code class=\"language-text\">disabled</code> 된 요소는 이벤트가 트리거 되지 않는다.</p>\n<p><code class=\"language-text\">hover</code> 로 트리거 되는 <code class=\"language-text\">&lt;Input></code> 컴포넌트가 있을 때 아래와 같이 사용하면 <code class=\"language-text\">hover</code> 가 트리거되지 않아 동작하지 않는다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tooltip</span></span> <span class=\"token attr-name\">text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hello world<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Input</span></span> <span class=\"token attr-name\">disabled</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Tooltip</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>이 때 이벤트를 트리거하기 위해서는 <code class=\"language-text\">div</code> 와 같은 요소로 한번 감싸 해당 요소에서 이벤트가 트리거하게 하면 된다. - 아래와 같이 코드를 작성하면 <code class=\"language-text\">hover</code> 로 트리거 되는 <code class=\"language-text\">&lt;Input></code> 컴포넌트는 정상 동작한다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tooltip</span></span> <span class=\"token attr-name\">text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hello world<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Input</span></span> <span class=\"token attr-name\">disabled</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Tooltip</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3 id=\"vite-알아보자\" style=\"position:relative;\"><a href=\"#vite-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\" aria-label=\"vite 알아보자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>vite 알아보자</h3>\n<p>vite는 빌드 시 외부 의존성은 esbuild로, 소스코드는 rollup으로 번들링한다. 외부 의존성은 일반적으로 그 내용이 변하지 않기 때문이다.</p>\n<p>중요한 것은, esbuild는 타입 정보 없이 Transpilation만 한다는 것이다. 따라서 <code class=\"language-text\">const enum</code>, 타입만 가져오는(import) 기능을 지원하지 않는다</p>\n<p>이를 감지하기 위해 tsconfig에 <code class=\"language-text\">\"isolatedModules\": true</code>를 필수로 설정해줘야 한다.</p>\n<p>vite는 소스코드 build 과정에서 rollup을 사용하는데, rollup은 기본적으로 상대경로로 import되는 모듈만 대상으로 한다. 절대경로 import는 런타임에 필요한 외부종속성으로 처리한다. 즉 <code class=\"language-text\">import ‘react’</code>, <code class=\"language-text\">import ‘react-query’</code>와 같은 것들은 무시한다는 얘기다.</p>\n<p>이때 경고가 뜨는데, <code class=\"language-text\">externals</code>에 해다 옵션들을 명시해서 경고를 띄우지 않을 수 있다.</p>\n<p>프로젝트에서 모노레포 공통 코드인 packages를 코드셰어링 형태로 공유하여 사용처의 환경에서 빌드하는 경우가 있다. 이때 사용처의 packages.json에서 <code class=\"language-text\">@packages</code>의 의존성을 명시하고 import하기 때문에 코드상으로는 외부 의존성처럼 보인다.</p>\n<p>하지만 rollup은 <code class=\"language-text\">@packages</code>를 외부 의존성으로 인식해서 빌드대상에 포함하지 않는다. 따라서 rollup에게 특정 상대 모듈은 build에 포함시킬 것을 알려야하는데, 이를 위해 <code class=\"language-text\">@rollup/plugin-node-resolve</code> 플러그인을 사용해야 한다.</p>\n<h3 id=\"타입-전용-importexport\" style=\"position:relative;\"><a href=\"#%ED%83%80%EC%9E%85-%EC%A0%84%EC%9A%A9-importexport\" aria-label=\"타입 전용 importexport permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>타입 전용 import/export</h3>\n<p><code class=\"language-text\">import type { SomeThing } from “./some-module.js”</code>, <code class=\"language-text\">export type { SomeThing }</code> 등은 타입만을 위한 구문이며, 컴파일시 완전히 제거된다.</p>\n<p>따라서 class를 위와 같은 방식으로 import/export하면 extends에 사용한다거나, 인스턴스를 생성하기 위해 사용할 수 없다.</p>\n<h3 id=\"nextjs-이모저모\" style=\"position:relative;\"><a href=\"#nextjs-%EC%9D%B4%EB%AA%A8%EC%A0%80%EB%AA%A8\" aria-label=\"nextjs 이모저모 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next.js 이모저모</h3>\n<p>next는 dev server와 prod server를 구분한다</p>\n<ul>\n<li><code class=\"language-text\">next dev</code> - dev 서버를 실행시킨다</li>\n<li><code class=\"language-text\">next build &amp;&amp; next start</code> - prod 서버를 실행시킨다</li>\n</ul>\n<p>dev에서는 fast refresh같은 개발 편리성을, prod에서는 빌드 최적화 등의 추가작업을 제공해준다.</p>\n<blockquote>\n<p>Next.js의 <code class=\"language-text\">getInitialProps</code>는 항상 서버에서 실행되는 것을 보장하지 않는다. 대신 항상 서버 실행이 보장되는 <code class=\"language-text\">getServerSideProps</code>를 사용하자</p>\n</blockquote>\n<p><strong>Ref</strong></p>\n<ul>\n<li><a href=\"https://nextjs.org/learn/foundations/how-nextjs-works/development-and-production\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://nextjs.org/learn/foundations/how-nextjs-works/development-and-production</a></li>\n<li><a href=\"https://upmostly.com/nextjs/getserversideprops-vs-getinitialprops-getstaticprops-in-next-js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://upmostly.com/nextjs/getserversideprops-vs-getinitialprops-getstaticprops-in-next-js</a></li>\n</ul>\n<h3 id=\"edge-runtime\" style=\"position:relative;\"><a href=\"#edge-runtime\" aria-label=\"edge runtime permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Edge Runtime</h3>\n<p>엣지 런타임은 표준 Web API의 서브셋이며, ‘엣지’라는 명칭은 특정한 지역이 아닌 즉각적인 서버리스 컴퓨팅 환경을 가리킨다.</p>\n<p>프레임워크 제작자들의 엣지 컴퓨팅과 웹표준에 기반한 오픈소스 도구 제작에 도움을 주고자 설계되었다. Next.js같은 프레임워크에 통합될 목적으로 설계되었으며, 미니멀하고 보안과 성능이 우수하다.</p>\n<p>엣지 런타임 기반으로 설계된 프레임워크는 어디서든 실행될 수 있다. (뭔가 너무 추상적인…🤔)</p>\n<p><strong>Ref</strong></p>\n<ul>\n<li><a href=\"https://edge-runtime.vercel.app/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://edge-runtime.vercel.app/</a></li>\n<li><a href=\"https://vercel.com/blog/introducing-the-edge-runtime\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://vercel.com/blog/introducing-the-edge-runtime</a></li>\n</ul>\n<h3 id=\"utc-gmt\" style=\"position:relative;\"><a href=\"#utc-gmt\" aria-label=\"utc gmt permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UTC, GMT</h3>\n<ul>\n<li><strong>GMT</strong> - 그리니치 평균시</li>\n<li><strong>UTC</strong> - 국제 표준시로, 1970년 1월 1일 자정을 0 밀리초로 설정하여 기준을 삼아 그 후로 시간의 흐름을 밀리초로 계산한다.</li>\n</ul>\n<p>UTC는 사실상 GMT를 계승한 것이다. 초의 소숫점 단위에서만 차이가 난다.</p>\n<h3 id=\"datestring\" style=\"position:relative;\"><a href=\"#datestring\" aria-label=\"datestring permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>datestring</h3>\n<p><code class=\"language-text\">new Date()</code>의 인자 값으로 datestring을 사용할 수 있다.</p>\n<p>ex) <code class=\"language-text\">2012-01-26T13:51:50.417-07:00</code> , <code class=\"language-text\">'2007-04-05T14:30Z'</code></p>\n<ul>\n<li><code class=\"language-text\">YYYY-MM-DD</code> – 년:월:일</li>\n<li><code class=\"language-text\">\"T\"</code> 는 <code class=\"language-text\">YYYY-MM-DD</code> 구분자로 쓰임</li>\n<li><code class=\"language-text\">HH:mm:ss.sss</code> – 시간:분:초.밀리초</li>\n</ul>\n<p>이때 마지막 <code class=\"language-text\">Z</code> 파트는 zone에 대한 정보를 담는다.</p>\n<p>Z파트에서 <code class=\"language-text\">Z</code> 문자만 오면 UTC+0을 의미하며,(<code class=\"language-text\">'2007-04-05T14:30Z'</code>), Z파트를 생략하면 로컬 타임으로 설정된다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">let</span> d <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2007-04-05T13:00\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nd<span class=\"token punctuation\">.</span><span class=\"token function\">toISOString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// '2007-04-05T04:00:00.000Z'</span>\n<span class=\"token comment\">// 한국은 UTC+9 때문에 9시간이 빠져서 나온다.</span></code></pre></div>\n<blockquote>\n<p><strong>ISO 8601</strong> 날짜 형식</p>\n<p>01/05/12는 January 5, 2012, or May 1, 2012. 등등 다양하게 표현가능하다.\n이런 모호한 날짜표현을 해결하기 위한 동일한 날짜/시간 형식을 사용한다. 이 표준이 ISO 8601이다.\n<code class=\"language-text\">toISOString</code> 메소드는 date객체를 <strong>ISO 8601</strong> 규칙 기반으로 <a href=\"https://ko.wikipedia.org/wiki/UTC\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">UTC</a> 날짜 및 시간을 표현해준다.</p>\n</blockquote>\n<h3 id=\"nextjs에서-react-query-사용하기\" style=\"position:relative;\"><a href=\"#nextjs%EC%97%90%EC%84%9C-react-query-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"nextjs에서 react query 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next.js에서 react-query 사용하기</h3>\n<p>react-query에서 서버사이드에서 query fetching을 할 수 있는 방법을 크게 두 가지</p>\n<ol>\n<li><code class=\"language-text\">initialData</code> 사용</li>\n<li><code class=\"language-text\">&lt;Hydrate /></code> 사용</li>\n</ol>\n<p>제시하고 있는데, 여러 이슈 때문에 2. <code class=\"language-text\">&lt;Hydrate /></code>를 권장하고 있는 것 같다.</p>\n<p>이때 <code class=\"language-text\">&lt;Hydrate /></code>를 쓴다고 앱의 모든 query들이 서버사이드에서 불러와지는 것이 아니라, 서버사이드에서 부르고 싶은 query는 next의 <code class=\"language-text\">getStaticProps</code>에서 <code class=\"language-text\">prefetchQuery</code>를 통해서 불러오고, 클라이언트에서 부르고 싶은 query는 그냥 일반적인 방식으로 리액트 컴포넌트 내에서 호출하면 된다.</p>\n<blockquote>\n<p>Next는 <code class=\"language-text\">prefetchQuery</code> 호출 시 <code class=\"language-text\">queryClient</code>에 지정 queryKey와 fetch data를 매핑해서 저장한다. 해당 <code class=\"language-text\">queryClient</code>를 dehydrate해서 클라이언트의 <code class=\"language-text\">&lt;Hydrate /></code> 에 전달하면 클라이언트에서 사용하는 <code class=\"language-text\">queryClient</code>에서 해당 데이터를 사용해서 미리 queryKey-data 매핑을 해두기 때문에, 이후 동일한 queryKey로 fetching이 이루어질때 그 값을 바로 사용할 수 있는 거십니다. 결국 모든 query를 클라이언트에서 호출하는 로직이 있긴 해야 한다.</p>\n</blockquote>\n<p><strong>Ref</strong> <a href=\"https://react-query-v3.tanstack.com/guides/ssr#using-nextjs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://react-query-v3.tanstack.com/guides/ssr#using-nextjs</a></p>\n<h3 id=\"자바스크립트-void\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-void\" aria-label=\"자바스크립트 void permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자바스크립트 <code class=\"language-text\">void</code></h3>\n<p><strong><code class=\"language-text\">void</code> 연산자</strong>는 주어진 표현식을 평가하고 <code class=\"language-text\">undefined</code>를 반환한다.</p>\n<p>ex) 함수 즉시 실행</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">void</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">iife</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"iife is executed\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Expected output: \"iife is executed\"</span></code></pre></div>\n<p>오직 <code class=\"language-text\">undefined</code> 원시값을 얻기 위해 <code class=\"language-text\">void 0</code> 또는 <code class=\"language-text\">void(0)</code>처럼 사용할 수도 있다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// undefined</span></code></pre></div>\n<p><strong>Ref</strong> <a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/void\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/void</a></p>\n<h3 id=\"setimmediate\" style=\"position:relative;\"><a href=\"#setimmediate\" aria-label=\"setimmediate permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">setImmediate</code></h3>\n<p>수행시간이 긴 작업을 끝내고 브라우저가 이벤트나 화면 업데이트 등의 작업을 끝낸 직후에 콜백 함수를 실행하기 원할 때 사용한다. (? 언제 실행되는지 모르겠다…)</p>\n<p>비동기로 실행하고 싶지만 최대한 빨리 실행하고 싶을 때 사용한다. (<code class=\"language-text\">setTimeout(() => {}, 0)</code> 보다 먼저 실행되는 것 같다.)</p>\n<p>표준 API가 아니라 브라우저에서는 사용할 수 없다. Node.js 10+에서만 사용 가능하다.</p>\n<p><strong>Ref</strong></p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/setImmediate\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Window/setImmediate</a></li>\n<li><a href=\"https://inpa.tistory.com/entry/NODE-%F0%9F%93%9A-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84-%F0%9F%94%81-setTimeout-setImmediate-processnextTick\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://inpa.tistory.com/entry/NODE-📚-이벤트-루프-🔁-setTimeout-setImmediate-processnextTick</a></li>\n<li><a href=\"https://nodejs.dev/en/learn/understanding-setimmediate/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://nodejs.dev/en/learn/understanding-setimmediate/</a></li>\n</ul>\n<h3 id=\"리액트에서-데이터를-로딩하는-3가지-방법\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%97%90%EC%84%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%A1%9C%EB%94%A9%ED%95%98%EB%8A%94-3%EA%B0%80%EC%A7%80-%EB%B0%A9%EB%B2%95\" aria-label=\"리액트에서 데이터를 로딩하는 3가지 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리액트에서 데이터를 로딩하는 3가지 방법</h3>\n<ul>\n<li>\n<p><strong>Fetch-on-render</strong> - 1차 render을 모두 마친 후 필요한 데이터를 로딩 한다</p>\n<ul>\n<li>부모-자식 컴포넌트의 render가 모두 이루어진 후, useEffect or query hook 등에 등록된 data fetching이 완료되면 해당 데이터로 다시 렌더링한다</li>\n<li>하위 컴포넌트를 내려가면서 렌더링하고, data fetching 요청을 하는게 반복되기 때문에 부모 컴포넌트가 리렌더링되는 이유로 하위 컴포넌트의 data fetching이 여러번 실행될 수도 있다. (네트워크 워터풀)</li>\n<li>ex. fetch in useEffect</li>\n</ul>\n</li>\n<li>\n<p><strong>Fetch-then-render</strong> - 자식 컴포넌트를 render하기 전에 필요한 데이터를 모두 로딩한다.</p>\n<ul>\n<li>상위에서 필요한 데이터를 한번에 모두 받고 렌더링이 진행되기 때문에, 워터폴 문제가 발생하지 않는다</li>\n<li>다만 부분적으로 데이터를 가져오고 변경하는게 어렵고, 따라서 유지보수가 힘들다</li>\n<li>ex. relay without suspense</li>\n</ul>\n</li>\n<li>\n<p><strong>Render as you fetch</strong> - 렌더링과 데이터 페치를 동시에</p>\n<ul>\n<li>각 컴포넌트가 자신에게 필요한 data fetching 로직을 가질 수 있다.</li>\n<li>data fetching을 하는 동안 컴포넌트의 렌더링을 막지 않는다.</li>\n<li>Suspense에 data가 fetching중인지 알려주도록 구현해야한다. fetching하는 동안 fallback UI를 보여준다.</li>\n<li>ex. relay with suspense</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"사용자의-접속-형태-분석하기\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90%EC%9D%98-%EC%A0%91%EC%86%8D-%ED%98%95%ED%83%9C-%EB%B6%84%EC%84%9D%ED%95%98%EA%B8%B0\" aria-label=\"사용자의 접속 형태 분석하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용자의 접속 형태 분석하기</h3>\n<ul>\n<li>사용자가 새로고침으로 접속했는지 여부\n<ul>\n<li>window.performance.navigation.type === 1 (TYPE_RELOAD)</li>\n</ul>\n</li>\n<li>사용자가 뒤로가기로 접속했는지 여부\n<ul>\n<li>window.performance.navigation.type === 2 (TYPE_BACK_FORWARD)</li>\n</ul>\n</li>\n<li>사용자가 인식하는 페이지 로딩 시간\n<ul>\n<li>window.performance.timing.loadEventEnd - window.performance.timing.navigationStart</li>\n</ul>\n</li>\n<li>HTTP 요청에서 응답까지 걸린 시간\n<ul>\n<li>window.performance.timing.responseEnd - window.performance.timing.responseStart</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"이것저것\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EA%B2%83%EC%A0%80%EA%B2%83\" aria-label=\"이것저것 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이것저것</h2>\n<ul>\n<li>woff2 폰트는 모든 폰트 포맷 중 용량이 가장 작고, 모든 브라우저에서 사용 가능하다. (이제 safari에서도 지원한다.)</li>\n<li>브라우저 마음대로 <code class=\"language-text\">body</code> 태그에 <code class=\"language-text\">margin: 8px</code> 를 넣는 경우가 있다\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/119d6d15875555c5e482fd6922062061/e8950/01.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 15.54054054054054%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAcUlEQVQI12Ooqq7V1NHX0TPU0TXQ1tHX0tbDgwwMTQ2NzAwMTQwMTW3tHBiqauoNPb0dfP19vAOtbR3NLWwsLG1xIStreytrBytre0srO2dnd4bikjJlNS1DYzN9QxNdfSM9fWM8SFffCIK0dQ2srO0AFjMm8CZiBdUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"01\" title=\"01\" src=\"/static/119d6d15875555c5e482fd6922062061/fcda8/01.png\" srcset=\"/static/119d6d15875555c5e482fd6922062061/12f09/01.png 148w,\n/static/119d6d15875555c5e482fd6922062061/e4a3f/01.png 295w,\n/static/119d6d15875555c5e482fd6922062061/fcda8/01.png 590w,\n/static/119d6d15875555c5e482fd6922062061/efc66/01.png 885w,\n/static/119d6d15875555c5e482fd6922062061/c83ae/01.png 1180w,\n/static/119d6d15875555c5e482fd6922062061/e8950/01.png 2000w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<ul>\n<li>사용자들 보기 좋으라고 그렇게 만들었다고 한다. CSS로 직접 빼줘야 한다;</li>\n</ul>\n</li>\n<li>github action의 checkout@v3을 사용해서 checkout 할 때에는 <code class=\"language-text\">with: ref: main</code>과 같이 branch를 명시한다. 기본적으론 push 등 action이 발생한 branch로 이미 checkout 되어 있지만, <code class=\"language-text\">git checkout HEAD^</code> 을 사용하면 좀 더 마음이 편해질 수 있다.</li>\n<li>Headless UI Component: 기능은 있지만 스타일은 없는 컴포넌트</li>\n<li><code class=\"language-text\">git checkout -f</code> - 커밋되지 않은 변경 사항을 제거할 때 사용할 수 있다. 다만 unstage 상태의 파일의 변경사항이 모두 사라지니 조심하자.</li>\n<li>쉘 명령어: <code class=\"language-text\">test -d</code> - 해당 파일이 존재하는지 여부를 반환한다.\n<ul>\n<li>ex) <code class=\"language-text\">test -d node_modules || npm install --legacy-peer-deps</code></li>\n</ul>\n</li>\n<li>월드카페 - 열린 대화, 친밀한 대화를 촉진하고, 아이디어들을 연결하여 집단 지성에 이를 수 있게끔 구조화된 대화 프로세스이다.</li>\n<li><code class=\"language-text\">\"eslint.workingDirectories\": [{ \"mode\": \"auto\" }]</code> - 여러 프로젝트가 존재하는 레포의 경우(ex. 모노레포) 각기 다른 설정의 린트 구성 파일을 가져야할 때 설정한다.</li>\n<li>webpack 에서 <a href=\"https://joshua1988.github.io/webpack-guide/devtools/webpack-dev-server.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">proxyTarget</a>을 사용하면 개발환경 API에 cors 오류 없이 API 요청을 보낼 수 있다.</li>\n<li>github에는 코드 리뷰 리마인더가 기본으로 있다. (<a href=\"https://docs.github.com/en/organizations/organizing-members-into-teams/managing-scheduled-reminders-for-your-team\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ref</a>)</li>\n<li>KDA는 Key Information / Decisions / Action Items</li>\n<li>deduping - 리액트 쿼리의 맥락에서 중복된 요청을 단일 요청으로 처리해주는 것을 의미한다.</li>\n<li>mermaid 를 사용하면 git graph 도 이쁘게 그릴 수 있다 (<a href=\"https://mermaid.js.org/syntax/gitgraph.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://mermaid.js.org/syntax/gitgraph.html</a>)</li>\n</ul>\n<hr>\n<h2 id=\"기타공유\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80%EA%B3%B5%EC%9C%A0\" aria-label=\"기타공유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기타공유</h2>\n<h3 id=\"당신이-모르는-자바스크립트의-메모리-누수의-비밀\" style=\"position:relative;\"><a href=\"#%EB%8B%B9%EC%8B%A0%EC%9D%B4-%EB%AA%A8%EB%A5%B4%EB%8A%94-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%9D%98-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%88%84%EC%88%98%EC%9D%98-%EB%B9%84%EB%B0%80\" aria-label=\"당신이 모르는 자바스크립트의 메모리 누수의 비밀 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>당신이 모르는 자바스크립트의 메모리 누수의 비밀</h3>\n<p>메모리 누수는 부주의 또는 일부 프로그램 오류로 인해 더 사용되지 않는 메모리를 해제하지 못하는 것이다. 간단히, 어떤 변수가 100M의 메모리를 점유한다고 할 때, 이 변수가 사용되지 않더라도 수동 또는 자동으로 해제되지 않아 계속 메모리를 점유하는 것을 말한다.</p>\n<p>자바스크립트를 사용하며 어떤 상황들에서 메모리 누수가 발생할까? 다음은 공통적인 사례들이다.</p>\n<ul>\n<li>클로저의 잘못된 사용</li>\n<li>의도치않게 생성된 전역 변수</li>\n<li>분리된 DOM 노드</li>\n<li>콘솔 출력</li>\n<li>해제하지 않은 타이머</li>\n</ul>\n<p>크롬 DevTools로 자바스크립트 애플리케이션의 메모리 사용량을 관찰할 수 있다.</p>\n<p>⬇️ 이어서 보기 (엄청 흥미로우니 꼭 보기)</p>\n<p><strong>Ref</strong> <a href=\"https://ui.toast.com/posts/ko_20210611\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://ui.toast.com/posts/ko_20210611</a></p>\n<h3 id=\"state-of-js-2022\" style=\"position:relative;\"><a href=\"#state-of-js-2022\" aria-label=\"state of js 2022 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>state-of-js 2022</h3>\n<p>프론트엔드 프레임워크로 스벨트가 점점 떠오르고 있다 😯 언젠가 한번 써봐야 하는데</p>\n<p>빌드 툴로는 vite가 심상치 않아보인다.</p>\n<p><strong>Ref</strong> <a href=\"https://2022.stateofjs.com/en-US/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://2022.stateofjs.com/en-US/</a></p>\n<h3 id=\"promise는-왜-취소가-안-될까\" style=\"position:relative;\"><a href=\"#promise%EB%8A%94-%EC%99%9C-%EC%B7%A8%EC%86%8C%EA%B0%80-%EC%95%88-%EB%90%A0%EA%B9%8C\" aria-label=\"promise는 왜 취소가 안 될까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Promise는 왜 취소가 안 될까?</h3>\n<p>TC39에서 처음에 Promise의 취소 기능을 제안할 때는, Promise의 3가지 상태(pending/fulfilled/rejected)에 더해 새로운 ‘취소 상태(canceled)‘의 필요성을 주장했다. 이 과정에서는 취소 상태와 함께 ‘취소 토큰(Cancel Token)‘을 도입하자는 제안도 있었다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> cancelToken <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>“cancelButton”<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">timeout</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ms<span class=\"token punctuation\">,</span> cancelToken</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> timeoutHandle <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ms<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    cancelToken<span class=\"token operator\">?.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>timeoutHandle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">timeout</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000</span><span class=\"token punctuation\">,</span> cancelToken<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>“timeout<span class=\"token operator\">!</span>”<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>그러나 Promise로 취소 토큰을 구현하면 취소 여부를 동기적으로 알 수 없다는 단점이 있다.</p>\n<p>따라서 동기 및 비동기 방식에 사용할 수 있을 분 아니라, 취소 기능과 관련된 다양한 편의 기능을 제공하면서 범용성이 있는 인터페이스를 가지는 취소 토큰 표준이 최종적으로 제안되었다.</p>\n<blockquote>\n<p>이때 제안된 취소 토큰은 비록 표준으로 채택되지 못했지만, Axios에서 <a href=\"https://axios-http.com/kr/docs/cancellation\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">요청을 취소하기 위한 기능</a>에서 구현되었다.</p>\n</blockquote>\n<p>그러던 와중에 <code class=\"language-text\">AbortController</code>와 <code class=\"language-text\">AbortSignal</code>이 등장했는데?!</p>\n<p>⬇️ 이어서 보기 (+ 광고 SDK에서 렌더링 취소 문제를 해결한 방법)</p>\n<p><strong>Ref</strong> <a href=\"https://tech.kakao.com/2023/01/11/promise-cancelation-in-javascript/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://tech.kakao.com/2023/01/11/promise-cancelation-in-javascript/</a></p>\n<hr>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>신년이라 그런지 TIL을 많이많이 올려주시는 중… 나도 동참하기로 했다. 하루에 하나라도 배우기!</p>\n<p>신년 목표같은거 구체적으로 세우지 않는 편이지만, 2주째 영어공부 열심히 하고 있다. 원서 읽기도 재미있다. 끝까지 흥미 잃지 않고 노력해서 호주 가서 날라댕겨보자 🦘</p>","timeToRead":18,"frontmatter":{"title":"1월 2주차 기록","date":"January 14, 2023","description":"weekly-i-learned","tags":["weekly"],"disqus":null},"fields":{"langKey":"en"}}},"pageContext":{"slug":"/weekly/2023-1-week-2/","previous":{"fields":{"slug":"/weekly/2023-1-week-3/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"January 20, 2023","description":"weekly-i-learned","title":"1월 3주차 기록","tags":["weekly"]}},"next":{"fields":{"slug":"/weekly/2023-1-week-1/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"January 07, 2023","description":"weekly-i-learned","title":"1월 1주차 기록","tags":["weekly"]}},"previousInSameTag":{"fields":{"slug":"/weekly/2023-1-week-3/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"January 20, 2023","description":"weekly-i-learned","title":"1월 3주차 기록","tags":["weekly"]}},"nextInSameTag":{"fields":{"slug":"/weekly/2023-1-week-1/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"January 07, 2023","description":"weekly-i-learned","title":"1월 1주차 기록","tags":["weekly"]}},"translationsLink":[]}},"staticQueryHashes":["1522010811","1615650028","2894998521","3765107650","683610688"]}