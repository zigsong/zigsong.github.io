{"componentChunkName":"component---src-templates-blog-post-js","path":"/weekly/2024-9-week-2-3/","result":{"data":{"site":{"siteMetadata":{"title":"ziglog","author":"zigsong","lang":"en"}},"markdownRemark":{"id":"db41ef20-7ad4-5922-a2c7-b712c09d0730","excerpt":"배워가기 postgresql 데이터 dump 및 restore DB 접속 Dump Restore Ref [PostgreSQL] pg_dump 명령어 및 옵션 - https://m.blog.naver.com/anytimedebug/221222479261 [PostgreSQL] pg…","html":"<h2 id=\"배워가기\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%EC%9B%8C%EA%B0%80%EA%B8%B0\" aria-label=\"배워가기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>배워가기</h2>\n<hr>\n<h3 id=\"postgresql-데이터-dump-및-restore\" style=\"position:relative;\"><a href=\"#postgresql-%EB%8D%B0%EC%9D%B4%ED%84%B0-dump-%EB%B0%8F-restore\" aria-label=\"postgresql 데이터 dump 및 restore permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>postgresql 데이터 dump 및 restore</h3>\n<ol>\n<li>DB 접속</li>\n</ol>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">psql <span class=\"token parameter variable\">-h</span> <span class=\"token punctuation\">(</span>호스트<span class=\"token punctuation\">)</span> <span class=\"token parameter variable\">-p</span> <span class=\"token punctuation\">(</span>포트<span class=\"token punctuation\">)</span> <span class=\"token parameter variable\">-U</span> <span class=\"token punctuation\">(</span>계정명<span class=\"token punctuation\">)</span> <span class=\"token parameter variable\">-d</span> <span class=\"token punctuation\">(</span>DB명<span class=\"token punctuation\">)</span></code></pre></div>\n<ol start=\"2\">\n<li><strong>Dump</strong></li>\n</ol>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 스키마만 Dump</span>\npg_dump --no-security-labels --no-owner --schema-only <span class=\"token parameter variable\">-f</span> schema.sql\n* 제외할 스키마가 있다면 exclude-schema<span class=\"token operator\">=</span>public 를 통해 필터 가능\n    \n<span class=\"token comment\"># 데이터만 디렉터리 (pg_dump 자체 포멧) 포멧으로 덤프:</span>\npg_dump <span class=\"token parameter variable\">--verbose</span> --data-only <span class=\"token parameter variable\">--format</span><span class=\"token operator\">=</span>d <span class=\"token parameter variable\">-f</span> data</code></pre></div>\n<ol start=\"3\">\n<li><strong>Restore</strong></li>\n</ol>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\n<span class=\"token comment\"># 특정 스키마만 데이터로부터 복원</span>\npg_restore <span class=\"token parameter variable\">--verbose</span> --no-privileges <span class=\"token parameter variable\">--schema</span><span class=\"token operator\">=</span>seller data\n    \n<span class=\"token comment\"># 특정 스키마들을 제외하고 복원</span>\npg_restore <span class=\"token parameter variable\">--verbose</span> --no-privileges --exclude-schema<span class=\"token operator\">=</span>public --exclude-schema<span class=\"token operator\">=</span>seller data</code></pre></div>\n<p><strong>Ref</strong></p>\n<ul>\n<li><strong>[PostgreSQL] pg_dump 명령어 및 옵션</strong> - <a href=\"https://m.blog.naver.com/anytimedebug/221222479261\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://m.blog.naver.com/anytimedebug/221222479261</a></li>\n<li><strong>[PostgreSQL] pg_restore 명령어 및 옵션</strong> - <a href=\"https://m.blog.naver.com/anytimedebug/221223099597\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://m.blog.naver.com/anytimedebug/221223099597</a></li>\n</ul>\n<h3 id=\"module-federationenhanced\" style=\"position:relative;\"><a href=\"#module-federationenhanced\" aria-label=\"module federationenhanced permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@module-federation/enhanced</h3>\n<ul>\n<li>\n<p>webpack 기본 module federation에 몇 가지 유용한 기능을 추가했다.</p>\n</li>\n<li>\n<p>타입 .d.ts 파일을 생성하여 리모트 모듈도 타이핑이 가능하다.</p>\n</li>\n</ul>\n<p><strong>Ref</strong> <a href=\"https://www.npmjs.com/package/@module-federation/enhanced\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.npmjs.com/package/@module-federation/enhanced</a></p>\n<h3 id=\"react-query에서-파생-데이터-관리하는-방법\" style=\"position:relative;\"><a href=\"#react-query%EC%97%90%EC%84%9C-%ED%8C%8C%EC%83%9D-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B4%80%EB%A6%AC%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"react query에서 파생 데이터 관리하는 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>react-query에서 파생 데이터 관리하는 방법</h3>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function-variable function\">select</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> TData</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> unknown</code></pre></div>\n<p>query 함수에서 반환받은 데이터를 변형하거나 부분적으로 사용할 때 사용하는 옵션. 반환된 데이터는 변경하지만, query 캐시에 저장된 값은 바뀌지 않는다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">'todos'</span><span class=\"token punctuation\">,</span> fetchTodos<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">select</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> data<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">todo</span> <span class=\"token operator\">=></span> todo<span class=\"token punctuation\">.</span>completed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Ref</strong> <a href=\"https://tanstack.com/query/v4/docs/framework/react/reference/useQuery\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://tanstack.com/query/v4/docs/framework/react/reference/useQuery</a></p>\n<h3 id=\"resizeobserver의-property\" style=\"position:relative;\"><a href=\"#resizeobserver%EC%9D%98-property\" aria-label=\"resizeobserver의 property permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ResizeObserver의 property</h3>\n<p><code class=\"language-text\">ResizeObserver</code>는 HTML 요소의 크기 변화를 감지한다.</p>\n<p>다음은 ResizeObserver의 property 및 지원 범위다.</p>\n<ul>\n<li>\n<p><code class=\"language-text\">borderBoxSize</code>, <code class=\"language-text\">contentBoxSize</code></p>\n<ul>\n<li>지원범위: 크롬 84+, 사파리 15.4+</li>\n<li>개선된 구현</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">contentRect</code></p>\n<ul>\n<li>지원범위: 크롬 64+, 사파리 13.1+</li>\n<li>미래에 deprecated 될 수 있으나, 현재 하위호환을 위해 스펙에 남아있음</li>\n</ul>\n</li>\n</ul>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> resizeObserver <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ResizeObserver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">entries</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> entry <span class=\"token keyword\">of</span> entries<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>entry<span class=\"token punctuation\">.</span>contentBoxSize<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> contentBoxSize <span class=\"token operator\">=</span> entry<span class=\"token punctuation\">.</span>contentBoxSize<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      h1Elem<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>fontSize <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>\n        <span class=\"token number\">1.5</span><span class=\"token punctuation\">,</span>\n        contentBoxSize<span class=\"token punctuation\">.</span>inlineSize <span class=\"token operator\">/</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">rem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n      pElem<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>fontSize <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>\n        <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        contentBoxSize<span class=\"token punctuation\">.</span>inlineSize <span class=\"token operator\">/</span> <span class=\"token number\">600</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">rem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      h1Elem<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>fontSize <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>\n        <span class=\"token number\">1.5</span><span class=\"token punctuation\">,</span>\n        entry<span class=\"token punctuation\">.</span>contentRect<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">rem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n      pElem<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>fontSize <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> entry<span class=\"token punctuation\">.</span>contentRect<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">600</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">rem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Ref</strong> <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver</a></p>\n<h3 id=\"react-server-component\" style=\"position:relative;\"><a href=\"#react-server-component\" aria-label=\"react server component permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React Server Component</h3>\n<p>React Server Component는 서버 없이 빌드타임에 실행할 수 있다. filesystem이나 정적 콘텐츠를 받아오는 경우, 웹 서버가 필요하지 않다.</p>\n<p>이를 통해 client에서 실행되는 코드들을 줄일 수 있으며, 번들 사이즈와 초기 로딩 시간을 줄일 수 있다.</p>\n<p><strong>Ref</strong></p>\n<ul>\n<li><a href=\"https://codehike.org/blog/build-time-components\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Build-time Components | Code Hike</a></li>\n<li><a href=\"https://react.dev/reference/rsc/server-components#server-components-without-a-server\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Server Components without a Server</a></li>\n</ul>\n<h3 id=\"weakref\" style=\"position:relative;\"><a href=\"#weakref\" aria-label=\"weakref permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>WeakRef</h3>\n<p>‘약한 객체 참조’라는 뜻의 WeakRef</p>\n<p>‘참조가 약하다’라는 의미는, 참조 카운터를 증가시키지 않는다는 뜻이다. 따라서 GC에 영향을 주지 않는다.</p>\n<p><code class=\"language-text\">deref()</code>를 사용하면 WeakRef로 참조하고 있는 타겟 객체를 반환한다.</p>\n<p>단 이미 가비지 컬렉팅되었다면, undefined를 반환한다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> ref <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WeakRef</span><span class=\"token punctuation\">(</span>객체<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">getObj</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> ref<span class=\"token punctuation\">.</span><span class=\"token function\">deref</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>obj <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"obj 사라짐\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> obj<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>일반적인 객체 참조와 달리, WeakRef로 참조된 객체는 더 이상 사용되지 않는 경우 가비지 컬렉터에 의해 자동으로 제거될 수 있다..</p>\n<p><strong>WeakRef의 주요 사용 사례</strong></p>\n<ul>\n<li>\n<p><strong>캐싱</strong>: 메모리를 절약하면서 특정 데이터를 필요할 때만 유지하려는 경우 유용하다. 캐시된 객체가 메모리에서 제거되더라도 애플리케이션이 정상적으로 작동할 수 있는 경우 WeakRef를 사용하면 적합하다.</p>\n</li>\n<li>\n<p><strong>무거운 객체의 참조 관리</strong>: 크고 복잡한 객체를 다루는 애플리케이션에서, 해당 객체가 자주 사용되지 않는 경우 WeakRef로 참조하여 메모리 사용량을 줄일 수 있다.</p>\n</li>\n<li>\n<p><strong>메모리 관리가 중요한 상황</strong>: 일반적인 강한 참조를 사용하면 참조가 유지되는 동안 객체가 메모리에 남아 있다. 하지만, WeakRef는 가비지 컬렉터가 메모리 해제를 더 적극적으로 할 수 있게 도와주므로 메모리 관리가 중요한 상황에서 사용할 수 있다.</p>\n</li>\n</ul>\n<blockquote>\n<p>자바스크립트에서 객체의 garbage collecting을 직접 할 수 있게 해주는 일종의 도구인 것 같다!</p>\n</blockquote>\n<p><strong>Ref</strong> <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakRef\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakRef</a></p>\n<h2 id=\"이것저것-모음집\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EA%B2%83%EC%A0%80%EA%B2%83-%EB%AA%A8%EC%9D%8C%EC%A7%91\" aria-label=\"이것저것 모음집 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이것저것 모음집</h2>\n<ul>\n<li>JSDoc\n<ul>\n<li><code class=\"language-text\">@since</code>  - 추가된 버전 명시 (e.g. <code class=\"language-text\">@since 1.2.3</code>)</li>\n<li><code class=\"language-text\">@version</code> - 해당 모듈의 버전 명시 (e.g. <code class=\"language-text\">@version 1.0.0</code>)</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"기타공유\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80%EA%B3%B5%EC%9C%A0\" aria-label=\"기타공유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기타공유</h2>\n<hr>\n<h3 id=\"타입스크립트스럽게-성능과-생산성-두-마리-토끼-모두-잡기\" style=\"position:relative;\"><a href=\"#%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%8A%A4%EB%9F%BD%EA%B2%8C-%EC%84%B1%EB%8A%A5%EA%B3%BC-%EC%83%9D%EC%82%B0%EC%84%B1-%EB%91%90-%EB%A7%88%EB%A6%AC-%ED%86%A0%EB%81%BC-%EB%AA%A8%EB%91%90-%EC%9E%A1%EA%B8%B0\" aria-label=\"타입스크립트스럽게 성능과 생산성 두 마리 토끼 모두 잡기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>타입스크립트스럽게 성능과 생산성 두 마리 토끼 모두 잡기</h3>\n<p>요즘 JavaScript의 Proxy를 이용한 개발 개선 작업들이 많이 보이는 것 같다.</p>\n<p>그리고 서버 API를 클라이언트에 자동으로 타입 맞춰 변환해주는 과정을 자동화하는 작업들도…</p>\n<p>우리 프로덕트에 맞게끔 컴파일 타임과 런타임 모두 안정성을 보장하며 코드를 생성할 수 있는 방안을 같이 고민해보는 것도 좋을 것 같다.</p>\n<p><strong>Ref</strong> <a href=\"https://tech.devsisters.com/posts/typescript-ish-way-to-improve-performance/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://tech.devsisters.com/posts/typescript-ish-way-to-improve-performance/</a></p>\n<h3 id=\"tbs-grid\" style=\"position:relative;\"><a href=\"#tbs-grid\" aria-label=\"tbs grid permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tbs Grid</h3>\n<p>“Grid 스크롤에서 viewport에 row는 걸치는 경우는 무용하다” 라는 가정을 과감하게 넣어\n수많은 엣지케이스를 제거하고 매우 깔끔한 고성능 고확장성 그리드 구현체로 나아갈 수 있을 만한 오픈소스</p>\n<p><strong>Ref</strong> <a href=\"https://tobesimple.net/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://tobesimple.net/</a></p>\n<h3 id=\"typescript-56\" style=\"position:relative;\"><a href=\"#typescript-56\" aria-label=\"typescript 56 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TypeScript 5.6</h3>\n<ol>\n<li>nullish/truthy 체킹을 허용하지 않게 되었다.</li>\n</ol>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">0x[0-9a-f]</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">//  ~~~~~~~~~~~~</span>\n<span class=\"token comment\">// error: This kind of expression is always truthy.</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>x <span class=\"token operator\">=></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">//  ~~~~~~</span>\n<span class=\"token comment\">// error: This kind of expression is always truthy.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>(근데 원래 해주지 않았나…? 🤔)</p>\n<ol start=\"2\">\n<li>iterator helper method 등장</li>\n</ol>\n<p>이제 모든 제너레이터는 <code class=\"language-text\">map</code>과 <code class=\"language-text\">take</code> 메서드를 포함한 객체를 반환한다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">positiveIntegers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">yield</span> i<span class=\"token punctuation\">;</span>\n        i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> evenNumbers <span class=\"token operator\">=</span> <span class=\"token function\">positiveIntegers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Output:</span>\n<span class=\"token comment\">//    2</span>\n<span class=\"token comment\">//    4</span>\n<span class=\"token comment\">//    6</span>\n<span class=\"token comment\">//    8</span>\n<span class=\"token comment\">//   10</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> value <span class=\"token keyword\">of</span> evenNumbers<span class=\"token punctuation\">.</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>(모야. <code class=\"language-text\">take</code>라니… 함수형 프로그래밍 자체 지원?)</p>\n<p>기타 등등..</p>\n<p><strong>Ref</strong> <a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-5-6/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://devblogs.microsoft.com/typescript/announcing-typescript-5-6/</a></p>\n<h3 id=\"express-50\" style=\"position:relative;\"><a href=\"#express-50\" aria-label=\"express 50 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>express 5.0</h3>\n<p>2014년 ver4.0 릴리즈 이후 10년 만이라고 한다.</p>\n<p><strong>Ref</strong> <a href=\"https://github.com/expressjs/express/releases/tag/v5.0.0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/expressjs/express/releases/tag/v5.0.0</a></p>\n<h3 id=\"jimp\" style=\"position:relative;\"><a href=\"#jimp\" aria-label=\"jimp permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>jimp</h3>\n<p>순수 JavaScript로 작성된 IMP(Image Manipulation Program) 툴</p>\n<p><strong>Ref</strong> <a href=\"https://jimp-dev.github.io/jimp/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://jimp-dev.github.io/jimp/</a></p>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<hr>\n<p>찜통 속의 추석 연휴 🥵 를 보내고</p>\n<p>기다리던 아이유 콘서트 💃 날 가을도 함께 시작되었다.</p>\n<p>이른 아침 작은 새들 노랫소리 들려오면 🐥</p>\n<p>언제나 그랬듯 아쉽게 잠을 깬다 🎵</p>","timeToRead":7,"frontmatter":{"title":"9월 2-3주차 기록","date":"September 21, 2024","description":"찜통 속의 추석, 진짜 가을, 그리고 콘서트 🎵","tags":["weekly"],"disqus":null},"fields":{"langKey":"en"}}},"pageContext":{"slug":"/weekly/2024-9-week-2-3/","previous":{"fields":{"slug":"/weekly/2024-9-week-4/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"September 27, 2024","description":"순삭된 9월","title":"9월 4주차 기록","tags":["weekly"]}},"next":{"fields":{"slug":"/weekly/2024-9-week-1/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"September 07, 2024","description":"가을 맞냐?","title":"9월 첫주차 기록","tags":["weekly"]}},"previousInSameTag":{"fields":{"slug":"/weekly/2024-9-week-4/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"September 27, 2024","description":"순삭된 9월","title":"9월 4주차 기록","tags":["weekly"]}},"nextInSameTag":{"fields":{"slug":"/weekly/2024-9-week-1/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"September 07, 2024","description":"가을 맞냐?","title":"9월 첫주차 기록","tags":["weekly"]}},"translationsLink":[]}},"staticQueryHashes":["1522010811","2466007692","2894998521","3765107650","683610688"]}