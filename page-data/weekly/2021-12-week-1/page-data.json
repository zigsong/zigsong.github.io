{"componentChunkName":"component---src-templates-blog-post-js","path":"/weekly/2021-12-week-1/","result":{"data":{"site":{"siteMetadata":{"title":"ziglog","author":"zigsong","lang":"en"}},"markdownRemark":{"id":"c68aa7f0-401b-5ebd-af87-a0799ca52cc5","excerpt":"새로운 시작 | 함수형 프로그래밍 | ES6의 블록 스코프 프론트엔드 공부 함수형 프로그래밍 🍀 여기서 읽기 자바스크립트의 실행 컨텍스트 - 블록 스코프? 자바스크립트의 스코프는 ES…","html":"<p>새로운 시작 | 함수형 프로그래밍 | ES6의 블록 스코프</p>\n<!-- more -->\n<hr>\n<h2 id=\"프론트엔드-공부\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EA%B3%B5%EB%B6%80\" aria-label=\"프론트엔드 공부 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프론트엔드 공부</h2>\n<h3 id=\"함수형-프로그래밍\" style=\"position:relative;\"><a href=\"#%ED%95%A8%EC%88%98%ED%98%95-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D\" aria-label=\"함수형 프로그래밍 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>함수형 프로그래밍</h3>\n<p>🍀 <a href=\"https://zigsong.github.io/2021/12/03/js-functional-programming/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">여기서 읽기</a></p>\n<h3 id=\"자바스크립트의-실행-컨텍스트---블록-스코프\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%9D%98-%EC%8B%A4%ED%96%89-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8---%EB%B8%94%EB%A1%9D-%EC%8A%A4%EC%BD%94%ED%94%84\" aria-label=\"자바스크립트의 실행 컨텍스트   블록 스코프 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자바스크립트의 실행 컨텍스트 - 블록 스코프?</h3>\n<p>자바스크립트의 스코프는 ES6 이후 세 가지로 구분된다.</p>\n<ul>\n<li>전역 스코프</li>\n<li>함수 스코프</li>\n<li>블록 스코프</li>\n</ul>\n<p>여기서 전역 스코프와 함수 스코프는 익숙하다. 코드가 처음 실행되거나, 함수가 호출되어 함수 구문에 진입했을 때 각각 전역/함수 실행 컨텍스트가 생성되고 스코프가 형성된다.</p>\n<p>블록 스코프는 어떻게 동작할까?</p>\n<p>전역/함수 실행 컨텍스트와 비교를 통해 알아보자. (전역/함수 실행 컨텍스트의 동작 원리는 비슷하므로, 하나로 취급할 것이다.)</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">var</span> apple <span class=\"token operator\">=</span> <span class=\"token string\">\"apple\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> apple <span class=\"token operator\">=</span> <span class=\"token string\">\"banana\"</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>apple<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// banana</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>apple<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// banana</span></code></pre></div>\n<p>전역 실행 컨텍스트에서는 하나의 변수 환경(Variable Environment)이 생성되므로, 두 번째로 선언한 <code class=\"language-text\">apple</code>은 첫 번째 <code class=\"language-text\">apple</code>을 덮어씌운다. 전역 실행 컨텍스트의 스코프에서 <code class=\"language-text\">apple</code>은 <code class=\"language-text\">banana</code>의 값을 갖게 된다.</p>\n<p>블록 스코프는 어떨까?</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">var</span> apple <span class=\"token operator\">=</span> <span class=\"token string\">\"apple\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> apple <span class=\"token operator\">=</span> <span class=\"token string\">\"banana\"</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>apple<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// banana</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>apple<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// apple</span></code></pre></div>\n<p>첫 번째 선언한 <code class=\"language-text\">apple</code>은 <code class=\"language-text\">apple</code>의 값으로 남게 되고, if문(블록) 안에 <code class=\"language-text\">let</code>으로 선언한 <code class=\"language-text\">apple</code>만 <code class=\"language-text\">banana</code> 값을 갖는다.</p>\n<p>전역 실행 컨텍스트가 생성될 때, 자바스크립트 엔진은 두 번째 <code class=\"language-text\">apple</code>을 두 가지 이유로 건너뛰게 된다.</p>\n<ul>\n<li><code class=\"language-text\">let</code>으로 선언된 변수기 때문에</li>\n<li>블록 스코프에 있기 때문에</li>\n</ul>\n<p>전역에 <code class=\"language-text\">var</code>로 선언된 변수에는 <code class=\"language-text\">apple</code> 값이 할당되어 있다. 그러나 코드가 if문(블록)에 진입하면, 중첩 컴파일링이 시작된다. 이때 if문 안의 <code class=\"language-text\">apple</code>은 변수 환경(Variable Environment)이 아닌 렉시컬 환경(Lexical Environment)에 추가된다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/08e33dd44f0399372fa190351f1d85c4/2cefc/01.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.10810810810811%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABy0lEQVQoz4WS208aQRTG+f+TPjQxjUkfND41xqaPWhVLWhSUi7vAFmELy7K3mVmYvc2cuZCqYZFgTE0nv4eZzHxnTs73VaTIX4BMyQJ4ujkqUeyu3qEiINOKxXFo/Tb7ltEfGF2jLUX2ivfFUuQCMgBeMJakCWMMEyJfLQHF5o2At4UqWhVpulgiAxIDEhMSU+X9cl9CuygcaQ1asZXi/xBTulw4R/TPB+buCX/vEX96jPfXkP2/+GPk1klMUOSGwYyzRMntLGRRUYpllHSm9YtoeOlbVTL+5Q5vv5uN82Hnatq9mtjDnuPYge8mNAaer/Tu/7U4p6g2MT478YFDDsLkZJpWj9nl16cf356qJ3ps2dbAbN227tv39nhEsC+3RlR0Kf456x2G6RfCD4Plsb1sny/717JTS29O2bD3kGUIYx8hF2MPRfMsXWyaX4sziu+cm9OFe4adMzq/mI6suuUY7qQ7NWr2eNCnFKFojpGPkYeRl1D8IlayyHMauC3sN5C3hgTNaN4MnEYwa4az6zB4WGnQmmvNVyVasZ3PUuTAGedcCI4JnnteEAYADIBxzkqfMwH5xmfxJiTrMMp8WyVlBQWelAn9TzyfATsykWu/PIa9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"01\" title=\"01\" src=\"/static/08e33dd44f0399372fa190351f1d85c4/fcda8/01.png\" srcset=\"/static/08e33dd44f0399372fa190351f1d85c4/12f09/01.png 148w,\n/static/08e33dd44f0399372fa190351f1d85c4/e4a3f/01.png 295w,\n/static/08e33dd44f0399372fa190351f1d85c4/fcda8/01.png 590w,\n/static/08e33dd44f0399372fa190351f1d85c4/efc66/01.png 885w,\n/static/08e33dd44f0399372fa190351f1d85c4/c83ae/01.png 1180w,\n/static/08e33dd44f0399372fa190351f1d85c4/2cefc/01.png 1400w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6e094511e1c8078f3bf4734582bacac8/2cefc/02.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 57.432432432432435%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABr0lEQVQoz22SXU/bMBSG+///AJeDogET06RedFOBCe0rRUGBpKVRW6jiOE1ix82H7fgru2BKyqqqwnoufC4ev0c+p2cUM5pLUc0XT5Ppozd5SBLwt6mVrLSiWlGjmVFM77Ere1oxJWldUyGFlEJprfaOVlrUVEl64L/JRjMheLZ2eDrk6UigUZNfm+JqS1OOcOIJzrqMll24aWVFhZQo/J4GR1l0ksfHNT4W8ETCvoSnEn5AoZUk6wyHGMHD5PYZyf3AuYzAJ7i+TPEgQTeD+OozuR0wayh9b/Y09SAIUBJzWhjND2Q2A24frE8h6UfkAqQ/v0lr+Gp9fb35Qj3HXSz8qevNppNgtSRZvPM7WbBZ6J7h/DxXH4k4Czf27WZpc/+utK+p780JiTIUpQlAKUyTkNHN1u+Z9ifq5xfLBj9sML6Pxk7we+78Wj2OV+7d4v7Py/yB0pyWWVVktCKsIlJUZpesFaMlYhvAc1jiVRYvMX4ui7AswqoArMJG86bD/Efvy42pjZFNo3hNEU4JwcaIxsiOWr835Lc5b29Ktsugu4Vru+rKDraNOtwzzf8BI8paZshdxmwAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"02\" title=\"02\" src=\"/static/6e094511e1c8078f3bf4734582bacac8/fcda8/02.png\" srcset=\"/static/6e094511e1c8078f3bf4734582bacac8/12f09/02.png 148w,\n/static/6e094511e1c8078f3bf4734582bacac8/e4a3f/02.png 295w,\n/static/6e094511e1c8078f3bf4734582bacac8/fcda8/02.png 590w,\n/static/6e094511e1c8078f3bf4734582bacac8/efc66/02.png 885w,\n/static/6e094511e1c8078f3bf4734582bacac8/c83ae/02.png 1180w,\n/static/6e094511e1c8078f3bf4734582bacac8/2cefc/02.png 1400w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>렉시컬 환경은 스택과 같은 자료구조로 변수들을 관리하기 때문에, <code class=\"language-text\">let</code>으로 여러번 선언한 변수들은 서로 다르게 관리될 수 있다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">var</span> apple <span class=\"token operator\">=</span> <span class=\"token string\">\"global apple\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> banana <span class=\"token operator\">=</span> <span class=\"token string\">\"global banana\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> banana <span class=\"token operator\">=</span> <span class=\"token string\">\"block banana\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> grape <span class=\"token operator\">=</span> <span class=\"token string\">\"global grape\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> orange <span class=\"token operator\">=</span> <span class=\"token string\">\"block orange\"</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>apple<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// global apple</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>banana<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// block banana</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>banana<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// global banana</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>grape<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// global grape</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>orange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 🚨 ReferenceError: orange is not defined</span></code></pre></div>\n<p>따라서 위 코드에서 전역에 생성된 <code class=\"language-text\">banana</code>와, 블록에 생성된 <code class=\"language-text\">banana</code>는 각각 독립적인 값을 유지할 수 있게 된다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/acbbf8ba1e5f1206a09a28ccb83f1c28/2cefc/03.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 64.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEUlEQVQoz4WSWU/bQBSF+f9/AbVICUIpiLK1RVUJJaGhFLshGMcLdmwncSZexst49jhIFU1pyQOqdHSf7qe7nLMheCUFrhDM4DzLoigOKSmkqAT/vzYEqxaSZFlkWrpp6UPjvsjjhSR/O6TAglecoZXWYMkxoyXG5XIpl7Woayk45YxwRhgjnFOEcinw45LXC7qqL2CBCS7m3imZ7ePwgEeHNTwR8JglRyI9XmQHcK6AOXiwdc+z9fvbydhdgykuJk4LjN9Gk0YGGnC6lbsN5DeLUTN33gCvA5Nk6tvRLJj4znwWcFo+3yxoTZKOo275YMcPt6dxyxy3D4uz96h7Ir8eME0xrLH/8VK9UPXP3Zv2lUJIuXrEhhCkxvHF6LaZ8t0Evyv4fpAOusXwqtR6hdIGel+3Xef0S/fo09mHdm9guIyglR1P8ALHHbffmKMWyJphuucCR0XeoPAGpfkj0n5quIIRGIdjN43Dx5rKf1YJUpPk3FI2XdD0wabl7wwD/TtyVfqgEr2XGXcGhMC2hpaphVOPr/n8Z7K6Dcleilop2h3NtG+JqxbGNXRucmdoAxCoynWv17FM7WUEnr7NcK4Z7YF3eTfqakFPd7vO3UqXdv/cMZWn7Ra0lvQl+XsyrzivGMkFhpJkRRJOAjuKA84ySiGjkLNScPxKPHklVxkURApCSIlQRnAhOXkWlq9k+xf9wL5qF71aDgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"03\" title=\"03\" src=\"/static/acbbf8ba1e5f1206a09a28ccb83f1c28/fcda8/03.png\" srcset=\"/static/acbbf8ba1e5f1206a09a28ccb83f1c28/12f09/03.png 148w,\n/static/acbbf8ba1e5f1206a09a28ccb83f1c28/e4a3f/03.png 295w,\n/static/acbbf8ba1e5f1206a09a28ccb83f1c28/fcda8/03.png 590w,\n/static/acbbf8ba1e5f1206a09a28ccb83f1c28/efc66/03.png 885w,\n/static/acbbf8ba1e5f1206a09a28ccb83f1c28/c83ae/03.png 1180w,\n/static/acbbf8ba1e5f1206a09a28ccb83f1c28/2cefc/03.png 1400w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>ES5까지는 오직 함수 스코프를 따르는 <code class=\"language-text\">var</code> 키워드로 변수를 선언하는 방법밖에 없었다. 그러나 ES6에 등장한 <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드를 사용하여 블록 스코프에서 변수를 관리할 수 있게 되었다. 렉시컬 환경에서 관리되는 변수의 특성을 잊지 말자!</p>\n<p><strong>Ref</strong> <a href=\"https://cabulous.medium.com/javascript-execution-context-lexical-environment-and-block-scope-part-3-fc2551c92ce0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://cabulous.medium.com/javascript-execution-context-lexical-environment-and-block-scope-part-3-fc2551c92ce0</a></p>\n<h3 id=\"react-virtualized\" style=\"position:relative;\"><a href=\"#react-virtualized\" aria-label=\"react virtualized permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React Virtualized</h3>\n<p>뻔하디 뻔한(?) <a href=\"https://javascript.plainenglish.io/react-app-performance-optimization-the-definitive-guide-9b658be3b6e4\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">리액트 앱 성능 개선에 관한 글</a>을 읽다가, <strong>Virtualized List</strong>라는 것에 대해 알게 됐다. 어디서 들어본 것 같기는 한데… 아무래도 어디서 들었는지 모르겠다. 알아보자.</p>\n<p>List나 Grid와 같은 View가 있을 때, 엄청나게 많은 수의 아이템을 렌더링해야 한다면 스크롤을 내릴 때 렉이 걸릴 것이다. Virtual Rendering을 사용한다면 단지 아이템의 일부분만 렌더링할 수 있어, 성능상의 큰 개선을 이룰 수 있다.</p>\n<p><a href=\"https://github.com/bvaughn/react-virtualized\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">react-virtualized</a> 라이브러리를 사용할 수도 있지만, react-virtualized 공식 레포에서는 조금 더 가벼운 버전인 <a href=\"https://github.com/bvaughn/react-window\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">react-window</a>로 시작해보는 것을 추천하고 있다.</p>\n<p>react-virtualized 라이브러리의 기본적인 사용법은 아래와 같다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> List<span class=\"token punctuation\">,</span> AutoSizer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-virtualized\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">InfiniteScroll</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">AutoSizer</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> height<span class=\"token punctuation\">,</span> width <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">List</span></span>\n          <span class=\"token attr-name\">height</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>height<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">rowCount</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>list<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">rowHeight</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">20</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">rowRenderer</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>rowRenderer<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">width</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>width<span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">/></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">AutoSizer</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이런 느낌?</p>\n<p><code class=\"language-text\">AutoSizer</code>라는 HoC로 단일 자식 컴포넌트의 width와 height를 자동으로 조절한다. 제한된 범위 내에서 화면상에 보이는 아이템들만 실제로 렌더링하는 것 같다.</p>\n<p><code class=\"language-text\">AutoSizer</code>의 자식인 <code class=\"language-text\">List</code>는 window된 아이템의 리스트를 렌더링한다. 내부적으로 <code class=\"language-text\">Grid</code>를 사용하여 행을 나열한다. 실제 아이템 각각은 <code class=\"language-text\">List</code>의 어트리뷰트인 <code class=\"language-text\">rowRenderer</code>를 사용하여 렌더링한다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">rowRenderer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> index<span class=\"token punctuation\">,</span> isVisible<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> style <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> list<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> content <span class=\"token operator\">=</span> isScrolling <span class=\"token operator\">?</span> <span class=\"token string\">\"...\"</span> <span class=\"token operator\">:</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span></span> <span class=\"token attr-name\">user</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>style<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>content<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p><strong>windowing</strong>은 목록을 가상화한다는 의미다. <strong>virtualize</strong>와도 같은 의미다. 사용자에게 실제로 보이지 않은 컴포넌트는 렌더링하지 않고 영역만 차지하고 있다가, 스크롤을 내리면 비로소 해당 위치에 있는 컴포넌트를 렌더링해서 보여주는 방식이다.</p>\n</blockquote>\n<p>다음에는 virtualized list를 사용해서 인피니티 스크롤을 구현해봐야겠다.</p>\n<p><strong>Ref</strong>\n<a href=\"https://javascript.plainenglish.io/react-app-performance-optimization-the-definitive-guide-9b658be3b6e4\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://javascript.plainenglish.io/react-app-performance-optimization-the-definitive-guide-9b658be3b6e4</a>\n<a href=\"https://github.com/bvaughn/react-virtualized\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/bvaughn/react-virtualized</a>\n<a href=\"https://github.com/bvaughn/react-window\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/bvaughn/react-window</a>\n<a href=\"https://velog.io/@kimjh96/react-virtualized-%EB%A0%8C%EB%8D%94%EB%A7%81-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://velog.io/@kimjh96/react-virtualized-렌더링-성능-최적화</a></p>\n<hr>\n<h2 id=\"기타\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80\" aria-label=\"기타 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기타</h2>\n<h3 id=\"20211202\" style=\"position:relative;\"><a href=\"#20211202\" aria-label=\"20211202 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>20211202</h3>\n<p>수요일은 팰린드롬 데이였다. 앞뒤가 정확히 대칭인 이런 날이 작년 2월, 그니까 20200202에도 한번 있었는데, 그때만큼의 희열(!)은 아니지만 언제 또 이런 날짜가 다시 올까. 근데 이런 것에 그만 의미 부여하자. <del>유치해</del></p>\n<h3 id=\"기술블로그-구독-서비스\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EC%88%A0%EB%B8%94%EB%A1%9C%EA%B7%B8-%EA%B5%AC%EB%8F%85-%EC%84%9C%EB%B9%84%EC%8A%A4\" aria-label=\"기술블로그 구독 서비스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기술블로그 구독 서비스</h3>\n<p>피들리라는 좋은 사이트가 있다!</p>\n<p><strong>Ref</strong> <a href=\"https://feedly.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://feedly.com/</a></p>\n<h3 id=\"dan-선생님과-함께-하는-인터뷰\" style=\"position:relative;\"><a href=\"#dan-%EC%84%A0%EC%83%9D%EB%8B%98%EA%B3%BC-%ED%95%A8%EA%BB%98-%ED%95%98%EB%8A%94-%EC%9D%B8%ED%84%B0%EB%B7%B0\" aria-label=\"dan 선생님과 함께 하는 인터뷰 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dan 선생님과 함께 하는 인터뷰</h3>\n<p><strong>Ref</strong> <a href=\"https://www.youtube.com/watch?v=XEt09iK8IXs&#x26;feature=youtu.be\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.youtube.com/watch?v=XEt09iK8IXs&#x26;feature=youtu.be</a></p>\n<h3 id=\"구독하기-좋은-기술-뉴스레터\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EB%8F%85%ED%95%98%EA%B8%B0-%EC%A2%8B%EC%9D%80-%EA%B8%B0%EC%88%A0-%EB%89%B4%EC%8A%A4%EB%A0%88%ED%84%B0\" aria-label=\"구독하기 좋은 기술 뉴스레터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구독하기 좋은 기술 뉴스레터</h3>\n<ul>\n<li>긱뉴스 <a href=\"https://news.hada.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://news.hada.io/</a></li>\n<li>아웃스탠딩 <a href=\"https://outstanding.kr/newsletter\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://outstanding.kr/newsletter</a></li>\n</ul>\n<hr>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>우아한테크코스를 수료한 이후, ‘우테코 n주차 기록’이 아닌 오롯이 나를 위한 12월 첫주차 기록이다. 한 해의 마지막인 12월, 그 달의 첫 주가 지나간다. 그래도 다시 정신 차리고 뭐라도 하고 있다. 알고리즘 스터디도 다시(그치만 혼자), 타입스크립트 이펙티브 스터디도 시작하고, 크루들과 함께하는 유캔두도 시작했다. 건강한 SNS 보는 기분. 재밌다.</p>\n<p>우테코 4기에 지원한 분들은 프리코스를 진행하고 있다. 괜히 궁금해서 레포에 들어가봤는데, 이미 다들 엄청난 실력과 스펙을 보유하고 계신다. 이미 나보다 잘하는 분들도 많다. 우테코 3기로 활동할 수 있어서 참 다행이다(?)</p>\n<p>그리고 아직도 많은 회사들에선 연락이 없다. 숨막힌다 정말 😞 빨리 다시 코딩하고 싶다. React Native로 뭘 만들지 기획까지 해놓고서, 진도를 나가고 있지 못하다. 아이패드 에어 사서 일러스트 강의 들어야지. 갑자기 폴라로이드도 꽂혀서 중고 뒤지고 있는 중. 물욕 장난 아니다. 그치만 뭐라도 욕심이 있어서 다행이다.</p>","timeToRead":7,"frontmatter":{"title":"12월 1주차 기록","date":"December 03, 2021","description":"weekly-i-learned","tags":["weekly"],"disqus":null},"fields":{"langKey":"en"}}},"pageContext":{"slug":"/weekly/2021-12-week-1/","previous":{"fields":{"slug":"/weekly/2021-12-week-2/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"December 12, 2021","description":"weekly-i-learned","title":"12월 2주차 기록","tags":["weekly"]}},"next":{"fields":{"slug":"/disqus/","langKey":"en","directoryName":"disqus"},"frontmatter":{"date":"June 10, 2019","description":"add disqus on gatsby","title":"Show Disqus","tags":["2019"]}},"previousInSameTag":{"fields":{"slug":"/weekly/2021-12-week-2/","langKey":"en","directoryName":"weekly"},"frontmatter":{"date":"December 12, 2021","description":"weekly-i-learned","title":"12월 2주차 기록","tags":["weekly"]}},"nextInSameTag":null,"translationsLink":[]}},"staticQueryHashes":["1522010811","1615650028","2894998521","3765107650","683610688"]}