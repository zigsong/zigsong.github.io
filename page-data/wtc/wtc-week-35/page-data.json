{"componentChunkName":"component---src-templates-blog-post-js","path":"/wtc/wtc-week-35/","result":{"data":{"site":{"siteMetadata":{"title":"ziglog","author":"zigsong","lang":"en"}},"markdownRemark":{"id":"79bf8c80-6e7c-5786-824c-225d1c2ecfeb","excerpt":"끝나지 않는 SSR | 로그인에 refreshToken 이용하기 | setState에 await을 붙이면? 놀토 프로젝트 SSR을 적용하며 발생하는 각양각색의 버그에 대응하고, 갑자기 깨져버리는 mp…","html":"<p>끝나지 않는 SSR | 로그인에 refreshToken 이용하기 | setState에 await을 붙이면?</p>\n<!-- more -->\n<hr>\n<h2 id=\"놀토-프로젝트\" style=\"position:relative;\"><a href=\"#%EB%86%80%ED%86%A0-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8\" aria-label=\"놀토 프로젝트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>놀토 프로젝트</h2>\n<p>SSR을 적용하며 발생하는 각양각색의 버그에 대응하고, 갑자기 깨져버리는 mp4 파일도 대응하고, 여러가지로 고난의 세월을 보내고 있다.</p>\n<p>그리고 refreshToken을 이용하여 기존의 로그인 방식을 개선하고 있다. 만만치 않을 것이라고는 생각했는데, 정말 생각보다 더욱 만만치 않다. 세상 일이 이렇게 뜻대로 되는 게 드문 시기다. 🤷‍♀️ <a href=\"https://zigsong.github.io/2021/10/16/wtc-week-35/#%EB%A1%9C%EA%B7%B8%EC%9D%B8%EC%97%90-refreshToken-%EC%9D%B4%EC%9A%A9%ED%95%98%EA%B8%B0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">아래</a>에서 확인 가능하다.</p>\n<hr>\n<h2 id=\"프론트엔드-공부\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EA%B3%B5%EB%B6%80\" aria-label=\"프론트엔드 공부 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프론트엔드 공부</h2>\n<h3 id=\"로그인에-refreshtoken-이용하기\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EA%B7%B8%EC%9D%B8%EC%97%90-refreshtoken-%EC%9D%B4%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"로그인에 refreshtoken 이용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로그인에 refreshToken 이용하기</h3>\n<p>🍀 <a href=\"https://zigsong.github.io/2021/10/16/refresh-token/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">여기서 읽기</a></p>\n<h3 id=\"react의-setstate에-await을-붙이면\" style=\"position:relative;\"><a href=\"#react%EC%9D%98-setstate%EC%97%90-await%EC%9D%84-%EB%B6%99%EC%9D%B4%EB%A9%B4\" aria-label=\"react의 setstate에 await을 붙이면 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React의 setState에 await을 붙이면?</h3>\n<p>🍀 <a href=\"https://zigsong.github.io/2021/10/16/await-setstate/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">여기서 읽기</a></p>\n<hr>\n<h2 id=\"공부하기\" style=\"position:relative;\"><a href=\"#%EA%B3%B5%EB%B6%80%ED%95%98%EA%B8%B0\" aria-label=\"공부하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>공부하기</h2>\n<h3 id=\"javascript의-단축-평가\" style=\"position:relative;\"><a href=\"#javascript%EC%9D%98-%EB%8B%A8%EC%B6%95-%ED%8F%89%EA%B0%80\" aria-label=\"javascript의 단축 평가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JavaScript의 단축 평가</h3>\n<p><code class=\"language-text\">&amp;&amp;</code>, <code class=\"language-text\">||</code> 그리고 null 병합 연산자인 <code class=\"language-text\">??</code>까지. 습관적으로 사용했지만 기대값을 확실하게 알고 쓰지 못했던 JavaScript의 단축 평가에 대해 정리해 보자.</p>\n<p><code class=\"language-text\">&amp;&amp;</code>(논리곱) 연산자는 두 개의 피연산자가 모두 true로 평가될 때 true를 반환한다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token string\">\"Cat\"</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token string\">\"Dog\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// \"Dog\"</span></code></pre></div>\n<p>첫 번째 피연산자 ‘Cat’은 Truthy 값이므로 true로 평가된다. 하지만 두 번째 피연산자까지 평가해 보아야 한다. 여기서는 논리 연산의 결과를 결정하는 두 번째 피연산자, 두 번째 피연산자인 ‘Dog’을 반환한다.</p>\n<p><code class=\"language-text\">||</code>(논리합) 연산자는 두 개의 피연산자 중 하나만 true로 평가되어도 true를 반환한다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token string\">\"Cat\"</span> <span class=\"token operator\">||</span> <span class=\"token string\">\"Dog\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// \"Cat\"</span></code></pre></div>\n<p>첫 번째 피연산자 ‘Cat’은 Truthy 값이므로 true로 평가된다. 두 번째 피연산자까지 평가해 보지 않아도 위 표현식을 평가할 수 있다. 여기서는 논리 연산의 결과를 결정한 첫 번째 피연산자, 즉 문자열 ‘Cat’을 반환한다.</p>\n<p>이처럼 표현식을 평가하는 도중에 평가 결과가 확정된 경우 나머지 평가 과정을 생략하는 것을 <strong>단축 평가</strong>라 한다.</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">단축 평가 표현식</th>\n<th align=\"left\">평가 결과</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">true || anything</td>\n<td align=\"left\">true</td>\n</tr>\n<tr>\n<td align=\"left\">false || anything</td>\n<td align=\"left\">anything</td>\n</tr>\n<tr>\n<td align=\"left\">true &#x26;&#x26; anything</td>\n<td align=\"left\">anything</td>\n</tr>\n<tr>\n<td align=\"left\">false &#x26;&#x26; anything</td>\n<td align=\"left\">false</td>\n</tr>\n</tbody>\n</table>\n<p>🤔 이제, 헷갈리는 부분</p>\n<p>객체를 가리키기를 기대하는 변수가 <code class=\"language-text\">null</code> 또는 <code class=\"language-text\">undefined</code>가 아닌지 확인하고 프로퍼티를 참조할 때</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> elem <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> value <span class=\"token operator\">=</span> elem <span class=\"token operator\">&amp;&amp;</span> elem<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span> <span class=\"token comment\">// null</span></code></pre></div>\n<p>위 예제에서 elem이 <code class=\"language-text\">null</code>이나 <code class=\"language-text\">undefined</code>와 같은 falsy 값이면 elem으로 평가되고, elem이 Truthy 값이면 elem.value로 평가된다.</p>\n<p>막상 적고 보니 그리 헷갈리는 내용도 아니었다.\n그렇다면 마지막으로 null 병합 연산자인 <code class=\"language-text\">??</code>도 살펴보자. <code class=\"language-text\">??</code> 연산자는 무려 ES11에서 도입되었다고 한다. 엊그제 생긴 셈!</p>\n<p><code class=\"language-text\">??</code>는 좌항의 피연산자가 <code class=\"language-text\">null</code> 또는 <code class=\"language-text\">undefined</code>인 경우 우항의 피연산자를 반환하고, 그렇지 않으면 좌항의 피연산자를 반환한다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> foo <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">??</span> <span class=\"token string\">\"default string\"</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// \"default string\"</span></code></pre></div>\n<p><code class=\"language-text\">??</code>는 변수에 기본값을 설정할 때 유용하다. 논리 연산자 <code class=\"language-text\">||</code>를 사용한 단축 평가의 경우 좌항의 피연산자가 falsy 값이면 우항의 피연산자를 반환한다. 만약 falsy 값인 <code class=\"language-text\">0</code>이나 <code class=\"language-text\">''</code>도 기본값으로서 유효하다면 예기치 않은 동작이 발생할 수 있다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> foo <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span> <span class=\"token operator\">||</span> <span class=\"token string\">\"default string\"</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// \"default string\"</span></code></pre></div>\n<p>하지만 null 병합 연산자 <code class=\"language-text\">??</code>는 좌항의 피연산자가 falsy 값이라도 <code class=\"language-text\">null</code> 또는 <code class=\"language-text\">undefined</code>가 아니라면 좌항의 피연산자를 그대로 반환한다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> foo <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span> <span class=\"token operator\">??</span> <span class=\"token string\">\"default string\"</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// \"\"</span></code></pre></div>\n<p><strong>Ref</strong> 모던 자바스크립트 Deep Dive 9-4절</p>\n<h3 id=\"모두-알지만-모두-모르는-packagejson\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%91%90-%EC%95%8C%EC%A7%80%EB%A7%8C-%EB%AA%A8%EB%91%90-%EB%AA%A8%EB%A5%B4%EB%8A%94-packagejson\" aria-label=\"모두 알지만 모두 모르는 packagejson permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>모두 알지만 모두 모르는 package.json</h3>\n<p>(뜨끔 🙄)</p>\n<ul>\n<li><strong>name</strong>과 <strong>version</strong>은 필수적으로 명시해준다.</li>\n<li><strong>description</strong>과 <strong>keywords</strong>를 작성하여 <code class=\"language-text\">npm search</code>로 검색된 리스트에 표시되게끔 해준다.</li>\n<li><strong>people fields</strong>는 <strong>author</strong>와 <strong>contributors</strong>로 구분된다.</li>\n<li><strong>files</strong>는 프로젝트에 포함된 파일의 배열, <strong>directories</strong>는 패키지 구성을 나타낸다.</li>\n<li><strong>bin</strong>을 사용하여 실행할 수 있는 패키지를 구성할 수 있다.</li>\n<li><strong>scripts</strong> 항목은 패키지의 생명주기 중 다양한 타이밍에서 실행되는 script 명령어들을 포함하고 있는 사전이다.</li>\n<li><strong>dependencies</strong> 의존성 규정을 패키지의 이름과 해당 패키지의 버전 범위를 지정한 객체를 통해 이루어진다. <code class=\"language-text\">semver</code>를 참고하여 버전 범위를 지정하자.</li>\n<li><strong>devDependencies</strong>는 운영이 아닌 개발 단계에서만 필요한 의존성 모듈들을 가리킨다.</li>\n<li><strong>peerDependencies</strong>는 어떤 패키지가 다른 (호스트) 패키지와 호환성을 가지고 있음을 표현한다. 즉 다른 모듈과 함께 동작할 수 있다는 호환성을 표시하는 것이다. 이를 일반적으로 플러그인이라고 한다.</li>\n<li>npm 2.0.0부터 로컬 경로(local paths)를 패키지에 포함시킬 수 있다.</li>\n<li><strong>engines</strong>로 동작 가능한 node의 버전을, <strong>os</strong>로 모듈이 어떤 운영체제에서 작동하는지 지정할 수 있다. <strong>cpu</strong>는 특정한 CPU 아키텍쳐에서만 동작한다는 것을 명시한다.</li>\n<li><strong>publishConfig</strong>는 publish할 때 사용되는 설정으로, tag와 registry, access를 다룰 수 있다.</li>\n</ul>\n<p><strong>Ref</strong> <a href=\"https://programmingsummaries.tistory.com/385\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://programmingsummaries.tistory.com/385</a></p>\n<h3 id=\"arrayfilterboolean\" style=\"position:relative;\"><a href=\"#arrayfilterboolean\" aria-label=\"arrayfilterboolean permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>array.filter(Boolean)</h3>\n<p>webpack config를 뜯어보다가 신기한 문법을 발견했다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"production\"</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Plugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>\n  Boolean\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>배열에서 filter를 돌릴 때 조건을 <code class=\"language-text\">Boolean</code>으로 제공하면, 배열의 요소 중 falsy 값을 제거한 깔끔한 배열을 만들 수 있다.</p>\n<p>즉 아래와 같이 <code class=\"language-text\">false</code>, <code class=\"language-text\">0</code>과 같은 falsy 값들을 제외해준다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">let</span> array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0n</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token number\">NaN</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">hello</span><span class=\"token operator\">:</span> <span class=\"token string\">\"world\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>Boolean<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [{ hello: \"world\" }]</span></code></pre></div>\n<p><strong>Ref</strong> <a href=\"https://velog.io/@yongbum/filter-boolean\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://velog.io/@yongbum/filter-boolean</a></p>\n<h3 id=\"javascript-엔진은-어떻게-내-코드를-실행하는-걸까\" style=\"position:relative;\"><a href=\"#javascript-%EC%97%94%EC%A7%84%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%82%B4-%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%8B%A4%ED%96%89%ED%95%98%EB%8A%94-%EA%B1%B8%EA%B9%8C\" aria-label=\"javascript 엔진은 어떻게 내 코드를 실행하는 걸까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JavaScript 엔진은 어떻게 내 코드를 실행하는 걸까?</h3>\n<ul>\n<li>\n<p><strong>Ignition</strong>\n직역하면 ‘점화’라는 뜻이다. V8 엔진이 소스코드에서 뽑아낸 AST(추상 구문)를 바이트코드로 변환하는 인터프리터다. 자바스크립트 코드를 곧바로 기계어로 컴파일하는 것보다 바이트 코드를 컴파일하는 것이 더 효율적이기 때문에, 한 차례 인터프리터를 거친다. Ignition은 코드 한줄 한줄을 바이트 코드로 바꿔주는 친구다.</p>\n<blockquote>\n<p><strong>👾 바이트 코드?</strong>\n직접 CPU 내의 레지스터와 누산기를 어떤 식으로 사용할지 명령하는 명령문이다. 사람이 이해하긴 어렵지만 컴퓨터 입장에서는 이해하기 좋은 방식이다.</p>\n</blockquote>\n</li>\n<li>\n<p><strong>TurboFan</strong>\nV8 엔진은 런타임 중에 <code class=\"language-text\">Profiler</code>라는 친구에게 함수나 변수의 호출 빈도와 같은 데이터를 모으라고 시킨다. 이렇게 모인 데이터를 가지고 자주 사용되는 코드는 TurboFan에서 최적화된 코드로 다시 컴파일한다. 최적화 기법으로는 히든 클래스(Hidden Class)나 인라인 캐싱(Inline Caching) 등의 기법을 사용한다.</p>\n</li>\n</ul>\n<p>아직까지는 정확히 모르겠지만, JavaScript 엔진이 굉장히 분주하게 소스코드 최적화를 위해 움직이는 것을 알 수 있었다. Ignition과 TurboFan을 이용하여 바이트코드와 최적화된 코드 사이를 왔다갔다 하는 모습이 귀엽게 느껴진다. 😗</p>\n<p><strong>Ref</strong> <a href=\"https://evan-moon.github.io/2019/06/28/v8-analysis/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://evan-moon.github.io/2019/06/28/v8-analysis/</a></p>\n<hr>\n<h2 id=\"기타\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80\" aria-label=\"기타 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기타</h2>\n<h3 id=\"feconf-2021\" style=\"position:relative;\"><a href=\"#feconf-2021\" aria-label=\"feconf 2021 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FEConf 2021</h3>\n<p><strong>Ref</strong> <a href=\"https://2021.feconf.kr/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://2021.feconf.kr/</a></p>\n<h3 id=\"state-of-css-survey\" style=\"position:relative;\"><a href=\"#state-of-css-survey\" aria-label=\"state of css survey permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>state of css survey</h3>\n<p><strong>Ref</strong> <a href=\"https://stateofcss.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://stateofcss.com/</a></p>\n<hr>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>백신 2차를 맞았다. 아팠다. 그렇지만 타이레놀 갓갓. 1차 때도 사흘을 아팠던 나인데, 타이레놀 두 알 먹고 하루 반나절 아프고 나았다. 얕고 길게 아팠던 1차 때와 달리, 크고 짧게 아프고 나았다.</p>\n<p>사이트도 만들었다. 영상도 만들었다. 또 코딩 외적으로 시간을 대거 투자했다. 회사 가면 이런 일은 없겠지? 그럼에도 글도 쓰고, 또 면접 보고, 미션도 어떻게 마무리하긴 했다. 알차게 놀기까지! 정말 가득가득 채운 삶</p>","timeToRead":7,"frontmatter":{"title":"우테코 35주차 기록","date":"October 16, 2021","description":null,"tags":["woowacourse"],"disqus":null},"fields":{"langKey":"en"}}},"pageContext":{"slug":"/wtc/wtc-week-35/","previous":{"fields":{"slug":"/etc/ioc/","langKey":"en","directoryName":"etc"},"frontmatter":{"date":"October 23, 2021","description":null,"title":"Inversion of Control (IOC)","tags":["디자인패턴"]}},"next":{"fields":{"slug":"/frontend/refresh-token/","langKey":"en","directoryName":"frontend"},"frontmatter":{"date":"October 16, 2021","description":null,"title":"로그인에 refreshToken 적용하기","tags":["frontend"]}},"previousInSameTag":{"fields":{"slug":"/wtc/wtc-week-36/","langKey":"en","directoryName":"wtc"},"frontmatter":{"date":"October 23, 2021","description":null,"title":"우테코 36주차 기록","tags":["woowacourse"]}},"nextInSameTag":{"fields":{"slug":"/wtc/wtc-week-34/","langKey":"en","directoryName":"wtc"},"frontmatter":{"date":"October 09, 2021","description":null,"title":"우테코 34주차 기록","tags":["woowacourse"]}},"translationsLink":[]}},"staticQueryHashes":["1522010811","2466007692","2894998521","3765107650","683610688"]}