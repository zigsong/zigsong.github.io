{"componentChunkName":"component---src-templates-blog-post-js","path":"/wtc/wtc-week-34/","result":{"data":{"site":{"siteMetadata":{"title":"ziglog","author":"zigsong","lang":"en"}},"markdownRemark":{"id":"059e5563-f753-53fb-9f40-d6102b0f6c5a","excerpt":"SSR ë²„ê·¸ ê³ ì¹˜ëŠ” ì¤‘ ë†€í†  í”„ë¡œì íŠ¸ SSRë¡œ ì¸í•œ ê°ì¢… ë²„ê·¸ ê³ ì¹˜ê¸° ëŒ€ì”ì¹˜â€¦\nreact-queryë¥¼ ì ìš©í•˜ì—¬ í”¼ë“œ ë°ì´í„°ê¹Œì§€ ì„œë²„ì—ì„œ ë¯¸ë¦¬ ë°›ì•„ì„œ ë¸Œë¼ìš°ì €ì— ë Œë”ë§í•´ì£¼ë„ë¡ í–ˆë‹¤. express ì„œë²„ì—ì„œ react-queryâ€¦","html":"<p>SSR ë²„ê·¸ ê³ ì¹˜ëŠ” ì¤‘</p>\n<!-- more -->\n<hr>\n<h2 id=\"ë†€í† -í”„ë¡œì íŠ¸\" style=\"position:relative;\"><a href=\"#%EB%86%80%ED%86%A0-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8\" aria-label=\"ë†€í†  í”„ë¡œì íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë†€í†  í”„ë¡œì íŠ¸</h2>\n<p>SSRë¡œ ì¸í•œ ê°ì¢… ë²„ê·¸ ê³ ì¹˜ê¸° ëŒ€ì”ì¹˜â€¦\nreact-queryë¥¼ ì ìš©í•˜ì—¬ í”¼ë“œ ë°ì´í„°ê¹Œì§€ ì„œë²„ì—ì„œ ë¯¸ë¦¬ ë°›ì•„ì„œ ë¸Œë¼ìš°ì €ì— ë Œë”ë§í•´ì£¼ë„ë¡ í–ˆë‹¤.</p>\n<h3 id=\"express-ì„œë²„ì—ì„œ-react-queryë¡œ-ë°ì´í„°-ë‚´ë ¤ì£¼ê¸°\" style=\"position:relative;\"><a href=\"#express-%EC%84%9C%EB%B2%84%EC%97%90%EC%84%9C-react-query%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%82%B4%EB%A0%A4%EC%A3%BC%EA%B8%B0\" aria-label=\"express ì„œë²„ì—ì„œ react queryë¡œ ë°ì´í„° ë‚´ë ¤ì£¼ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>express ì„œë²„ì—ì„œ react-queryë¡œ ë°ì´í„° ë‚´ë ¤ì£¼ê¸°</h3>\n<p>ì ‘ì†í•œ ì•±ì˜ í˜ì´ì§€ê°€ ì„œë²„ ë°ì´í„°ë¥¼ ë°›ì•„ì„œ ë³´ì—¬ì¤˜ì•¼ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¼ë©´, SSR ì ìš© ì‹œ ì„œë²„ì—ì„œë„ í•¨ê»˜ í•´ë‹¹ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë°›ì•„ì„œ ë‚´ë ¤ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê·¸ë˜ì•¼ ê´€ë ¨ í”¼ë“œë¥¼ ê²€ìƒ‰í–ˆì„ ë•Œ SEOì— ë°˜ì˜ë˜ê¸° ë•Œë¬¸ì´ë‹¤. í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ ë°ì´í„° fetch ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ react-queryë¥¼ express ì„œë²„ì—ë„ ì ìš©ì‹œì¼œ ë³´ì•˜ë‹¤.</p>\n<p>react-query ê³µì‹ ë¬¸ì„œì—ì„œ ì§€ì›í•˜ëŠ” SSR ì‘ì„± ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// server.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> dehydrate<span class=\"token punctuation\">,</span> Hydrate<span class=\"token punctuation\">,</span> QueryClient<span class=\"token punctuation\">,</span> QueryClientProvider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-query'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">handleRequest</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> queryClient <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QueryClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">await</span> queryClient<span class=\"token punctuation\">.</span><span class=\"token function\">prefetchQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">'key'</span><span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> dehydratedState <span class=\"token operator\">=</span> <span class=\"token function\">dehydrate</span><span class=\"token punctuation\">(</span>queryClient<span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">renderToString</span><span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">QueryClientProvider</span></span> <span class=\"token attr-name\">client</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>queryClient<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Hydrate</span></span> <span class=\"token attr-name\">state</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>dehydratedState<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Hydrate</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">QueryClientProvider</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    &lt;html>\n      &lt;body>\n        &lt;div id=\"root\"></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>html<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/div>\n        &lt;script>\n          window.__REACT_QUERY_STATE__ = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>dehydratedState<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n        &lt;/script>\n      &lt;/body>\n    &lt;/html>\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì•½ê°„ ë³€í˜•í•´ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í–ˆë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">app<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/feeds/:feedId\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">generateResponse</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">queryClient</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> queryClient<span class=\"token punctuation\">.</span><span class=\"token function\">prefetchQuery</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">[</span><span class=\"token constant\">QUERY_KEYS</span><span class=\"token punctuation\">.</span><span class=\"token constant\">FEED_DETAIL</span><span class=\"token punctuation\">,</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>params<span class=\"token punctuation\">.</span>feedId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">getFeedDetail</span><span class=\"token punctuation\">(</span><span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>params<span class=\"token punctuation\">.</span>feedId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">generateResponse</code> í•¨ìˆ˜ì—ì„œëŠ” ì„¸ ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬ ë°›ì€ query functionì„ ì‹¤í–‰í•˜ê³ , í•´ë‹¹ ë°ì´í„°ë¥¼ serializeí•œ query data ì •ë³´ë¥¼ í´ë¼ì´ì–¸íŠ¸ì˜ ì „ì—­ ë³€ìˆ˜(<code class=\"language-text\">window</code>)ë¡œ ë‚´ë ¤ì¤€ë‹¤.</p>\n<p>(ì „ì²´ ì½”ë“œëŠ” ğŸ€ <a href=\"https://zigsong.github.io/2021/10/02/ssr/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ì—¬ê¸°ì„œ ì½ê¸°</a>)</p>\n<p>ê·¸ë¦¬ê³  ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ë¦¬ì•¡íŠ¸ ì•± ì§„ì…ì ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤. ì„œë²„ì—ì„œ ë‚´ë ¤ì£¼ëŠ” query data ì •ë³´ë¥¼ window ê°ì²´ì—ì„œ <code class=\"language-text\">__REACT_QUERY_STATE__</code>ë¡œ ë¶ˆëŸ¬ì™€, <code class=\"language-text\">Hydrate</code>ë¥¼ í†µí•´ ë¦¬ì•¡íŠ¸ ì•±ì— ì‹¬ì–´ì¤€ë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Hydrate<span class=\"token punctuation\">,</span> QueryClient<span class=\"token punctuation\">,</span> QueryClientProvider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-query\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> dehydratedState <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>__REACT_QUERY_STATE__<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> queryClient <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QueryClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">hydrate</span><span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">QueryClientProvider</span></span> <span class=\"token attr-name\">client</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>queryClient<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Hydrate</span></span> <span class=\"token attr-name\">state</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>dehydratedState<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Hydrate</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">QueryClientProvider</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê°œë°œì ë„êµ¬ì˜ Network íƒ­ì„ í†µí•´ ì„œë²„ì—ì„œ react-query ë°ì´í„°ë¥¼ ë‚´ë ¤ì£¼ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤!</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/0047e6aa32b301f7de6ec6fc01be0513/cd536/01.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 72.97297297297297%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC1UlEQVQ4y2WS6Y6cRgCEeY/szNBc3dzQ3OcAc3i9sSIlspT3f5IvgrHXsvKj1C0kPlV1lTGtT4q6I8lL0qwgywuiOCOMc6pmOO510xP6Po4wuZxOaF2R5iV5UZHnBU3bHf96MsDYpht/Px7c+p66qmiahjTNONs+puVyvti4tkNdpNRdQ6dDli5jalPWMaOvY/I0RMoAUzgYnQ4YmpamKFBKHQrDiItwD+DFtBGWi2lLzo7izXQQloNpvc6zafN2tjidxXE3xj5luT+5rtuhZbuRpjlnJ8C0vAMq85a8GQmDEB0FRFKR+opIvU7XlaggIVISo28ShunKfF0PTfOVJM1eDn+49MuB+vqkqWqaPCP03AOU+C+g8iRSRYR+gNFWIeMBXEizHM/zCKP4BRPOC5i3NPOdtqqZKs3Stcx1RR746EARuC7S85FBinHfrlzX2xF1nGbqpiGOE04yOyJfHIVsV/L5STFsZN2KHu/MTUUcJaS6YsgjRp0wFzHGtt1ecZeV++ML6+2B8n1OSnO2JLHjMlQ9Q9mxlB1bPbBUPd/rlGca8SwL/q1CvlcR/+g9ctcd7rbb49Cy3pDK/2y5FiZxohnagSFTDFrR6oAykaS+i3JcHNNCmDaZEBhl033C9pb32J4nP4GlaXIybULl86xjvvYaXVYIZ39jm8s+LeHwJhxCYWHsK7+/f3DdXT6edOP0O1CYRzn7wPdNxlLSpzF5FCE8//i+64+L/QJu88zcdszdrp46y3Bd73/An3q72Ahhs+UhW1+QBT5tHOC5kspzMJZp5ssw8D5OfEwzY65xHZfLj1H/AtqHhHBIgpA6j4/JKNejCBQ69Bl8FyMvCsZlZbgutONEWTc4Px0Kl0KYnE3nNw1pQK8T+jTkUUaHS19KtOdibOuN949vvH/9k49vf/F4vn+2LGyP1jIJLAv/p4TFFkuuOubRZkyhJLSdo+nSMvkPKpDQYmN7fjIAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"01\" title=\"01\" src=\"/static/0047e6aa32b301f7de6ec6fc01be0513/fcda8/01.png\" srcset=\"/static/0047e6aa32b301f7de6ec6fc01be0513/12f09/01.png 148w,\n/static/0047e6aa32b301f7de6ec6fc01be0513/e4a3f/01.png 295w,\n/static/0047e6aa32b301f7de6ec6fc01be0513/fcda8/01.png 590w,\n/static/0047e6aa32b301f7de6ec6fc01be0513/efc66/01.png 885w,\n/static/0047e6aa32b301f7de6ec6fc01be0513/cd536/01.png 1114w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p><strong>Ref</strong> <a href=\"https://react-query.tanstack.com/guides/ssr\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://react-query.tanstack.com/guides/ssr</a></p>\n<h3 id=\"ssrì—ì„œ-react-portal-ì‚¬ìš©í•˜ê¸°\" style=\"position:relative;\"><a href=\"#ssr%EC%97%90%EC%84%9C-react-portal-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"ssrì—ì„œ react portal ì‚¬ìš©í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SSRì—ì„œ React Portal ì‚¬ìš©í•˜ê¸°</h3>\n<p>SSRì„ ì‚¬ìš©í•˜ë‹ˆ react portalì„ ì‚¬ìš©í•˜ëŠ” SnackbarProvider ì»´í¬ë„ŒíŠ¸ê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šì•˜ë‹¤. BaseLayoutì´ SnackbarProvider ë‚´ë¶€ì— ë“¤ì–´ê°€ë²„ë¦¬ëŠ” ë°”ëŒì—, snackbarê°€ ëœ¨ëŠ” ìœ„ì¹˜ê°€ ì™„ì „íˆ ê¼¬ì—¬ë²„ë¦° ê²ƒì´ë‹¤. ë„ëŒ€ì²´ ë­ê°€ ë¬¸ì œì¸ì§€ í•œì°¸ì„ ê³ ë¯¼í–ˆë‹¤.</p>\n<p>ì²« ë²ˆì§¸ ì ‘ê·¼ì€, ì„œë²„ê°€ React Portalì„ ì´í•´í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— Portalì€ í´ë¼ì´ì–¸íŠ¸ ë‹¨ì—ì„œ ì²˜ë¦¬í•´ì£¼ìëŠ” ê²ƒì´ì—ˆë‹¤. React Portalì€ í˜„ì¬ React appì˜ ë£¨íŠ¸ ì»¨í…Œì´ë„ˆì¸ <code class=\"language-text\">&lt;div id=\"root\"></code> ì™¸ë¶€ì— DOMì„ ìƒˆë¡œ ìƒì„±í•˜ê³ , í•´ë‹¹ DOM ì»¨í…Œì´ë„ˆì— ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê²Œ ë˜ë¯€ë¡œ <code class=\"language-text\">&lt;div id=\"root\"></code>ë§Œ ì¡°ì‘í•˜ê³  ìˆëŠ” ì„œë²„ ë‹¨ì—ì„œëŠ” Portalì˜ ë Œë”ë§ì„ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ì—†ëŠ” ê²ƒì´ë‹¤.</p>\n<p>ë”°ë¼ì„œ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë˜ì—ˆì„ ë•Œ ë¹„ë¡œì†Œ Portalì„ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì½”ë“œë¥¼ ë³€ê²½í•´ì£¼ì—ˆë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">SnackbarProvider</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> Props<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isMounted<span class=\"token punctuation\">,</span> setIsMounted<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setIsMounted</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Context.Provider</span></span> <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>contextValue<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>hasWindow <span class=\"token operator\">&amp;&amp;</span>\n        isMounted <span class=\"token operator\">&amp;&amp;</span>\n        ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createPortal</span><span class=\"token punctuation\">(</span>\n          snackbarElement<span class=\"token punctuation\">,</span>\n          document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"snackbar-root\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Context.Provider</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ì œ SnackbarProviderëŠ” ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì—ì„œ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ë§Œ, ì–´ë–¤ ì´ìœ ì—ì„ ì§€ ì„œë²„ì—ì„œ ì•„ë¬´ ë°ì´í„°ë„ ë‚´ë ¤ì£¼ê³  ìˆì§€ ì•Šì•˜ë‹¤. ê·¸ëƒ¥ ë‹¤ì‹œ CSRì´ ëœ ê²ƒì´ë‹¤. ğŸ¤¯</p>\n<p>ì•„ë˜ì²˜ëŸ¼ SnackbarProviderë¥¼ loadableì„ ì´ìš©í•´ì„œ lazy loadingí•´ì£¼ì–´ë„ ë§ˆì°¬ê°€ì§€ì˜€ë‹¤. (<code class=\"language-text\">{ ssr: false }</code> ì˜µì…˜ì„ ì ìš©í–ˆë‹¤.)</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// App.tsx</span>\n<span class=\"token keyword\">import</span> SnackbarProvider <span class=\"token keyword\">from</span> <span class=\"token string\">\"contexts/snackbar/SnackbarProvider\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> SnackbarProvider <span class=\"token operator\">=</span> <span class=\"token function\">loadable</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span>\n      <span class=\"token comment\">/* webpackChunkName: \"SnackbarProvider\" */</span> <span class=\"token string\">\"contexts/snackbar/SnackbarProvider\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> ssr<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SnackbarProvider</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">// ..&lt;/SnackbarProvider>;\n};</span></code></pre></div>\n<p>ë¬¸ì œëŠ” ë”°ë¡œ ìˆì—ˆë‹¤! styled-componentsëŠ” í•˜ë‚˜ì˜ ì „ì—­ ì¹´ìš´í„°ë¥¼ ë‘ê³  ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ classnameì„ ìƒì„±í•˜ëŠ”ë°, í˜„ì¬ í´ë¼ì´ì–¸íŠ¸ ìš© webpack.common.jsì™€ ì„œë²„ ìš© webpack.server.jsê°€ ì„œë¡œ ë‹¤ë¥¸ babel í™˜ê²½ì„ ê°€ì§€ê³  ìˆì–´ì„œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ìƒì„±ëœ styled-component classnameê³¼ ì„œë²„ì—ì„œ ìƒì„±ëœ classnameì´ ë‹¬ëë‹¤.</p>\n<p>ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” <code class=\"language-text\">babel.config.json</code>ìœ¼ë¡œ í†µì¼ëœ babel í™˜ê²½ì„ ê´€ë¦¬í•˜ê±°ë‚˜ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ê°™ì€ webpack ì„¤ì •ì„ ê°€ì§€ë„ë¡ í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤. ì—¬ê¸°ì„œëŠ” í›„ìì˜ ë°©ë²•ì„ ì„ íƒí•˜ì—¬, webpackì˜ <code class=\"language-text\">merge</code> ë©”ì„œë“œë¥¼ í™œìš©í–ˆë‹¤. webpack.common.jsì™€ webpack.server.jsê°€ ê°™ì€ <code class=\"language-text\">babel-plugin-styled-components</code> í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨, classnameìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ìƒì„± ì‹œ ì„œë¡œ ì¶©ëŒì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.</p>\n<p><strong>Ref</strong> <a href=\"https://blog.shift.moe/2021/01/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://blog.shift.moe/2021/01/</a></p>\n<hr>\n<h2 id=\"ê³µë¶€í•˜ê¸°\" style=\"position:relative;\"><a href=\"#%EA%B3%B5%EB%B6%80%ED%95%98%EA%B8%B0\" aria-label=\"ê³µë¶€í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê³µë¶€í•˜ê¸°</h2>\n<h3 id=\"jsonstringify-ëŒ€ì‹ -serializeë¥¼-í•˜ëŠ”-ì´ìœ \" style=\"position:relative;\"><a href=\"#jsonstringify-%EB%8C%80%EC%8B%A0-serialize%EB%A5%BC-%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"jsonstringify ëŒ€ì‹  serializeë¥¼ í•˜ëŠ” ì´ìœ  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JSON.stringify ëŒ€ì‹  serializeë¥¼ í•˜ëŠ” ì´ìœ </h3>\n<p>SSRì—ì„œ react-queryë¥¼ ì‚¬ìš©í•˜ë©° ì„œë²„ì—ì„œ ë¯¸ë¦¬ ë°›ì•„ì˜¤ëŠ” react-queryì˜ ë°ì´í„°ë¥¼ <code class=\"language-text\">window</code> ê°ì²´ë¥¼ ì´ìš©í•´ ì „ì—­ ë³€ìˆ˜ë¡œ ë‚´ë ¤ì¤˜ì•¼ í–ˆë‹¤. ì´ë•Œ ê³µì‹ë¬¸ì„œì—ì„œëŠ” react-query ë°ì´í„° íƒ€ì…ì„ stringìœ¼ë¡œ ë°”ê¿”ì£¼ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ <code class=\"language-text\">JSON.stringify</code>ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤. ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ìƒê°í•´ë³¼ ìˆ˜ ìˆëŠ” ë°©ì‹ì´ë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n   // ...\n     &lt;div id=\"root\"></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>html<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/div>\n     &lt;script>\n       window.__REACT_QUERY_STATE__ = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>dehydratedState<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n     &lt;/script>\n   // ...\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê·¸ëŸ¬ë‚˜ ì´ë•Œ ëˆ„êµ°ê°€ê°€ ì•…ì˜ì ìœ¼ë¡œ ì „ì—­ ë³€ìˆ˜ì— script íƒœê·¸ë¥¼ ì‚½ì…í•œë‹¤ë©´? ğŸ˜ˆ</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  window.__userInJSON__ = {\"username\":\"</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> ì—¬ê¸°ê¹Œì§€ë§Œ ì˜ë„í•œ ëŒ€ë¡œ ì‹¤í–‰ <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">alert(\\\"ìš”ê±´ ëª°ëì§€\\\")</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\"<span class=\"token punctuation\">}</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>script íƒœê·¸ë¥¼ ì„ì˜ì ìœ¼ë¡œ ì‚½ì…í•˜ì—¬ ì•…ì˜ì ì¸ ë™ì‘ì„ ìˆ˜í–‰í•˜ëŠ” XSS ê³µê²©ì„ ë§‰ê¸° ìœ„í•´ <code class=\"language-text\">&lt;/</code> ê°™ì€ ë¬¸ìë¥¼ <code class=\"language-text\">&lt;</code> ê°™ì€ HTML ì—”í‹°í‹°ë¡œ ë°”ê¿”ì¤˜ì•¼ í•œë‹¤. ì´ë•Œ serializeë¥¼ ì‚¬ìš©í•œë‹¤. URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë“¤ì„ ìë™ìœ¼ë¡œ ì—°ê²°í•´ì£¼ëŠ” ì—­í• ë§Œ í•´ì£¼ëŠ” ì¤„ ì•Œì•˜ëŠ”ë°, ì´ëŸ° ê¸°ëŠ¥ê¹Œì§€ í•´ì£¼ë‹¤ë‹ˆ! ë˜‘ë˜‘í•˜ê³  ìœ ìš©í•œ ì¹œêµ¬ë‹¤.</p>\n<hr>\n<h2 id=\"ê¸°íƒ€\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80\" aria-label=\"ê¸°íƒ€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¸°íƒ€</h2>\n<h3 id=\"responsive-images\" style=\"position:relative;\"><a href=\"#responsive-images\" aria-label=\"responsive images permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Responsive Images</h3>\n<p><strong>âœ… ë§ˆí¬ì—… ì´ë¯¸ì§€</strong></p>\n<ul>\n<li>ì´ë¯¸ì§€ì— ìƒëŒ€ í¬ê¸° ì‚¬ìš©</li>\n<li>ë†’ì€ DPI ê¸°ê¸°ì—ì„œ srcsetë¡œ img ê°œì„ </li>\n<li>pictureê°€ ìˆëŠ” ë°˜ì‘í˜• ì´ë¯¸ì§€ì—ì„œì˜ ì•„íŠ¸ ë””ë ‰ì…˜</li>\n<li>ì••ì¶• ì´ë¯¸ì§€</li>\n<li>ìë°”ìŠ¤í¬ë¦½íŠ¸ ì´ë¯¸ì§€ ëŒ€ì²´ - <code class=\"language-text\">pageload</code> ì´ë²¤íŠ¸ê°€ ì‹¤í–‰ë  ë•Œê¹Œì§€ ì´ë¯¸ì§€ ë¡œë”©ì„ ì§€ì—°</li>\n<li>ì´ë¯¸ì§€ ì¸ë¼ì¸ ì²˜ë¦¬: ë˜ìŠ¤í„°(png, jpeg, webp) ë° ë²¡í„°(svg)</li>\n<li>ë°ì´í„° URI - <code class=\"language-text\">img</code> src ìš”ì†Œë¥¼ Base64 ì¸ì½”ë”© ë¬¸ìì—´ë¡œ ì„¤ì •</li>\n<li>CSSì—ì„œ ì¸ë¼ì¸ ì²˜ë¦¬ - HTTP ìš”ì²­ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<p><strong>âœ… CSSì˜ ì´ë¯¸ì§€</strong></p>\n<ul>\n<li>ì¡°ê±´ë¶€ ì´ë¯¸ì§€ ë¡œë”© ë˜ëŠ” ì•„íŠ¸ ë””ë ‰ì…˜ì— ë¯¸ë””ì–´ ì¿¼ë¦¬ ì‚¬ìš©</li>\n<li>image-setì„ ì‚¬ìš©í•˜ì—¬ ê³ í•´ìƒë„ ì´ë¯¸ì§€ ì œê³µ</li>\n<li>ë¯¸ë””ì–´ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê³ í•´ìƒë„ ì´ë¯¸ì§€ ë˜ëŠ” ì•„íŠ¸ ë””ë ‰ì…˜ ì œê³µ</li>\n</ul>\n<p><strong>âœ… ì•„ì´ì½˜ì— SVG ì ìš©</strong></p>\n<ul>\n<li>ê°„ë‹¨í•œ ì•„ì´ì½˜ì„ ìœ ë‹ˆì½”ë“œë¡œ ëŒ€ì²´</li>\n<li>ë³µì¡í•œ ì•„ì´ì½˜ì„ SVGë¡œ ëŒ€ì²´</li>\n<li>ì£¼ì˜í•´ì„œ ì•„ì´ì½˜ ê¸€ê¼´ ì‚¬ìš©</li>\n</ul>\n<p><strong>âœ… ì„±ëŠ¥ì„ ìœ„í•´ ì´ë¯¸ì§€ë¥¼ ìµœì í™”</strong></p>\n<ul>\n<li>ì˜¬ë°”ë¥¸ í˜•ì‹ ì„ íƒ: ë²¡í„° ì´ë¯¸ì§€ ë° ë˜ìŠ¤í„° ì´ë¯¸ì§€ ê³ ë ¤, ì˜¬ë°”ë¥¸ ì••ì¶• í˜•ì‹ ì„ íƒ</li>\n<li>íŒŒì¼ í¬ê¸° ì¤„ì´ê¸° - ì €ì¥ í›„ ì´ë¯¸ì§€ ì‚¬í›„ ì²˜ë¦¬(ë¬´ì†ì‹¤ ì••ì¶• ë“±)</li>\n<li>image sprite ì‚¬ìš©</li>\n<li>ì§€ì—° ë¡œë”© ê³ ë ¤</li>\n</ul>\n<p><strong>âœ… ì´ë¯¸ì§€ëŠ” ì ˆëŒ€ í”¼í•˜ì„¸ìš”</strong></p>\n<ul>\n<li>ì´ë¯¸ì§€ì— ì‚½ì…í•˜ëŠ” ëŒ€ì‹  ë§ˆí¬ì—…ì— í…ìŠ¤íŠ¸ë¥¼ ë°°ì¹˜</li>\n<li>CSSë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ ëŒ€ì²´</li>\n</ul>\n<p><strong>Ref</strong> <a href=\"https://developers.google.com/web/fundamentals/design-and-ux/responsive/images#replace_complex_icons_with_svg\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://developers.google.com/web/fundamentals/design-and-ux/responsive/images#replace_complex_icons_with_svg</a></p>\n<h3 id=\"ë ˆìŠ¤í† ë‘ì—-ë¹„ìœ í•´ì„œ-ì•Œì•„ë³´ëŠ”-ìš´ì˜ì²´ì œ\" style=\"position:relative;\"><a href=\"#%EB%A0%88%EC%8A%A4%ED%86%A0%EB%9E%91%EC%97%90-%EB%B9%84%EC%9C%A0%ED%95%B4%EC%84%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EB%8A%94-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C\" aria-label=\"ë ˆìŠ¤í† ë‘ì— ë¹„ìœ í•´ì„œ ì•Œì•„ë³´ëŠ” ìš´ì˜ì²´ì œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë ˆìŠ¤í† ë‘ì— ë¹„ìœ í•´ì„œ ì•Œì•„ë³´ëŠ” ìš´ì˜ì²´ì œ</h3>\n<p><strong>Ref</strong> <a href=\"https://wormwlrm.github.io/2021/10/04/OS-Restaurant.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://wormwlrm.github.io/2021/10/04/OS-Restaurant.html</a></p>\n<h3 id=\"ì›¹-ë¶€íŠ¸ìº í¼-ê°œë°œìë¥¼-ìœ„í•œ-ì»´í“¨í„°-ê³¼í•™\" style=\"position:relative;\"><a href=\"#%EC%9B%B9-%EB%B6%80%ED%8A%B8%EC%BA%A0%ED%8D%BC-%EA%B0%9C%EB%B0%9C%EC%9E%90%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%BB%B4%ED%93%A8%ED%84%B0-%EA%B3%BC%ED%95%99\" aria-label=\"ì›¹ ë¶€íŠ¸ìº í¼ ê°œë°œìë¥¼ ìœ„í•œ ì»´í“¨í„° ê³¼í•™ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì›¹ ë¶€íŠ¸ìº í¼ ê°œë°œìë¥¼ ìœ„í•œ ì»´í“¨í„° ê³¼í•™</h3>\n<p><strong>Ref</strong> <a href=\"https://www.wisewiredbooks.com/csbooks/index.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.wisewiredbooks.com/csbooks/index.html</a></p>\n<hr>\n<h2 id=\"ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"ë§ˆë¬´ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬</h2>\n<p>ëë‚˜ì§€ ì•ŠëŠ” SSR..!! ê·¸ ì™€ì¤‘ì— ìˆ˜ì—…ë„ ê½¤ ë§ì•˜ê³ , ì‹œê°„ë„ ë¶€ì¡±í–ˆë‹¤. (í•˜ì§€ë§Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íŠ¹ê°•ì€ ì •ë§ ì¬ë°Œê³  ìœ ìµí–ˆë‹¤!) ë©´ì ‘ë„ í•œ ê°œ ë´¤ë‹¤. ì§€ë‚œ ë¯¸ì…˜ì„ ì˜¤ë˜ì˜¤ë˜ ê±¸ë ¤ ë§ˆì³¤ì§€ë§Œ ë” ëŒ€ë°•ì¸ ë§ˆì§€ë§‰ ë¯¸ì…˜ë„ ë‚˜ì™”ë‹¤. ê°ë„ ì¡íˆì§€ ì•Šì§€ë§Œ ìœ ì¢…ì˜ ë¯¸ë¥¼ ê±°ë‘ê¸° ìœ„í•´ì„œ ë˜ ì—´ì‹¬íˆ ìŸì•„ë´ì•¼ê² ë‹¤.</p>\n<p>ë˜ í•œ ë‹¬ ì—¬ ë§Œì— ë†€í†  íŒ€ì›ë“¤ì„ ë§Œë‚˜ëŸ¬ ê°”ë‹¤. ì²˜ìŒ ê°€ë³´ëŠ” ì ì½©ì—ì„œëŠ” ì˜¤ë©°ê°€ë©° ëŒ€ëµ 20ëª…ì˜ í¬ë£¨ë¥¼ ë§Œë‚œ ê²ƒ ê°™ë‹¤ ğŸ¤£ğŸ¤£ğŸ¤£ ì •ë§ 3ê°œì›” ë§Œì— ë£¨í„°ë„ ê°€ì„œ í‹°ì…”ì¸ ì™€ í›„ë“œí‹°ë„ ë°›ì•„ì˜¤ê³ , ë‚˜ ë¹¼ê³  ë‹¤ ì ‘ì¢…ì™„ë£Œëœ íŒ€ì›ë“¤ ë•ë¶„ì— íšŒì‹ë„ í–ˆë‹¤. 3ê°œì›” ì „ë³´ë‹¤ í™•ì‹¤íˆ ë” í¸í•´ì§€ê³  ëˆëˆí•´ì§„ ëŠë‚Œì´ë‹¤. ëª¨ë‘ ê°€ê³ ì‹¶ì€ ê³³ì— ì·¨ì—… ì˜ í•´ì„œ í•œ í„±ì”© ì˜ëŠ” ë‚ ì´ ë¹¨ë¦¬ ì™”ìœ¼ë©´ ì¢‹ê² ë‹¤ ğŸ˜Š</p>","timeToRead":7,"frontmatter":{"title":"ìš°í…Œì½” 34ì£¼ì°¨ ê¸°ë¡","date":"October 09, 2021","description":null,"tags":["woowacourse"],"disqus":null},"fields":{"langKey":"en"}}},"pageContext":{"slug":"/wtc/wtc-week-34/","previous":{"fields":{"slug":"/react/await-setstate/","langKey":"en","directoryName":"react"},"frontmatter":{"date":"October 16, 2021","description":null,"title":"Reactì˜ setStateì— awaitì„ ë¶™ì´ë©´?","tags":["react"]}},"next":{"fields":{"slug":"/react/react-18/","langKey":"en","directoryName":"react"},"frontmatter":{"date":"October 03, 2021","description":null,"title":"React 18 í†ºì•„ë³´ê¸°","tags":["react"]}},"previousInSameTag":{"fields":{"slug":"/wtc/wtc-week-35/","langKey":"en","directoryName":"wtc"},"frontmatter":{"date":"October 16, 2021","description":null,"title":"ìš°í…Œì½” 35ì£¼ì°¨ ê¸°ë¡","tags":["woowacourse"]}},"nextInSameTag":{"fields":{"slug":"/wtc/wtc-week-33/","langKey":"en","directoryName":"wtc"},"frontmatter":{"date":"October 02, 2021","description":null,"title":"ìš°í…Œì½” 33ì£¼ì°¨ ê¸°ë¡","tags":["woowacourse"]}},"translationsLink":[]}},"staticQueryHashes":["1522010811","1615650028","2894998521","3765107650","683610688"]}