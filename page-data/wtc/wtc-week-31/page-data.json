{"componentChunkName":"component---src-templates-blog-post-js","path":"/wtc/wtc-week-31/","result":{"data":{"site":{"siteMetadata":{"title":"ziglog","author":"zigsong","lang":"en"}},"markdownRemark":{"id":"0185d41b-aa55-57b9-a2e1-63fabe028cfc","excerpt":"렌더링 성능 최적화 | webpack 설정 놀토 프로젝트 Sentry production에서 발생하는 에러를 잡기 위해 Sentry라는 도구를 사용해주었다. 뭔가를 실수로 잘못 눌러 무료 14일 체험판이 신청되어, 슬랙과도 연동을 시켜 놓았다. 전체 에러에 대해서 Sentry…","html":"<p>렌더링 성능 최적화 | webpack 설정</p>\n<!-- more -->\n<hr>\n<h2 id=\"놀토-프로젝트\" style=\"position:relative;\"><a href=\"#%EB%86%80%ED%86%A0-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8\" aria-label=\"놀토 프로젝트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>놀토 프로젝트</h2>\n<h3 id=\"sentry\" style=\"position:relative;\"><a href=\"#sentry\" aria-label=\"sentry permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sentry</h3>\n<p>production에서 발생하는 에러를 잡기 위해 Sentry라는 도구를 사용해주었다. 뭔가를 실수로 잘못 눌러 무료 14일 체험판이 신청되어, 슬랙과도 연동을 시켜 놓았다.</p>\n<p>전체 에러에 대해서 Sentry 에러를 발생시키고, Http 에러가 아닌 개발자가 확인하지 못한 에러들에 대해서는 유저 리포트를 띄워 문제 발생 케이스를 참고할 수 있도록 했다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/03c971c65a27fd544f219ee90ae56532/00d43/01.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 64.1891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBklEQVQoz31SXY/SQBTtL3R3wbW1U0paoPAHWB/UJfLlRnzz2URKgbLyUcgmvvkTNJtsov4EFdrpB9DOTLlmwJjoGm7Ow70PZ86594xgGIamabVabTqdTaZTZ+44jjPb49AfxsXcedMdmfZkMZ9fXDzRdb1cLgvlcllRFMvqA8D3n6vlyvWw7wcR9oOVi13PX7nYw7z3POy6GABeXl2JkqTp+m+yafYAwPfDIIiCkCOM1kEYYj/cNxF/Lgj9IASAF/XmyWlGRjmhVCohhCzLAgBKGRytNE0BoNFsZ7IPc2pe0DTtkSiapsmVg4gQdgRxTACg2WpnD2QdnZ+LUrfbBYA4JixNj4BQCgD1Ruv0LMtt51VVkqSexXf+sfQwDqPNlrGUUHYfccKVGy1uW8mpgmEYCKFej+/sYX+zTdJ0x1jK/idNCT3YPstkZaQIhUJBltHh2ksches4WMfROt5uEkrZP0j2yvVG68FJRnyMBF0vyLLc7Zr7YxIABsBVuE9CCaH3yTxnUdL1glAsFkVJGvTMWwxv7zb9b/G7L8nXZQKUkj0hTkjCi8QJCaM1AHQ6r3O5XKVS4WQZobE9+OjB089p+w4ub+GTt09191fIux0wxnN+1ekoisK/p6bpqpp/9vxyMb6+GfVvrgcfJvbs/Who28Mhh22P/pRt2+PxpFqtappmGMYvVu1cKZP/Wh4AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"01\" title=\"01\" src=\"/static/03c971c65a27fd544f219ee90ae56532/fcda8/01.png\" srcset=\"/static/03c971c65a27fd544f219ee90ae56532/12f09/01.png 148w,\n/static/03c971c65a27fd544f219ee90ae56532/e4a3f/01.png 295w,\n/static/03c971c65a27fd544f219ee90ae56532/fcda8/01.png 590w,\n/static/03c971c65a27fd544f219ee90ae56532/efc66/01.png 885w,\n/static/03c971c65a27fd544f219ee90ae56532/00d43/01.png 1000w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<h3 id=\"webpack-설정-재정비\" style=\"position:relative;\"><a href=\"#webpack-%EC%84%A4%EC%A0%95-%EC%9E%AC%EC%A0%95%EB%B9%84\" aria-label=\"webpack 설정 재정비 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>webpack 설정 재정비</h3>\n<p>🍀 <a href=\"https://zigsong.github.io/2021/09/11/webpack-config/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">여기서 읽기</a></p>\n<h3 id=\"성능-최적화\" style=\"position:relative;\"><a href=\"#%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94\" aria-label=\"성능 최적화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>성능 최적화</h3>\n<p><strong>✅ 정적 이미지 파일 확장자 변경</strong>\n사용자가 업로드하는 이미지 파일이 gif아닌 서비스 자체에서 사용하는 정적 이미지들의 확장자를 <code class=\"language-text\">webp</code>로 변경했다. <code class=\"language-text\">&lt;picture></code>와 <code class=\"language-text\">&lt;source></code> 태그를 활용하여 <code class=\"language-text\">webp</code> 확장자를 지원하지 않는 브라우저에서도 <code class=\"language-text\">png</code> 확장자 파일로 받아와서 이미지가 문제없이 로딩될 수 있게끔 작성했다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>picture</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">srcSet</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>webpUrl<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image/webp<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">srcSet</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>pngUrl<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image/png<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>pngUrl<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>180px<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">alt</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>picture</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>✅ loadable을 이용한 코드 스플리팅</strong>\n각 라우터에 해당하는 페이지의 자바스크립트 소스코드를 각 페이지에 진입할 때마다 불러올 수 있게 하기 위해서 코드 스플리팅을 진행했다. React에서 기본 제공하는 <code class=\"language-text\">lazy</code> 대신, <code class=\"language-text\">preload</code> 옵션을 줄 수 있는 <strong>loadable components</strong>를 사용했다.</p>\n<p>각 컴포넌트에 대하여 코드 스플리팅 이후 분리될 청크 파일의 이름을 아래와 같이 지정할 수 있다.(<code class=\"language-text\">webpackChunkName</code> 옵션)</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> Home <span class=\"token operator\">=</span> <span class=\"token function\">loadable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token comment\">/* webpackChunkName: \"Home\" */</span> <span class=\"token string\">\"pages/Home/Home\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> About <span class=\"token operator\">=</span> <span class=\"token function\">loadable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token comment\">/* webpackChunkName: \"About\" */</span> <span class=\"token string\">\"pages/About/About\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> Upload <span class=\"token operator\">=</span> <span class=\"token function\">loadable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token comment\">/* webpackChunkName: \"Upload\" */</span> <span class=\"token string\">\"pages/Upload/Upload\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>특정 페이지로 진입하고자 할 때 클릭하는 버튼 등에 <code class=\"language-text\">mouseOver</code> 이벤트 리스너를 달아주어 필요한 컴포넌트의 로드 시점을 앞당겼다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">onMouseOver</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Page<span class=\"token punctuation\">.</span>RecentFeeds<span class=\"token punctuation\">.</span><span class=\"token function\">preload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">NavLink</span></span> <span class=\"token attr-name\">to</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">ROUTE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">RECENT</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-link<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">activeClassName</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selected<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      Toy Projects\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">NavLink</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>✅ splitChunks</strong>\n<code class=\"language-text\">optimization.splitChunks</code> 설정 시 webpack은 기본적으로 번들링 과정에서 청크를 분할한다. 구체적으로 webpack은 다음 조건에 따라 자동으로 청크를 분할한다.</p>\n<ul>\n<li>새 청크를 공유할 수 있거나 모듈이 node_modules 폴더에 있는 경우</li>\n<li>새 청크가 20kb보다 클 경우(minimize + gzip 이전에)</li>\n<li>요청 시 청크를 로드할 때 최대 병렬 요청 수가 30개 이하일 경우</li>\n<li>초기 페이지 로드 시 최대 병렬 요청 수가 30개 이하일 경우</li>\n</ul>\n<p><code class=\"language-text\">splitChunks.chunks</code>는 최적화를 위해 선택될 청크를 나타낸다. 값으로 <code class=\"language-text\">all</code>, <code class=\"language-text\">async</code> 및 <code class=\"language-text\">initial</code>을 넣을 수 있다. 여기서 <code class=\"language-text\">async</code> 즉 비동기 청크란 컴파일 단계에서 초기에 로드되는 청크가 아닌, 런타임에서 동적으로 로드되는 청크를 가리킨다.</p>\n<p>캐시그룹(<code class=\"language-text\">splitChunks.cacheGroups</code>)을 사용하여 특정 조건으로 청크 파일을 생성할 수 있다. 디폴트 옵션에 나와있는 대로 <code class=\"language-text\">node_modules</code>를 별도의 청크로 분리하고, 이름은 vendor로 지정해주었다. 나머지 청크 파일들에 대해서는 prefix를 통해 filename만 따로 명시해주었다.</p>\n<blockquote>\n<p>👾 비동기 모듈은 따로 파일을 분리해야 동적으로 불러올 수 있기 때문에 비동기로 import되는 모듈들은 따로 옵션을 주지 않아도 webpack이 알아서 별도의 파일로 분리해준다.</p>\n</blockquote>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// webpack.config.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">optimization</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">splitChunks</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">chunks</span><span class=\"token operator\">:</span> <span class=\"token string\">\"async\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">cacheGroups</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">vendor</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">chunks</span><span class=\"token operator\">:</span> <span class=\"token string\">\"all\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"vendor\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[\\\\/]node_modules[\\\\/]</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">\"common-[name].js\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Ref</strong>\n<a href=\"https://webpack.js.org/plugins/split-chunks-plugin/#root\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://webpack.js.org/plugins/split-chunks-plugin/#root</a>\n<a href=\"https://simsimjae.medium.com/webpack4-splitchunksplugin-%EC%98%B5%EC%85%98-%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0-19f5de32425a\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://simsimjae.medium.com/webpack4-splitchunksplugin-옵션-파헤치기-19f5de32425a</a></p>\n<hr>\n<h2 id=\"프론트엔드\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C\" aria-label=\"프론트엔드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프론트엔드</h2>\n<h3 id=\"렌더링-성능-개선-강의\" style=\"position:relative;\"><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0-%EA%B0%95%EC%9D%98\" aria-label=\"렌더링 성능 개선 강의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>렌더링 성능 개선 강의</h3>\n<p><strong>✅ 브라우저 렌더링 개선</strong>\n브라우저의 메인 스레드 일이 넘치면 어떻게 될까? 당연히 유저 인터랙션이나 페이지 전환 시 화면이 버벅거리게 되며, 이 현상을 ‘쟁크’라고 부르기도 한다.. 문제를 방지하기 위해 일반적인 스크린의 주사율인 60FPS를 맞춰 화면 업데이트를 끊기지 않도록 하는 것이 좋다.</p>\n<blockquote>\n<p>1초에 60프레임 = 1프레임 당 16.67ms (paint를 위한 시간을 고려하면 약 10ms)</p>\n</blockquote>\n<p>reflow, repaint를 줄이거나 memoization을 사용하여 똑같은 작업을 매번 새로하지 않도록 해주는 것도 좋은 생각이다. 특히 repaint 시 layer를 적절하게 사용한다면 repaint 작업을 브라우저의 메인 스레드가 아닌 GPU에서 수행하도록 도와주기 때문에 작업 비용을 줄일 수 있다.</p>\n<p>페이지의 layer 확인은 크롬 개발자 도구의 점 세 개 → More Tools → Layers에서 확인할 수 있다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1eb74be1f1a7316a158dade851f15658/e1250/02.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 87.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAADN0lEQVQ4y62TzWscZRzH5y8Q89Ldzk5mZncnu9mdnX3P7s7uzL4l+5ZNzTapbUJBi6ipKCKiqIVSD4pEmzStB7FYJGq1Sg/GIq0QUTxYLypGD4WexGIvlXoTD8pHZjQh6iqiHr48A/Obz3ye3/N7hIJpETNSZMYLmKUy8USaTDZPya4iihKSJOHxeAgENHQjSVJPMFW0MMw2RrZK0Sy69c53yVQGodHqULIq5PImmWyOfLFKzu6QL5jUrSTl6gSFoo1dbWBbJo1qDrvaJGYkieoJdCPl/iga+zXC7L793H5ggQPzB7FqLbRomkjCJBofJ5bIEk+bGCkTPVkgYmSJxjNEE3lCeprR6J8jVOpNGq1pWt0e2UIZWVYRJZmBXSJDXsnNgFdCkv0E/BqqX0NRA6hqsG+E+mSbZmcPU9N7SedtYhGdU489xIVnj7H2+AOce3SRpTvnCGkhhkUFccTPiBLEHxjtGxfY6c7QvW2WXLGKT1JoVSp8dHoFNt+Hj9fh3TN8tnKEg806Tdsmm0y7plsQ9TdzF1ibaLmG7W6PdM5CUQJ4fQqDXol75/dz9YOL/HD5PX669Co/rp/m5tklHpltccuAh2AwRCAY2oY5q9Dp9pjas5fevgXXcERWCWpht3jQ4yNlxDl3ahmufg6fbvDzxhpXPrzA4uH7GRzyuDty6re3XK5OMtHoMNnqkslbyLJ/+6Wmhd3DGBZlDt29yFdfbnLj+jW+vXGTr7/7nvNvvsV4apxbh3bjD2iurdBsTzM9M0dvbp6CVXcNd/bGKXJsh4e9rslsu8LTzxxlYel5jn5yhfObX/Dw4bvYLQXxiApCpdbAgTqGiXQBWQn87tS2+uPAnGdRUqnZJVaPP8WTr7zOHWff5uWNDd45+RwzU5MIZqlCya5RKJYZ05Moav+R2AI7xqJPwe/XePC+e3hxbY1Dx1/ixMkjXD7zBEJ4TCcUjjIWiaGFDVT/X8+YuqMNzrrL46NSrbF6YoWVN9Y59sJrCFE9jhM9lmR07O+B/dog+mQCwTCry8tcv/YNQkSPE4ka7kX/p8A/2jptGhjyYFuVfw/sZ+uT1P8O3Bl3Dv9PoHNTfgH2zFwHDwYrjgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"02\" title=\"02\" src=\"/static/1eb74be1f1a7316a158dade851f15658/fcda8/02.png\" srcset=\"/static/1eb74be1f1a7316a158dade851f15658/12f09/02.png 148w,\n/static/1eb74be1f1a7316a158dade851f15658/e4a3f/02.png 295w,\n/static/1eb74be1f1a7316a158dade851f15658/fcda8/02.png 590w,\n/static/1eb74be1f1a7316a158dade851f15658/efc66/02.png 885w,\n/static/1eb74be1f1a7316a158dade851f15658/c83ae/02.png 1180w,\n/static/1eb74be1f1a7316a158dade851f15658/e1250/02.png 1786w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>한편 web worker를 사용하여 브라우저의 일을 나눠서 처리해줄 수도 있다. web worker는 스크립트 연산을 웹 어플리케이션의 주 실행 스레드와 분리된 별도의 백그라운드 스레드에서 실행할 수 있는 기술이다.</p>\n<blockquote>\n<p>🚨 <strong>layout thrashing</strong>은 위험하다!</p>\n</blockquote>\n<p>layout thrashing이란, 동기적으로 레이아웃의 변경을 강제하는 동작으로, 아래와 같은 코드에 해당한다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> paragraphs <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> greenBlock <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"block\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> paragraphs<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> blockWidth <span class=\"token operator\">=</span> greenBlock<span class=\"token punctuation\">.</span>offsetWidth<span class=\"token punctuation\">;</span>\n  paragraphs<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> blockWidth <span class=\"token operator\">+</span> <span class=\"token string\">\"px\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이처럼 자바스크립트로 스타일링 값을 읽고 강제로 할당하는 것만으로도 layout 단계에서 다시 JavaScript 파싱 단계로 돌아가게 되므로 연산이 낭비되는 문제가 있다.</p>\n<blockquote>\n<p><strong>🔮useLayoutEffect</strong>\nDOM이 모두 로드된 후 실행되는 <code class=\"language-text\">useEffect</code>와 달리, <code class=\"language-text\">useLayoutEffect</code>는 React에서 DOM을 업데이트하고 브라우저가 paint하기 전에 인자로 받은 콜백을 <strong>동기적으로</strong> 실행한다. <code class=\"language-text\">useLayoutEffect</code>에는 DOM이 실제로 화면에 그려지기 전에 미리 실행되어야 할 동작을 정의할 수 있다.</p>\n</blockquote>\n<p><strong>Ref</strong>\n<a href=\"https://developer.mozilla.org/ko/docs/Web/API/Web_Workers_API\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://developer.mozilla.org/ko/docs/Web/API/Web_Workers_API</a>\n<a href=\"https://www.youtube.com/watch?v=a9wbrTbg_RI\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.youtube.com/watch?v=a9wbrTbg_RI</a>\n<a href=\"https://www.youtube.com/watch?v=kU5Z4D5N3Kk\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.youtube.com/watch?v=kU5Z4D5N3Kk</a></p>\n<p><strong>✅ 프레임워크/라이브러리가 (미리) 해주는 일</strong></p>\n<ul>\n<li>기본 수준의 최적화 (DOM 제어 &#x26; lifecycle)</li>\n<li><code class=\"language-text\">React.memo</code>를 활용하자</li>\n</ul>\n<p><strong>✅ 사용자 경험을 위한 성능</strong>\n실제 성능 지표도 중요하지만, 사용자가 ‘체감하는’ 속도가 중요하다. 빈 페이지가 뜨는 시간을 최소화하고, 아직 컨텐츠가 로딩되지 않은 페이지에는 뭐라도 보여야 한다. 기본적인 로딩 UI를 활용하거나, 스켈레톤 UI를 활용하는 것도 좋은 방법이다.</p>\n<p>모두 만족스럽지 않다면, SSR을 사용해보는 것은 어떨까? 😲</p>\n<h3 id=\"web-server와-was\" style=\"position:relative;\"><a href=\"#web-server%EC%99%80-was\" aria-label=\"web server와 was permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Web Server와 WAS</h3>\n<p>🍀 <a href=\"https://zigsong.github.io/2021/09/12/web-server-was/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">여기서 읽기</a></p>\n<hr>\n<h2 id=\"공부하기\" style=\"position:relative;\"><a href=\"#%EA%B3%B5%EB%B6%80%ED%95%98%EA%B8%B0\" aria-label=\"공부하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>공부하기</h2>\n<h3 id=\"styled-component-왜-다르게-보일까dev와-prod에서\" style=\"position:relative;\"><a href=\"#styled-component-%EC%99%9C-%EB%8B%A4%EB%A5%B4%EA%B2%8C-%EB%B3%B4%EC%9D%BC%EA%B9%8Cdev%EC%99%80-prod%EC%97%90%EC%84%9C\" aria-label=\"styled component 왜 다르게 보일까dev와 prod에서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>styled-component, 왜 다르게 보일까?(dev와 prod에서)</h3>\n<p>production에서 styled-component는 CSSOM API를 이용해서 스타일을 바로 집어넣는다! 그래서 styled-components에 대한 내용이 구구절절 나오는 dev에서와는 다르게 보인다.</p>\n<p><strong>&#x3C;dev에서의 구구절절한 styled-components 태그></strong>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/ed414ff4389eedf4b124bb2e8fa7769b/2cb21/03.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 26.351351351351354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABIklEQVQY0x2Py27bMBQF/R1FCzRO41SorAdJSbYevLwkZQUwAiQtkkX//z+mUBdnNbOYc/hy9vywwiSJ8vZJ8fKXevvEyp02vlPGP1i9094+sPpGmX7zlD44hTfKaaPSd773G98qz1eTOBwfHinONcMy04tSe8V6xUnALR4XEp0PWInYEGnThhNlmUbG6YrLG0YzZvZ0ceXwcHymaCyTKtdZ6BalCZlWM70PDLPgJGP0xiiJThI/a0t5rqnKksL0PLc9RW3/73A8nigqw6DKZS+bA1W+0yyBxittWGl9xM6BbvLUkmgl42Zhul4wEjE+4nSlSy974YlfjcHniPjANUTGmJh2Ie73ElZXlrhitlca2VlmWSbG4JGoSEhchh43DPwDB9KnjchUxsIAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"03\" title=\"03\" src=\"/static/ed414ff4389eedf4b124bb2e8fa7769b/fcda8/03.png\" srcset=\"/static/ed414ff4389eedf4b124bb2e8fa7769b/12f09/03.png 148w,\n/static/ed414ff4389eedf4b124bb2e8fa7769b/e4a3f/03.png 295w,\n/static/ed414ff4389eedf4b124bb2e8fa7769b/fcda8/03.png 590w,\n/static/ed414ff4389eedf4b124bb2e8fa7769b/efc66/03.png 885w,\n/static/ed414ff4389eedf4b124bb2e8fa7769b/c83ae/03.png 1180w,\n/static/ed414ff4389eedf4b124bb2e8fa7769b/2cb21/03.png 2174w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span></p>\n<p><strong>&#x3C;prod에서 깔끔한 styled-components 태그></strong>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e48f795f43890162c3bce213cb929847/6b26f/04.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 4.72972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAR0lEQVQI1yXJSw6AIAxAQc9i8IO0pYgC8f73esa4nZnmJbJ6Z7cLOwcp32h9UCt0jYgYUn7/Xryh3oi54SlRTQlS2cogHJkXyxoe50yeMdoAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"04\" title=\"04\" src=\"/static/e48f795f43890162c3bce213cb929847/fcda8/04.png\" srcset=\"/static/e48f795f43890162c3bce213cb929847/12f09/04.png 148w,\n/static/e48f795f43890162c3bce213cb929847/e4a3f/04.png 295w,\n/static/e48f795f43890162c3bce213cb929847/fcda8/04.png 590w,\n/static/e48f795f43890162c3bce213cb929847/efc66/04.png 885w,\n/static/e48f795f43890162c3bce213cb929847/c83ae/04.png 1180w,\n/static/e48f795f43890162c3bce213cb929847/6b26f/04.png 1658w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span></p>\n<h3 id=\"웹-폰트-사용하기\" style=\"position:relative;\"><a href=\"#%EC%9B%B9-%ED%8F%B0%ED%8A%B8-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"웹 폰트 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>웹 폰트 사용하기</h3>\n<p>여태까지 <code class=\"language-text\">@import</code> 구문만을 믿고 잘못 가져오고 있었다! 세상에 그래서 페어의 윈도우와 내 MacOS에서의 화면이 더욱 다르게 보였나보다.</p>\n<p>html <code class=\"language-text\">&lt;link></code> 태그의 <code class=\"language-text\">preload</code> 속성을 사용하여 웹 폰트의 링크를 <strong>“먼저”</strong> 불러온 후 사용할 수도 있다. 하지만 폰트 링크를 한번 불러오고, 실제 폰트 파일을 내려받는 2차례의 과정을 거치게 된다. 또한 vietnamese나 latin-ext와 같이 사용하지 않는 폰트의 형식까지 모조리 불러와 불러오는 font 파일이 매우 많아지게 되는 문제가 발생한다. 실제로 아래와 같이 작성했을 때 불러오는 전체 폰트 파일의 크기는 무려 469kB에 달했다. (총 3개의 폰트 사용)</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- index.html --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span>\n  <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&amp;display=swap<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>preload<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>font<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token special-attr\"><span class=\"token attr-name\">onload</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rel<span class=\"token operator\">=</span><span class=\"token string\">'stylesheet'</span></span><span class=\"token punctuation\">\"</span></span></span>\n  <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>그래서 사용할 폰트를 <code class=\"language-text\">preload</code>를 사용하여 무엇보다 빠르게 불러오는 선택지보다, 우리가 실제 사용할 폰트만 선택적으로 불러와 전체 파일의 용량을 줄이는 방향을 선택했다. 폰트 파일의 확장자들 중 용량이 가장 낮은 <code class=\"language-text\">woff2</code>를 기본으로 선택하고, <code class=\"language-text\">woff2</code> 확장자를 지원하지 않는 브라우저에 대비하여 <code class=\"language-text\">truetype</code>을 추가로 넣어주었다.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- index.html --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token atrule\"><span class=\"token rule\">@font-face</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Open Sans\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-style</span><span class=\"token punctuation\">:</span> normal<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> 400<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-display</span><span class=\"token punctuation\">:</span> swap<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">src</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">\"./fonts/OpenSans-Regular.woff2\"</span><span class=\"token punctuation\">)</span></span> <span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"woff2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">\"./fonts/OpenSans-Regular.ttf\"</span><span class=\"token punctuation\">)</span></span>\n        <span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"truetype\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">unicode-range</span><span class=\"token punctuation\">:</span> U+0000-00FF<span class=\"token punctuation\">,</span> U+0131<span class=\"token punctuation\">,</span> U+0152-0153<span class=\"token punctuation\">,</span> U+02BB-02BC<span class=\"token punctuation\">,</span> U+02C6<span class=\"token punctuation\">,</span>\n      U+02DA<span class=\"token punctuation\">,</span> U+02DC<span class=\"token punctuation\">,</span> U+2000-206F<span class=\"token punctuation\">,</span> U+2074<span class=\"token punctuation\">,</span> U+20AC<span class=\"token punctuation\">,</span> U+2122<span class=\"token punctuation\">,</span> U+2191<span class=\"token punctuation\">,</span> U+2193<span class=\"token punctuation\">,</span>\n      U+2212<span class=\"token punctuation\">,</span> U+2215<span class=\"token punctuation\">,</span> U+FEFF<span class=\"token punctuation\">,</span> U+FFFD<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">/* ... */</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>앱 전체에서 사용하는 Global Style에 styled-components를 이용하여 <code class=\"language-text\">@font-face</code>를 넣어줄까도 고민했었지만, 자바스크립트로 작성된 styled-components를 한번 파싱하고 CSS를 또 불러오는 것은 성능이 좋지 못하다고 판단하여 앱의 진입점인 index.html에 <code class=\"language-text\">&lt;style></code> 태그로 바로 넣어주었다. <code class=\"language-text\">&lt;head></code> 안에 있는 <code class=\"language-text\">&lt;style></code>이나 <code class=\"language-text\">&lt;link></code>에 포함된 리소스들은 <code class=\"language-text\">&lt;body></code> 태그 내부에서의 DOM 파싱과 병렬적으로 이루어지기 때문에 리소스를 보다 빠르게 로드할 수 있다.</p>\n<p><strong>Ref</strong> <a href=\"https://www.youtube.com/watch?v=4YCBBoSg2fk\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.youtube.com/watch?v=4YCBBoSg2fk</a></p>\n<hr>\n<h2 id=\"기타\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80\" aria-label=\"기타 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기타</h2>\n<h3 id=\"언제-나온-문법이지-어느-브라우저-지원-바벨이-컴파일해주나\" style=\"position:relative;\"><a href=\"#%EC%96%B8%EC%A0%9C-%EB%82%98%EC%98%A8-%EB%AC%B8%EB%B2%95%EC%9D%B4%EC%A7%80-%EC%96%B4%EB%8A%90-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EC%A7%80%EC%9B%90-%EB%B0%94%EB%B2%A8%EC%9D%B4-%EC%BB%B4%ED%8C%8C%EC%9D%BC%ED%95%B4%EC%A3%BC%EB%82%98\" aria-label=\"언제 나온 문법이지 어느 브라우저 지원 바벨이 컴파일해주나 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>언제 나온 문법이지? 어느 브라우저 지원? 바벨이 컴파일해주나?</h3>\n<p><strong>Ref</strong> <a href=\"https://kangax.github.io/compat-table/es6/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://kangax.github.io/compat-table/es6/</a></p>\n<h3 id=\"인상적인-랜딩-페이지\" style=\"position:relative;\"><a href=\"#%EC%9D%B8%EC%83%81%EC%A0%81%EC%9D%B8-%EB%9E%9C%EB%94%A9-%ED%8E%98%EC%9D%B4%EC%A7%80\" aria-label=\"인상적인 랜딩 페이지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>인상적인 랜딩 페이지</h3>\n<p><strong>Ref</strong> <a href=\"https://www.tossbank.com/?referral=5131843\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.tossbank.com/?referral=5131843</a></p>\n<hr>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>무난한 컨디션이 계속된다. 조급한 건 여전히 디폴트지만, 이번주는 그래도 여유롭게 지나갔다. 코딩은 많이 못해서 일에 사실 큰 재미는 느끼지 못한다. 파도 파도 끝없는 성능 최적화 때문에… 강의도 많고, 계속해서 뭔가 일정이 있었다.</p>\n<p>팀원들과 감정회고도 진행했다. 우리 팀원들 정말 아기자기하고 귀엽다. 벌써 9월도 절반 가까이 지났는데, 루터 가서 빨리 만나고 싶다. 😆</p>","timeToRead":9,"frontmatter":{"title":"우테코 31주차 기록","date":"September 11, 2021","description":null,"tags":["woowacourse"],"disqus":null},"fields":{"langKey":"en"}}},"pageContext":{"slug":"/wtc/wtc-week-31/","previous":{"fields":{"slug":"/frontend/web-server-was/","langKey":"en","directoryName":"frontend"},"frontmatter":{"date":"September 12, 2021","description":null,"title":"Web Server와 WAS 간단 정리","tags":["frontend"]}},"next":{"fields":{"slug":"/frontend/webpack-config/","langKey":"en","directoryName":"frontend"},"frontmatter":{"date":"September 11, 2021","description":null,"title":"webpack 설정 뜯어보기","tags":["frontend","webpack"]}},"previousInSameTag":{"fields":{"slug":"/wtc/wtc-week-32/","langKey":"en","directoryName":"wtc"},"frontmatter":{"date":"September 18, 2021","description":null,"title":"우테코 32주차 기록","tags":["woowacourse"]}},"nextInSameTag":{"fields":{"slug":"/wtc/wtc-week-30/","langKey":"en","directoryName":"wtc"},"frontmatter":{"date":"September 04, 2021","description":null,"title":"우테코 30주차 기록","tags":["woowacourse"]}},"translationsLink":[]}},"staticQueryHashes":["1522010811","1615650028","2894998521","3765107650","683610688"]}