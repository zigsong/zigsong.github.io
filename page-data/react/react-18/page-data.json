{"componentChunkName":"component---src-templates-blog-post-js","path":"/react/react-18/","result":{"data":{"site":{"siteMetadata":{"title":"ziglog","author":"zigsong","lang":"en"}},"markdownRemark":{"id":"dfdd81f6-f364-56d5-9b12-bcef3ac9ddcc","excerpt":"React 18ì˜ ìƒˆë¡œìš´ feature loadable componentsì—ì„œ SSRë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ë‹¤ê°€, ğŸš¨ Error: ReactDOMServer does not yet support Suspense. ìœ„ ì—ëŸ¬ì— ë¶€ë”ªí˜€ì„œ ëŒê³  ëŒì•„ ê²°êµ­ React 1â€¦","html":"<p>React 18ì˜ ìƒˆë¡œìš´ feature</p>\n<!-- more -->\n<p>loadable componentsì—ì„œ SSRë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ë‹¤ê°€,</p>\n<blockquote>\n<p>ğŸš¨ Error: ReactDOMServer does not yet support Suspense.</p>\n</blockquote>\n<p>ìœ„ ì—ëŸ¬ì— ë¶€ë”ªí˜€ì„œ ëŒê³  ëŒì•„ ê²°êµ­ React 18ì„ ì„ íƒí•˜ê²Œ ë˜ì—ˆë‹¤.</p>\n<p>ì •ì‹ ë²„ì „ë„ ë°°í¬ê°€ ë˜ì§€ ì•Šì€, ì‹¤í—˜ ë‹¨ê³„ì˜ ë²„ì „ì´ì§€ë§Œ ë‚˜ ì—­ì‹œ ì‹¤í—˜ì ì¸ êµìœ¡ìƒì´ë¯€ë¡œ(?) ì¼ë‹¨ ì„¤ì¹˜í•˜ê³  ë¬´ì—‡ì´ ìˆëŠ”ì§€ ì•Œì•„ë³´ë„ë¡ í•œë‹¤. ì‹¬ì§€ì–´ <code class=\"language-text\">@alpha</code> íƒœê·¸ë¥¼ ë¶™ì—¬ì„œ ì‚¬ìš©í•´ì•¼ í•  ë§Œí¼ ìƒˆ ë²„ì „ì´ë‹¤!</p>\n<p>(ê·¸ë‚˜ì €ë‚˜ ì•„ë˜ ê³µì‹ ë¬¸ì„œ ë§í¬ëŠ” â€˜koâ€™ê°€ ë¶™ì—ˆëŠ”ë° ì™œ ë²ˆì—­ì´ ì•ˆ ëëŠ”ì§€ ğŸ˜‘ ë‚´ê°€ í•˜ê³  ì‹¶ë‹¤.)</p>\n<p>React 18ì€ ë‹¤ìŒ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•œë‹¤.</p>\n<hr>\n<h2 id=\"-1-automatic-batching\" style=\"position:relative;\"><a href=\"#-1-automatic-batching\" aria-label=\" 1 automatic batching permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ… 1. Automatic batching</h2>\n<p>ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ì—¬ëŸ¬ ê°œì˜ <code class=\"language-text\">setState</code> í˜¸ì¶œì„ ë¬¶ì–´ì„œ í•œ ë²ˆì— ì‹¤í–‰í•œë‹¤. â€˜batchâ€™ëŠ” í•˜ë‚˜ë¡œ ë¬¶ëŠ”ë‹¤ëŠ” ëœ»ìœ¼ë¡œ, <code class=\"language-text\">setState</code>ë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ê¸° ë•Œë¬¸ì—, ìƒíƒœ ì—…ë°ì´íŠ¸ë“¤ì„ ëª¨ì•„ì„œ í•˜ë‚˜ì˜ ë¦¬ë Œë”ë§ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.</p>\n<p>í˜„ì¬ ë¦¬ì•¡íŠ¸ëŠ” clickê³¼ ê°™ì€ ë¸Œë¼ìš°ì € ì´ë²¤íŠ¸ì— ëŒ€í•´ì„œë§Œ batchë¥¼ ì§„í–‰í•˜ê¸° ë•Œë¬¸ì—, ì´ë²¤íŠ¸ê°€ í˜¸ì¶œëœ ì´í›„ ìƒíƒœì˜ ì—…ë°ì´íŠ¸ê°€ ë°œìƒí•˜ëŠ” ì•„ë˜ì™€ ê°™ì€ ì˜ˆì œì—ì„œëŠ” batchê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>flag<span class=\"token punctuation\">,</span> setFlag<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">handleClick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">fetchSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// React 17 and earlier does NOT batch these because</span>\n      <span class=\"token comment\">// they run *after* the event in a callback, not *during* it</span>\n      <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">c</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> c <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Causes a re-render</span>\n      <span class=\"token function\">setFlag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">f</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Causes a re-render</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleClick<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Next</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> flag <span class=\"token operator\">?</span> <span class=\"token string\">\"blue\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"black\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">createRoot</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” React 18ë¶€í„°ëŠ”, ëª¨ë“  ìƒíƒœ ì—…ë°ì´íŠ¸ë“¤ì´ ìë™ìœ¼ë¡œ batchëœë‹¤. timeout, promise, ë„¤ì´í‹°ë¸Œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì™€ ê°™ì€ ëª¨ë“  ì¢…ë¥˜ì˜ ì´ë²¤íŠ¸ë“¤ì´ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤. ì´ë¥¼ í†µí•´ ë Œë”ë§ì„ ë”ìš± íš¨ìœ¨ì ìœ¼ë¡œ í•  ìˆ˜ ìˆë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>rootElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>batchë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì§€ ì•Šì€ ê²½ìš° <code class=\"language-text\">ReactDOM.flushSync</code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. <code class=\"language-text\">flushSync</code> ë©”ì„œë“œëŠ” ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ê°•ì œí•œë‹¤. (ì‚¬ìš©ì„ ê¶Œì¥í•˜ì§„ ì•ŠëŠ”ë‹¤!)</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> flushSync <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Note: react-dom, not react</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">handleClick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">flushSync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setCounter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">c</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> c <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// React has updated the DOM by now</span>\n  <span class=\"token function\">flushSync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setFlag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">f</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// React has updated the DOM by now</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h2 id=\"-2-starttransition\" style=\"position:relative;\"><a href=\"#-2-starttransition\" aria-label=\" 2 starttransition permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ… 2. startTransition</h2>\n<p>ì‚¬ìš©ìì™€ ì¸í„°ë™ì…˜ì´ ë§ì€ ê²½ìš°, ìŠ¤í¬ë¦° ìƒì—ì„œ ë§ì€ ë¶€ë¶„ì´ ì—…ë°ì´íŠ¸ê°€ ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš° ë Œë”ë§ë§ˆë‹¤ í˜ì´ì§€ê°€ ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤. ì‚¬ì‹¤ ì¸í„°ë™ì…˜ì—ëŠ” ì¤‘ìš”í•˜ê³  ê¸´ê¸‰í•˜ê²Œ ì—…ë°ì´íŠ¸í•´ì•¼ í•  ê²½ìš°ë„ ìˆì„ ê²ƒì´ê³ , ì¡°ê¸ˆ ì—¬ìœ  ìˆê²Œ ì²˜ë¦¬í•´ë„ ë˜ëŠ” ì—…ë°ì´íŠ¸ê°€ ìˆì„ ê²ƒì´ë‹¤.</p>\n<p>ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìì˜ ì…ë ¥ì— ë”°ë¼ input í•„ë“œì˜ ê°’ì´ ë°”ë€ŒëŠ” ê²½ìš°ì—ëŠ” UIê°€ ì¦‰ê° ë¦¬ë Œë”ë§ë˜ì–´ì•¼ í•œë‹¤. ê·¸ëŸ¬ë‚˜ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²ƒì€ ê¸´ê¸‰í•œ ì—…ë°ì´íŠ¸ í•­ëª©ì´ ì•„ë‹ˆë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Urgent: Show what was typed</span>\n<span class=\"token function\">setInputValue</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Not urgent: Show the results</span>\n<span class=\"token function\">setSearchQuery</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì§€ê¸ˆê¹Œì§€ ë¦¬ì•¡íŠ¸ëŠ” ëª¨ë“  ì—…ë°ì´íŠ¸ë¥¼ ë°˜ì˜í•´ ì¦‰ì‹œ ë Œë”ë§í•´ì™”ë‹¤. ìœ„ ì˜ˆì œ ì½”ë“œì˜ ìƒí™©ì—ì„œ ë‘ ë²ˆì˜ ìƒíƒœ ì—…ë°ì´íŠ¸ì™€ ë Œë”ë§ì´ ë™ì‹œì— ë°œìƒí•˜ë©´, ëª¨ë“  ê²ƒì´ ë Œë”ë  ë•Œê¹Œì§€ ì‚¬ìš©ìì˜ ì¸í„°ë™ì…˜ì€ ì°¨ë‹¨ëœë‹¤.</p>\n<p>React 18ì˜ <code class=\"language-text\">startTransition</code>ì€ ì´ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> startTransition <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Urgent: Show what was typed</span>\n<span class=\"token function\">setInputValue</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Mark any state updates inside as transitions</span>\n<span class=\"token function\">startTransition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Transition: Show the results</span>\n  <span class=\"token function\">setSearchQuery</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">startTransition</code>ìœ¼ë¡œ ë˜í•‘ëœ ì—…ë°ì´íŠ¸ëŠ” ê¸‰í•˜ì§€ ì•Šì€ ë™ì‘ìœ¼ë¡œ ì²˜ë¦¬ë˜ê³ , <code class=\"language-text\">keyPress</code>ì™€ ê°™ì´ ì¦‰ì‹œ ì²˜ë¦¬ë˜ì–´ì•¼ í•˜ëŠ” ë‹¤ë¥¸ ë™ì‘ë“¤ì´ ë¨¼ì € ì²˜ë¦¬ëœë‹¤. ì‚¬ìš©ìì™€ì˜ ì¦‰ê°ì ì¸ ì¸í„°ë™ì…˜ë“¤ë¡œ ì¸í•´ <code class=\"language-text\">startTransition</code>ìœ¼ë¡œ ê°ì‹¸ì§„ ë™ì‘ì´ staleí•´ì§„ë‹¤ë©´, ì¤‘ê°„ ê³¼ì •ì€ ìƒëµí•˜ê³  ê°€ì¥ ìµœì‹ ì˜ ì—…ë°ì´íŠ¸ë§Œ ë Œë”ë§ëœë‹¤.</p>\n<p>ê³µì‹ ë¬¸ì„œì—ì„œëŠ” ì¦‰ê°ì ì¸ ì—…ë°ì´íŠ¸(Urgent updates)ì™€ íŠ¸ëœì§€ì…˜ ì—…ë°ì´íŠ¸(Transition updates)ì˜ ìƒí™©ì„ ì•„ë˜ì™€ ê°™ì´ êµ¬ë¶„í•œë‹¤.</p>\n<blockquote>\n<p><strong>Urgent updates</strong> reflect direct interaction, like typing, clicking, pressing, and so on.\n<strong>Transition updates</strong> transition the UI from one view to another.</p>\n</blockquote>\n<p><code class=\"language-text\">setTimeout</code>ì„ ì´ìš©í•œ throttlingì´ë‚˜ debouncingê³¼ë„ ë¹„ìŠ·í•´ë³´ì¼ ê²ƒì´ë‹¤. ê·¸ëŸ¬ë‚˜ <code class=\"language-text\">setTimeout</code>ê³¼ ë‹¤ë¥¸ ì ì€, <code class=\"language-text\">startTransition</code>ì€ ìŠ¤ì¼€ì¥´ë§ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤.</p>\n<p><code class=\"language-text\">startTransition</code>ì€ ì¦‰ì‹œ ì‹¤í–‰ë˜ê³ , <code class=\"language-text\">startTransition</code>ì— ì „ë‹¬ëœ í•¨ìˆ˜ëŠ” ë™ê¸°ì ìœ¼ë¡œ ë™ì‘í•œë‹¤. ë‹¤ë§Œ ê·¸ í•¨ìˆ˜ì—ì„œ ë°œìƒí•˜ëŠ” ì—…ë°ì´íŠ¸ê°€ â€˜transitionâ€™ìœ¼ë¡œ ë§ˆí‚¹ë  ë¿ì´ë‹¤. ë¦¬ì•¡íŠ¸ëŠ” ì—…ë°ì´íŠ¸ì— ë”°ë¥¸ ë Œë”ë§ì„ í•  ë•Œ ì´ ì •ë³´ë¥¼ í™œìš©í•œë‹¤. <code class=\"language-text\">setTimeout</code>ë³´ë‹¤ëŠ” ë¹ ë¥¼ ìˆ˜ë°–ì— ì—†ë‹¤. ì†ë„ê°€ ë¹ ë¥¸ ë””ë°”ì´ìŠ¤ì—ì„œëŠ” ì—…ë°ì´íŠ¸ë“¤ ì‚¬ì´ì˜ ë”œë ˆì´ê°€ ë” ì ì„ ê²ƒì´ë‹¤.</p>\n<p>ë˜ <code class=\"language-text\">setTimeout</code> ë‚´ë¶€ì— ë§Œì•½ í™”ë©´ìƒì˜ í° ë³€í™”ê°€ ë°œìƒí•˜ëŠ” ì—…ë°ì´íŠ¸ê°€ ìˆì„ ë•Œ í•´ë‹¹ ì½œë°±ì„ ì‹¤í–‰í•˜ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ì¸í„°ë™ì…˜ë“¤ì€ ë¸”ë¡œí‚¹ë˜ì§€ë§Œ, <code class=\"language-text\">startTransition</code>ì€ ë¸”ë¡œí‚¹ë˜ì§€ ì•ŠëŠ”ë‹¤. <code class=\"language-text\">startTransition</code>ì— ì „ë‹¬ë˜ëŠ” í•¨ìˆ˜ëŠ” ì–¸ì œë“ ì§€ ê°„ì„­ë°›ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ê·¸ë™ì•ˆì— ë°œìƒí•˜ëŠ” ìœ ì € ì¸í„°ë™ì…˜ë“¤ì— ë”°ë¼ ì¤‘ê°„ ê³¼ì •ì˜ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì€ ìì—°ìŠ¤ë ˆ ì‚­ì œë˜ëŠ” ì…ˆì´ë‹¤.</p>\n<p>ë§ˆì§€ë§‰ìœ¼ë¡œ <code class=\"language-text\">setTimeout</code>ì´ ë‹¨ì§€ ì—…ë°ì´íŠ¸ë¥¼ ì§€ì—°ì‹œí‚¨ë‹¤ë©´, <code class=\"language-text\">transition</code>ì€ ë¦¬ì•¡íŠ¸ê°€ pending ìƒíƒœë¥¼ íŠ¸ë˜í‚¹í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ ìœ ì €ì—ê²Œ í”¼ë“œë°±ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.</p>\n<p><code class=\"language-text\">useTransition</code>ì´ ë°˜í™˜í•˜ëŠ” <code class=\"language-text\">isPending</code> ìƒíƒœê°’ì„ ë°›ì•„ <code class=\"language-text\">transition</code>ì— ë”°ë¥¸ ë Œë”ë§ ê²°ê³¼ë¥¼ ë¶„ê¸°ì³ì¤„ ìˆ˜ë„ ìˆë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useTransition <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isPending<span class=\"token punctuation\">,</span> startTransition<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useTransition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">{</span>\n  isPending <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Spinner</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">startTransition</code>ì€ ë¦¬ë Œë”ë§ì„ ì¡°ì ˆí•˜ê³ , ëŠë¦° ë„¤íŠ¸ì›Œí¬ì— ëŒ€ì‘í•˜ê³ ì í•˜ëŠ” ìƒí™©ì—ì„œ ìœ ìš©í•˜ë‹¤.</p>\n<hr>\n<h2 id=\"-3-new-suspense-ssr-architecture\" style=\"position:relative;\"><a href=\"#-3-new-suspense-ssr-architecture\" aria-label=\" 3 new suspense ssr architecture permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ… 3. New Suspense SSR Architecture</h2>\n<p>ë¦¬ì•¡íŠ¸ íŒ€ì´ ì •ë§ ê³µì„ ë“¤ì—¬ ë§Œë“  ê¸°ëŠ¥ì´ë¼ê³  í•œë‹¤! ë¦¬ì•¡íŠ¸ì—ì„œ SSRì„ ì§€ì›í•˜ê¸° ìœ„í•´ êµ¬ì¡°ì ì¸ ê°œí¸ì„ ì´ë¤˜ë‹¤. íŠ¹íˆ <code class=\"language-text\">Suspense</code>ë¥¼ ì§€ì›í•¨ìœ¼ë¡œì¨ ë¦¬ì•¡íŠ¸ ì•±ì„ ë”ìš± ì‘ì€ ë‹¨ìœ„ë“¤ë¡œ ë¶„ë¦¬í•˜ê³ , ì„œë²„ì—ì„œ í•„ìš”í•œ ìì›ì„ ë°›ì•„ í™”ë©´ì„ ë Œë”ë§í•˜ëŠ” ê³¼ì •ì´ ê° ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë³„ë¡œ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•¨ìœ¼ë¡œì¨ ì•± ì „ì²´ë¥¼ ë¬´ë„ˆëœ¨ë¦¬ì§€ ì•Šê²Œë” í•´ì¤€ë‹¤.</p>\n<blockquote>\n<p>ğŸ‘¾ <code class=\"language-text\">React.lazy</code>ì—ì„œë„ SSRì„ ì“¸ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤ê³  í•œë‹¤!</p>\n</blockquote>\n<h3 id=\"ê¸°ì¡´-ssrì˜-ë¬¸ì œ\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EC%A1%B4-ssr%EC%9D%98-%EB%AC%B8%EC%A0%9C\" aria-label=\"ê¸°ì¡´ ssrì˜ ë¬¸ì œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¸°ì¡´ SSRì˜ ë¬¸ì œ</h3>\n<p>ê¸°ì¡´ SSRì˜ ë¬¸ì œì ì€, ì„œë²„ì—ì„œ ëª¨ë“  ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ì•¼ í•œë‹¤ëŠ” ì ì´ì—ˆë‹¤. ë°ì´í„°ë¥¼ ëª¨ë‘ ë¶ˆëŸ¬ì˜¬ ë•Œê¹Œì§€ í´ë¼ì´ì–¸íŠ¸ ë‹¨ì˜ ë¦¬ì•¡íŠ¸ëŠ” hydratingë¥¼ ì‹œì‘í•˜ì§€ ëª»í•œ ì±„ ì„œë²„ë¥¼ ê¸°ë‹¤ë ¤ì•¼ í–ˆë‹¤.</p>\n<p>ë˜, ì¸í„°ë™ì…˜ì´ ê°€ëŠ¥í•´ì§€ê¸° ì „ì— ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ hydrateë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤. ë¦¬ì•¡íŠ¸ì˜ hydrateëŠ” ì´ë²¤íŠ¸í•¸ë“¤ëŸ¬ë¥¼ ë¶™ì—¬ì£¼ëŠ” ì—­í• ì„ í•˜ëŠ”ë°, ì„œë²„ì—ì„œ HTMLì´ ë‹¤ ë¶ˆëŸ¬ì™€ì ¸ì•¼ ì˜¤ë¥˜ ì—†ì´ ì´ë²¤íŠ¸í•¸ë“¤ëŸ¬ë¥¼ ë¶™ì—¬ì¤„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.</p>\n<p>ì´ ë¬¸ì œì ë“¤ì€ ë¦¬ì•¡íŠ¸ ì•±ì˜ ê¸°ì¡´ SSR ë°©ì‹ì˜ â€˜waterfallâ€™í•œ íë¦„ ë•Œë¬¸ì´ì—ˆë‹¤.</p>\n<blockquote>\n<p>fetch data (server) â†’ render to HTML (server) â†’ load code (client) â†’ hydrate (client).</p>\n</blockquote>\n<p>ê° ë‹¨ê³„ì˜ ì‘ì—…ì€ ì´ì „ ë‹¨ê³„ê°€ ëë‚˜ì•¼ì§€ë§Œ ì‹œì‘ë  ìˆ˜ ìˆì—ˆë‹¤. React 18ì€ ì´ ë‹¨ê³„ë“¤ì„ ë…ë¦½ì ìœ¼ë¡œ ë¶„ë¥˜í•˜ì—¬, ì•± ì „ì²´ê°€ ì•„ë‹Œ í™”ë©´ì˜ ê° ë¶€ë¶„ë“¤ë¡œ ìª¼ê°œëŠ” ë°©ë²•ì„ ê³ ì•ˆí–ˆë‹¤.</p>\n<p>React 18ì—ì„œ SSRì„ ìœ„í•´ ì œê³µí•˜ëŠ” ë‘ ê°€ì§€ ê¸°ëŠ¥ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<ul>\n<li><strong>Streaming HTML</strong> on the server</li>\n<li><strong>Selective Hydration</strong> on the client</li>\n</ul>\n<h3 id=\"html-ìŠ¤íŠ¸ë¦¬ë°\" style=\"position:relative;\"><a href=\"#html-%EC%8A%A4%ED%8A%B8%EB%A6%AC%EB%B0%8D\" aria-label=\"html ìŠ¤íŠ¸ë¦¬ë° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTML ìŠ¤íŠ¸ë¦¬ë°</h3>\n<p>ê¸°ì¡´ì˜ SSRì€ ì•„ë˜ì™€ ê°™ì´ ëª¨ë“  HTMLì„ í•œë²ˆì— ë Œë”ë§í•œë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Home</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>aside</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/profile<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Profile</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>aside</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>article</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello world</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>article</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">First comment</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Second comment</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>ì´ë•Œ í˜ì´ì§€ì˜ ìƒíƒœëŠ” â€˜ì•„ì˜ˆ ì•ˆ ë³´ì´ê±°ë‚˜â€™, â€˜ì™„ì „íˆ ë‹¤ ë³´ì´ê±°ë‚˜â€™ ë‘˜ ì¤‘ í•˜ë‚˜ê°€ ë  ê²ƒì´ë‹¤.</p>\n<p>React 18ì—ì„œëŠ” Suspenseë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ê³ , í•„ìš”ì— ë”°ë¼ <code class=\"language-text\">&lt;Suspense></code>ë¡œ ê°ì‹¼ë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Layout</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">NavBar</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Sidebar</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">RightPane</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Post</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Suspense</span></span> <span class=\"token attr-name\">fallback</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Spinner</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Comments</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Suspense</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">RightPane</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Layout</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><code class=\"language-text\">Suspense</code>ë¡œ ê°ì‹¸ì§„ <code class=\"language-text\">Comments</code> ì»´í¬ë„ŒíŠ¸ëŠ”, í•´ë‹¹ ë¶€ë¶„ì˜ HTMLì´ ëª¨ë‘ ê·¸ë ¤ì§ˆ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ëŒ€ì‹  <code class=\"language-text\">fallback</code> ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•œë‹¤.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/fb169fdd8f9945f579d4943e8096fb6d/97bfd/01.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 74.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABo0lEQVQ4y5WUWY+jMBCE8///XR7zPBxZDt8HuahRNTZBmV1pJ1IpjWk+2tVtTuu6YlmWD2XkXJQSUhFjrtW82+22xTkjxoj7/Y7T6/VCCAHOOTjv5d86B2MtjDHQ2kApjVkpKK2hKWO2+1XGyhpfugPHaYJ1HtpYKElgsoOmSryr5NVr5wPmWQnn9Hw+EUPANE1o2hZN26Hve1yvf0Rd16NpWtFX06BtO7RdJ9dd32MYR4zjhGma30Bu04eAEBNiXmR7s9JIyw0hZoSUEVPeY+ZJHLm+yM6GYXgD6RXL9gU4DCOGcZLYhygAXyRxOF5nWB/kGe89To/HQ4wWYEhSCf1gldUja2ujNj91aYLSW9OYr5SC9+4DGDcgkzlO//6tP2KOjLV2A5JOYCxe8a3svqSv6w6v83hcr/cIZC92IL0S4wtwXX8CL5cLzufzu7YP4O5hBdYuHrd8fMiWYf9bheRIl6uHAixbZgM+gUdPj2tHII+fjA3fzFlyIQqYx+m3P3J4zvfBds7LmaToBdf/V2wgPxQCZMnp8EWpoh+/EYvg1+YbeW+KibJwbTwAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"01\" title=\"01\" src=\"/static/fb169fdd8f9945f579d4943e8096fb6d/fcda8/01.png\" srcset=\"/static/fb169fdd8f9945f579d4943e8096fb6d/12f09/01.png 148w,\n/static/fb169fdd8f9945f579d4943e8096fb6d/e4a3f/01.png 295w,\n/static/fb169fdd8f9945f579d4943e8096fb6d/fcda8/01.png 590w,\n/static/fb169fdd8f9945f579d4943e8096fb6d/efc66/01.png 885w,\n/static/fb169fdd8f9945f579d4943e8096fb6d/97bfd/01.png 1078w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<p>(í”„ë¡ íŠ¸)ì„œë²„ì—ì„œ <code class=\"language-text\">Comments</code>ì— í•„ìš”í•œ ë°ì´í„° fetchingì´ ì™„ë£Œë˜ë©´, ë¦¬ì•¡íŠ¸ëŠ” <strong>ê°™ì€ stream</strong>ìœ¼ë¡œ ì¶”ê°€ì ì¸ HTMLì„ ì „ë‹¬í•œë‹¤. ì´ë ‡ê²Œ ë’¤ëŠ¦ê²Œ HTMLì„ ì‘¤ì…” ë„£ëŠ”(?) ê²ƒì„ â€˜<strong>pop in</strong>â€˜ì´ë¼ê³  í•œë‹¤. ê° ì»´í¬ë„ŒíŠ¸ëŠ” ì„œë¡œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì˜ ë°ì´í„°ê°€ ì™„ì „íˆ ë¡œë“œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦´ í•„ìš”ê°€ ì—†ë‹¤.</p>\n<p>í´ë¼ì´ì–¸íŠ¸ ë‹¨ì˜ <strong>Selective Hydration</strong>ì€ ë°ì´í„°ë¥¼ ëª¨ë‘ ë¶ˆëŸ¬ì˜¬ ë•Œê¹Œì§€ í˜ì´ì§€ì˜ ë‹¤ë¥¸ ë¶€ë¶„ë“¤ì´ ë¸”ë¡œí‚¹ë˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤. ë¦¬ì•¡íŠ¸ëŠ” ë¡œë“œë˜ëŠ” ìˆœì„œëŒ€ë¡œ ë¶€ë¶„ì ìœ¼ë¡œ hydrationì„ ì§„í–‰í•œë‹¤.</p>\n<h3 id=\"ì„ íƒì -hydration\" style=\"position:relative;\"><a href=\"#%EC%84%A0%ED%83%9D%EC%A0%81-hydration\" aria-label=\"ì„ íƒì  hydration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„ íƒì  hydration</h3>\n<p>React 18ì€ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì„ í•˜ëŠ” ê²½ìš°ì—ë„ ì˜ ë™ì‘í•œë‹¤. <code class=\"language-text\">Suspense</code>ë¥¼ ì‚¬ìš©í•˜ë©´ HTMLì´ ëª¨ë‘ ë¡œë“œë˜ê¸° ì „ì— hydrateë¥¼ ì‹œì‘í•  ìˆ˜ ìˆë‹¤.</p>\n\n          <div class=\"gatsby-remark-prismjs-copy-button-container\">\n            <div class=\"gatsby-remark-prismjs-copy-button\" tabindex=\"0\" role=\"button\" aria-pressed=\"false\" onclick=\"gatsbyRemarkCopyToClipboard(this, this.parentNode.nextElementSibling)\">\n              Copy\n            </div>\n          </div>\n          \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> lazy <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Comments <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./Comments.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ...</span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Suspense</span></span> <span class=\"token attr-name\">fallback</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Spinner</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Comments</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Suspense</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">Suspense</code>ë¡œ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ë©´, ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ìŠ¤íŠ¸ë¦¬ë°ì´ë‚˜ hydrating ê³¼ì •ì„ ë¸”ë¡œí‚¹í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>\n<h3 id=\"ì»´í¬ë„ŒíŠ¸ê°€-hydrateë˜ê¸°-ì „-ì¸í„°ë™ì…˜\" style=\"position:relative;\"><a href=\"#%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EA%B0%80-hydrate%EB%90%98%EA%B8%B0-%EC%A0%84-%EC%9D%B8%ED%84%B0%EB%9E%99%EC%85%98\" aria-label=\"ì»´í¬ë„ŒíŠ¸ê°€ hydrateë˜ê¸° ì „ ì¸í„°ë™ì…˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì»´í¬ë„ŒíŠ¸ê°€ hydrateë˜ê¸° ì „ ì¸í„°ë™ì…˜</h3>\n<p>React 18ì€ ì •ë§ ë˜‘ë˜‘í•˜ë‹¤. ë‘ ê°œì˜ ë…ë¦½ì ì¸ ì»´í¬ë„ŒíŠ¸ A, Bì—ì„œ hydrationì´ ìˆ˜í–‰ë˜ê³  ìˆë‹¤ê³  ê°€ì •í•´ ë³´ì. ì´ë•Œ ì»´í¬ë„ŒíŠ¸ Bì—ì„œ click ì´ë²¤íŠ¸ê°€ ë°œìƒí•œë‹¤ë©´, ë¦¬ì•¡íŠ¸ëŠ” í•´ë‹¹ ì´ë²¤íŠ¸ë¥¼ ê¸°ë¡í•´ë‘ê³  B ì»´í¬ë„ŒíŠ¸ì˜ hydrationì„ ë¨¼ì € ì§„í–‰í•œë‹¤. ê·¸ë¦¬ê³  hydrationì´ ëë‚˜ë©´, ê¸°ë¡í•´ë‘ì—ˆë˜ click ì´ë²¤íŠ¸ë¥¼ ë‹¤ì‹œ ì‹¤í–‰ì‹œì¼œ ì¸í„°ë™ì…˜ì— ëŒ€í•œ ì‘ë‹µì„ ë°˜í™˜í•œë‹¤. ìë™ìœ¼ë¡œ ìš°ì„ ìˆœìœ„ì„ ì¡°ì •í•˜ì—¬ hydrationì„ ì§„í–‰í•˜ëŠ” ê²ƒì´ë‹¤! (ì´ê±´ ì •ë§ ëŒ€ë°•ì¸ ê²ƒ ê°™ë‹¤ ğŸ˜®)</p>\n<hr>\n<p><strong>Ref</strong>\n<a href=\"https://github.com/reactwg/react-18/discussions/21\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/reactwg/react-18/discussions/21</a>\n<a href=\"https://github.com/reactwg/react-18/discussions/41\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/reactwg/react-18/discussions/41</a>\n<a href=\"https://github.com/reactwg/react-18/discussions/37\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/reactwg/react-18/discussions/37</a>\n01</p>","timeToRead":7,"frontmatter":{"title":"React 18 í†ºì•„ë³´ê¸°","date":"October 03, 2021","description":null,"tags":["react"],"disqus":null},"fields":{"langKey":"en"}}},"pageContext":{"slug":"/react/react-18/","previous":{"fields":{"slug":"/wtc/wtc-week-34/","langKey":"en","directoryName":"wtc"},"frontmatter":{"date":"October 09, 2021","description":null,"title":"ìš°í…Œì½” 34ì£¼ì°¨ ê¸°ë¡","tags":["woowacourse"]}},"next":{"fields":{"slug":"/wtc/wtc-week-33/","langKey":"en","directoryName":"wtc"},"frontmatter":{"date":"October 02, 2021","description":null,"title":"ìš°í…Œì½” 33ì£¼ì°¨ ê¸°ë¡","tags":["woowacourse"]}},"previousInSameTag":{"fields":{"slug":"/react/await-setstate/","langKey":"en","directoryName":"react"},"frontmatter":{"date":"October 16, 2021","description":null,"title":"Reactì˜ setStateì— awaitì„ ë¶™ì´ë©´?","tags":["react"]}},"nextInSameTag":{"fields":{"slug":"/frontend/ssr-without-next/","langKey":"en","directoryName":"frontend"},"frontmatter":{"date":"October 02, 2021","description":null,"title":"Next.js ì—†ì´ React ì•± SSR ì ìš©í•˜ê¸°","tags":["react"]}},"translationsLink":[]}},"staticQueryHashes":["1522010811","2466007692","2894998521","3765107650","683610688"]}