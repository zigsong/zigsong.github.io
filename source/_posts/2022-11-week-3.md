---
title: 11ì›” 3ì£¼ì°¨ ê¸°ë¡
date: 2022-11-19 10:22:08
tags: weekly
thumbnailImage: https://i.imgur.com/s9k3iLY.jpg
---

Everything, Everywhere, All at once

<!-- more -->

---

## ë°°ì›Œê°€ê¸°

### ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚˜ëˆ„ê¸° ë¶€ë™ì†Œìˆ˜ì  ì´ìŠˆ

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì†Œìˆ˜ë¥¼ `12.34`Â ->Â `0.1234`Â í˜•íƒœë¡œ ë³€í™˜í•˜ê³  ì‹¶ë‹¤ë©´ ì†Œìˆ˜ë¶€ì— ìˆëŠ” ê°’ì„ ì •ìˆ˜ë¶€ë¡œ ì˜¬ë¦° í›„ì— ë‚˜ëˆ„ê¸° í•˜ë©´ ëœë‹¤.

ê·¸ëƒ¥ ë‚˜ëˆ„ê¸°ë§Œ í•˜ë©´...

```jsx
77.77 / 10000 -> 0.007776999999999999
```

ë¶€ë™ì†Œìˆ˜ì  ì´ìŠˆê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì´ë‹¤. ğŸ˜©

ë”°ë¼ì„œ ì´ë ‡ê²Œ í•´ì¤€ë‹¤.

```jsx
77.77 * 100 / 10000 -> 0.7777
```

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë¶€ë™ì†Œìˆ˜ì  ì´ìŠˆ í•´ê²°ì„ ìœ„í•´ decimal.js, bignumber.js, big.js ë“±ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ íƒ„ìƒí–ˆë‹¤.

### passive event

ë¸Œë¼ìš°ì €ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì´ë²¤íŠ¸ì˜ `preventDefault`ê°€ ì‹¤í–‰ë ì§€ ì—¬ë¶€ë¥¼ í•­ìƒ í™•ì¸í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ ìƒ ì•½ê°„ ì†í•´ë‹¤. `preventDefault`ë¥¼ í˜¸ì¶œí•  í•„ìš”ê°€ ì—†ë‹¤ë©´, `addEventListener`ì˜ ì„¸ ë²ˆì§¸ ì¸ìë¡œ `{ passive: true }` ë¥¼ ë„£ìœ¼ë©´ `preventDefault`ë¥¼ í™•ì¸í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì„±ëŠ¥ ìƒ ì•½ê°„ì˜ ê°œì„ ì´ ì´ë£¨ì–´ì§„ë‹¤.

> ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ë‚˜ í„°ì¹˜ ì´ë²¤íŠ¸ì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### `.npmrc`

`.npmrc`ëŠ” npm í™˜ê²½ì„¤ì •ì„ í•  ìˆ˜ ìˆëŠ” íŒŒì¼ì´ë‹¤. í”„ë¡œì íŠ¸ < ìœ ì € < ì „ì—­ < ë¹ŒíŠ¸ì¸ ë²”ìœ„ê°€ ì¡´ì¬í•œë‹¤.

ì‚¬ë‚´ íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë°›ì„ ë•ŒëŠ”Â `.npmrc`ì—Â `registry`ë¥¼ ë“±ë¡í•´ì¤˜ì•¼í•œë‹¤. ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ë“±ë¡í•  ìˆ˜ë„ ìˆë‹¤.

```bash
npm config set <registry> --location <global|user|project>
```

`npm config`ì— key-value ê°’ì„ ì €ì¥í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```bash
npm config set <key>=<value> [<key>=<value> ...]
npm config get [<key> [<key> ...]]
npm config delete <key> [<key> ...]
npm config list [--json] // ëª¨ë“  config í•­ëª©ì„ ë³¼ ìˆ˜ ìˆë‹¤.
npm config edit
```

`.npmrc`Â ì—Â `engine-strict=true`Â ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ì´ í•„ë“œê°€Â `true`ë¼ë©´ ì‚¬ìš©í•˜ëŠ” node, npmì´ package.jsonì— ëª…ì‹œí•œ ë²„ì „ì´ ì•„ë‹ ë•ŒÂ `npm install`Â ë“±ì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì§€ ëª»í•˜ê²Œ í•œë‹¤.

### react-helmet

documentì˜ headë¥¼ ë³€ê²½í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” react componentë‹¤. Helmetì„ ì“´ ìì‹ì´ ì„ ì–¸í•œ headê°€ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì˜ headë¥¼ ë®ì–´ë²„ë¦°ë‹¤.

í—¤ë”ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— title, ogê°’ ë“±ì„ ì ì–´ë„£ì–´ SEOì— ë„ì›€ì´ ëœë‹¤.

ì–´ì°¨í”¼ ë¹Œë“œíŒŒì¼ì€ í•˜ë‚˜ì´ë¯€ë¡œ, react-helmetì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ í¬ë¡¤ëŸ¬ì—ê²Œ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ëŠ” ì—†ë‹¤. ì´ë•ŒëŠ” react-snap ê°™ì´ pre-renderingì„ í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ SSRì„ êµ¬ì¶•í•´ì•¼ í•œë‹¤.

### react-router `useLocation()`

react-router v6ë¥¼ ì‚¬ìš©í•  ë•Œ í˜ì´ì§€ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ íŠ¹ì • ë™ì‘ì„ ì‹¤í–‰í•˜ê³  ì‹¶ë‹¤ë©´Â `useLocation()`Â ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

```tsx
import * as React from 'react';
import { useLocation } from 'react-router-dom';

function App() {
  let location = useLocation();

  React.useEffect(() => {
    // Google Analytics
    ga('send', 'pageview');
  }, [location]);

  return (
    // ...
  );
}
```

### number inputì˜ step ì´ë™

ì•„ë˜ì™€ ê°™ì´ `input` íƒœê·¸ë¥¼ ì‚¬ìš©í•  ë•Œ 5.34ë¥¼ ì…ë ¥í•˜ê³  up ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ 6ì´ ë˜ê³ , down ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ 5ê°€ ëœë‹¤.

```html
<input type="number" />
```

5.34ê°€ inputì— ë“¤ì–´ê°„ ìƒíƒœì—ì„œ upì„ ëˆ„ë¥´ë©´ 6.34, downì„ ëˆ„ë¥´ë©´ 6.34ê°€ ë˜ê¸¸ ì›í•œë‹¤ë©´ ì•„ë˜ì™€Â `step="any"`ë¥¼ ë„£ê³  ì‚¬ìš©í•˜ë©´ ëœë‹¤.

```html
<input type="number" step="any" />
```

**Ref** [https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/step#:~:text=or%20the%20special%20value%20any](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/step#:~:text=or%20the%20special%20value%20any)

### `#region`ìœ¼ë¡œ í´ë”©í•˜ê¸°

```tsx
// anything.tsx

// #region ì ‘ì„ ìˆ˜ ìˆì–´ìš”
   ...
// #endregion
```

`// #region`ì„ ì‚¬ìš©í•˜ë©´ vscodeì—ì„œ í•´ë‹¹ êµ¬ê°„ì„ í´ë“œí•  ìˆ˜ ìˆë‹¤! ğŸ˜²

### CRAì˜ tsconfig ì°¸ì¡°

CRA ì›¹íŒ© ì„¤ì •ì—ëŠ” tsconfigë¥¼ ì°¸ì¡°í•˜ëŠ” ì½”ë“œê°€ ìˆë‹¤. tsconfigë¥¼ ê¸°ë°˜ìœ¼ë¡œ baseurlì„ ê²°ì •í•œë‹¤.

```jsx
// config/modules.js
config = ts.readConfigFile(paths.appTsConfig, ts.sys.readFile).config;
// Otherwise we'll check if there is jsconfig.json
// for non TS projects.
```

baseUrl í•­ëª©ì´ ì—†ìœ¼ë©´Â `''`Â ê°€ defaultë‹¤.

### pointer-events

`position: absolute` ë°‘ì— ìˆëŠ” ìš”ì†Œì— hover effectë¥¼ ì£¼ê³  ì‹¶ë‹¤ë©´, `position: absolute`ì¸ ìš”ì†Œë“¤ì— `pointer-events: none` ì„ ì£¼ë©´ ëœë‹¤

ê·¸ëŸ°ë° `pointer-events: none`ì„ ë¨¹ì¸ ìš”ì†Œì˜ ì¼ë¶€ ìì‹ ìš”ì†Œë“¤ì— ë‹¤ì‹œ `pointer-events`ë¥¼ ì£¼ê³  ì‹¶ë‹¤ë©´?!

`pointer-events: initial`ì„ ì£¼ë©´ ì‚´ì•„ë‚œë‹¤ ğŸ˜

**Ref** [https://stackoverflow.com/questions/65970609/trying-to-use-hover-on-a-element-below-an-absolute-positioned-element](https://stackoverflow.com/questions/65970609/trying-to-use-hover-on-a-element-below-an-absolute-positioned-element)

### íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ `Extract`

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ìœ í‹¸ íƒ€ì…ì¸ `Extract<Type, Union>`ì€ íƒ€ì…ì—ì„œ ë½‘ì„ ìˆ˜ ìˆëŠ” ì• ë“¤ë§Œ unionìœ¼ë¡œ ë½‘ì•„ì¤€ë‹¤.

> ğŸ‘©â€ğŸ« `Pick`ê³¼ì˜ ì°¨ì´?
>
> - `Pick` ì€ ê°ì²´ í˜•íƒœì˜ íƒ€ì…ì—ì„œ key(í”„ë¡œí¼í‹°)ë¡œ ë½‘ëŠ”ë‹¤.

**Ref** [https://www.typescriptlang.org/docs/handbook/utility-types.html#extracttype-union](https://www.typescriptlang.org/docs/handbook/utility-types.html#extracttype-union)

### class-transformer

plain JS object (ë¦¬í„°ëŸ´ ê°ì²´)ë¥¼ class ì¸ìŠ¤í„´ìŠ¤ë¡œ ë°”ê¾¸ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤.

ex) API ì‘ë‹µê°’ì„ jsonìœ¼ë¡œ ë°›ì•„ `JSON.parse()` í•œ í›„

ê·¸ëƒ¥ ëª¨ë“  í”„ë¡œí¼í‹°ë“¤ì„ ë‹¤ ë³µì‚¬í•´ë„ ë˜ì§€ë§Œ, ê³„ì¸µì´ ë³µì¡í•  ê²½ìš°ì—ëŠ” ì‘ì—…ì´ ë¹„ì‹¸ë‹¤.

â†’ ì´ë•Œ `class-transformer` ë¥¼ ì‚¬ìš©í•œë‹¤!

cf) NestJSì—ì„œëŠ”Â `class-transformer`ë¥¼ ê¸€ë¡œë²Œ ì„¤ì •ìœ¼ë¡œ Controllerì—ì„œ ë°›ëŠ” Request Dtoë¡œ ë³€í™˜í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ê³  ìˆë‹¤.

**Ref** [https://github.com/typestack/class-transformer#what-is-class-transformer](https://github.com/typestack/class-transformer#what-is-class-transformer)

---

## ì´ê²ƒì €ê²ƒ

- gapì˜ ë‹¨ì¶•ì†ì„±: `{row-gap}(ìƒí•˜ê°„ê²©) {column-gap}(ì¢Œìš°ê°„ê²©)`

---

## ê¸°íƒ€

### craco v7.0.0 ë¦´ë¦¬ì¦ˆ

í˜„ì¬ Create React App ì— í¬í•¨ëœ `react-script`ëŠ” v5 ë²„ì „ì¸ë°, cracoì—ì„œ ë“œë””ì–´ ì§€ì›í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

**Ref** https://github.com/dilanx/craco

### WASMì„ ìœ„í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸

WebAssemblyì—ì„œ ëŒë¦´ ìˆ˜ ìˆëŠ” Javyë¼ëŠ” ë„êµ¬ê°€ ë“±ì¥í–ˆë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ ,

```jsx
function foo(input) {
  return { foo: input.n + 1, newBar: input.bar + "!" };
}

Shopify = {
  main: foo,
};
```

ì•„ë˜ì™€ ê°™ì´ WebAssembly ë°”ì´ë„ˆë¦¬ë¥¼ ìƒì„±í•œë‹¤.

```bash
javy index.js -o destination/index.wasm
```

ê·¸ë¦¬ê³  WebAssembly ì—”ì§„ì„ ì´ìš©í•˜ì—¬ ì‹¤í–‰í•œë‹¤.

```bash
$ echo '{ "n": 2, "bar": "baz" }' | wasmtime index.wasm
{"foo":3,"new_bar":"baz!"}%
```

ì•„ì•„... ì´ì œ ì •ë§ í”¼í•  ìˆ˜ ì—†ê²Œ ëœ ê²ƒì¸ê°€.

### ì „ ê¹ƒí—ˆë¸Œ CTOì˜ MSA íšŒê³ 

MSA ì „í™˜ ì‹œ ìš°ë ¤ì‚¬í•­

- (íŠ¹ì´í•˜ê²Œ ITì¶œì‹  CEOê°€ ì´ëŒì§€ ì•ŠëŠ” í•œ) ì¸í”„ë¼ëŠ” í•­ìƒ ìš°ì„ ìˆœìœ„ì—ì„œ ë°€ë ¤ë‚¨(get the short end of priority stick)
- ì„œë¹„ìŠ¤ê°€ ë„ˆë¬´ ë§ìœ¼ë©´ ì¼ë°˜ì ìœ¼ë¡œ ì†Œìœ ê¶Œ ë¬¸ì œ ë° ê²½ê³„ ë¬¸ì œê°€ ìƒê¹€
- ìˆ˜ë§ì€ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë” ë§ì€ ë„êµ¬ë¥¼ ë„ì…í•¨
- ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ SDKê°€ ë˜ì—ˆì–´ì•¼í•  ê° ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë“¤ì´ í”„ë¡œë•ì…˜ì— ìœ„í—˜ì„ ì´ˆë˜í•¨

ê·¸ë˜ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì¶”ì²œí•œë‹¤ê³  í•œë‹¤.

- ê°€ëŠ¥í•˜ë©´ ìµœëŒ€í•œ ì˜¤ë˜ Monolithë¥¼ ìœ ì§€
- ì„œë¹„ìŠ¤ëŠ” ì¸í”„ë¼ì— í•„ìš”í•œ ê²ƒì—ì„œ ì‹œì‘í•˜ê³ , ì•± ê°œë°œìª½ì—ì„œ ì‹œì‘í•˜ì§€ ë§ ê²ƒ
- Monoë¥¼ ìª¼ê°œì•¼ í•œë‹¤ë©´, ì‘ì€ ì„œë¹„ìŠ¤ë“¤ì´ ì•„ë‹Œ í° ì•±ë“¤ë¡œ ë¶„í•´í•  ê²ƒ
- ê° ìƒˆë¡œìš´ ì•±ì€ íšŒì‚¬ë‚´ì˜ ê°€ìƒ ë²½ì´ë¼ê³  ìƒê°í•  ê²ƒ
- ê°€ëŠ¥í•˜ë‹¤ë©´ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ëŒ€ì‹  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„ í˜¸

**Ref** https://news.hada.io/topic?id=7839

### Whatâ€™s New in TypeScript 4.9?

**ğŸ’¡ The satisfies Operator**

`satisfies` í‚¤ì›Œë“œë¥¼ ì´ìš©í•˜ë©´ ê°ì²´ì˜ key-value íƒ€ì…ì„ ìƒì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

```tsx
const foo = {
    a: 255,
    b: 255,
    c: 255,
    // âŒ We get the error Type 'string' is not assignable to type 'number'
    d: 'bar'
} satisfies Record<string, number>;

// âœ… We are not losing any type inferance information
// typeof foo is
// const foo: {
//    a: number;
//    b: number;
//    c: number;
//    d: string;
// }
```

**ğŸ’¡ Support for auto-accessor fields**
ìë°”ìŠ¤í¬ë¦½íŠ¸ ë°ì½”ë ˆì´í„°ê°€ stage 3ì— ì˜¬ë¼ì˜´ì— ë”°ë¼, í”„ë¡œí¼í‹° ìë™ ì ‘ê·¼ìê°€ ì¶”ê°€ë  ì˜ˆì •ì´ë‹¤.

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œë„ ì´ë¥¼ ì§€ì›í•œë‹¤.

```tsx
class Foo {
  accessor a: string = 'a';
}

const instance = new Foo();

// âœ… it works and prints 'a'
console.log(instance.a);
```

ì´ì œ `a` í”„ë¡œí¼í‹°ë¥¼ ë³„ë„ì˜ boilerplate ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

**ğŸ’¡ Improve checking of in operator**

`typeof` ì—°ì‚°ìì™€ í•¨ê»˜ `in` ì—°ì‚°ìë¥¼ í™œìš©í•˜ì—¬ íƒ€ì…ì„ ì¢í ìˆ˜ ìˆë‹¤.

`typeof`ì„ ì‚¬ìš©í•˜ë©´, ê°ì²´ì˜ í”„ë¡œí¼í‹° ê°’ì˜ íƒ€ì…ê¹Œì§€ ì²´í¬í•´ì¤˜ì•¼ í–ˆë‹¤.

```tsx
function log(vehicle: {}) {
  // âœ… Works, item.wheels is now of type number
  if ("wheels" in vehicle && typeof vehicle.wheels === "number") {
    console.log(`the entity has ${vehicle.wheels} wheels`);
  }
}

log({ wheels: 4, topSpeed: 20 });
```

ìƒˆë¡œìš´ `in` ì—°ì‚°ìëŠ” `typeof`ì„ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤!

```tsx
function log(vehicle: {}) {
  // âœ… Works, item.wheels is now of type unknown
  if ("wheels" in vehicle) {
    console.log(`the entity has ${vehicle.wheels} wheels`);
  }
}

log({ wheels: 4, topSpeed: 20 });
```

> ë˜, `key in obj`ëŠ” ì´ì œ `string | number | symbol`ë¡œ ì¶”ë¡ ëœë‹¤!

**ğŸ’¡ Disallow comparison against NaN**

IEEE 754ì— ë”°ë¥´ë©´ `NaN`ê³¼ `NaN`ì€ ê°™ì§€ ì•Šë‹¤.

```jsx
NaN === NaN; // false
NaN !== NaN; // false
```

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ 4.9ë¶€í„°ëŠ”, `NaN` ê°’ì„ ë¹„êµí•  ê²½ìš° ì»´íŒŒì¼ëŸ¬ê°€ ì—ëŸ¬ë¥¼ ë±‰ëŠ”ë‹¤.

```tsx
function logValue(value: Number | NaN) {
  // âŒ Error: This condition will always return 'true'
  // Did you mean '!Number.isNaN(value)'
  if (value !== NaN) {
    console.log("It is NaN");
  }
  console.log(value);
}
```

**Ref** <https://betterprogramming.pub/whats-new-in-typescript-4-9-6bce2387aa31>

---

## ë§ˆë¬´ë¦¬

ê±°ì˜ ë­ ì¸ìƒì—ì„œ ê°€ì¥ í° ì´ë²¤íŠ¸ ì¤‘ í•˜ë‚˜ë¼ê³  í•  ìˆ˜ ìˆëŠ” ì‚¬ê±´ì´ ì§€ë‚¬ë‹¤... ì•„ë‹ˆ ì§„í–‰ì¤‘... ê·¸ì¹˜ë§Œ ì˜ ì§€ë‚´ëŠ”ì¤‘ ğŸ˜ğŸ‘
