---
title: 12ì›” 3ì£¼ì°¨ ê¸°ë¡
date: 2023-12-23 10:19:23
tags: weekly
thumbnailImage: https://i.imgur.com/s9k3iLY.jpg
---

ì˜¬í•´ ë§ˆì§€ë§‰ ê·¼ë¬´ì¼ âœŒï¸

<!-- more -->

---

## ë°°ì›Œê°€ê¸°

### webpack configì˜ assetModuleFilename

íŒŒì¼ì„ ì¶œë ¥ ë””ë ‰í„°ë¦¬ë¡œ ë‚´ë³´ë‚¼ ë•ŒÂ `asset/resource`Â ëª¨ë“ˆì€ ê¸°ë³¸ì ìœ¼ë¡œÂ `[hash][ext][query]`Â íŒŒì¼ëª…ì„ ì‚¬ìš©í•œë‹¤.

webpack ì„¤ì •ì—ì„œÂ `[output.assetModuleFilename](https://webpack.kr/configuration/output/#outputassetmodulefilename)`ì„ ì„¤ì •í•˜ì—¬ ì´ í…œí”Œë¦¿ì„ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.

```jsx
const path = require("path");

module.exports = {
  entry: "./src/index.js",
  output: {
    filename: "main.js",
    path: path.resolve(__dirname, "dist"),
    assetModuleFilename: "images/[hash][ext][query]",
  },
  module: {
    rules: [
      {
        test: /\.png/,
        type: "asset/resource",
      },
    ],
  },
};
```

**Ref** https://webpack.kr/guides/asset-modules/#custom-output-filename

### webpack config devServerì˜ proxy ì„¤ì •

`proxy`ë¥¼ ì“°ì§€ ì•Šì•˜ì„ ë•ŒëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ ìš”ì²­ ì‹œ CORS ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

`proxy` ì†ì„±ì„ ì„¤ì •í•˜ë©´ ì„œë²„ì—ì„œ í•´ë‹¹ ìš”ì²­ì„ ë°›ì•„ì¤€ë‹¤.

```jsx
module.exports = {
  //...
  devServer: {
    proxy: {
      "/api": "http://localhost:3000",
    },
  },
};
```

**Ref**

- https://webpack.kr/configuration/dev-server/#devserverproxy
- [https://joshua1988.github.io/webpack-guide/devtools/webpack-dev-server.html#í”„ë¡ì‹œ-proxy-ì„¤ì •](https://joshua1988.github.io/webpack-guide/devtools/webpack-dev-server.html#%ED%94%84%EB%A1%9D%EC%8B%9C-proxy-%EC%84%A4%EC%A0%95)

### scrollIntoViewIfNeeded

ìš”ì†Œê°€ ë¸Œë¼ìš°ì € ì°½ì˜ visible ì˜ì—­ì— ìˆì§€ ì•Šë‹¤ë©´ ìš”ì†Œë¥¼ visible ì˜ì—­ìœ¼ë¡œ ìŠ¤í¬ë¡¤í•´ì¤€ë‹¤.

ë¹„í‘œì¤€ ìŠ¤í™ìœ¼ë¡œ, ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ê°€ ë§ë‹¤

**Ref** https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoViewIfNeeded

### RTLì—ì„œ Promise.all í…ŒìŠ¤íŠ¸ë¥¼ í•  ë•Œ

async~await êµ¬ë¬¸ì„ ì—¬ëŸ¬ ê°œ í…ŒìŠ¤íŠ¸í•  ë•Œ, ë‹¤ìŒ ì›Œë‹ì´ ëœ° ìˆ˜ ìˆë‹¤

`Warning: You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one.`

`waitFor` í‚¤ì›Œë“œë¥¼ í†µí•´ ìˆœì°¨ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë©´ ëœë‹¤.

```jsx
await waitFor(() => [
  screen.getByTestId("my-id-1"),
  screen.getByTestId("my-id-2"),
]);
```

**Ref** https://github.com/testing-library/react-testing-library/issues/615

### jestì˜ `toHaveStyle`ì€ CSS moduleì—ì„œ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤

- sassì™€ cssëŠ” ì¼ë°˜ì ìœ¼ë¡œ jestì—ì„œ ì œì™¸ëœë‹¤.
- identity-obj-proxyê°€ styleì˜ classNameì„ ì¡ê³  ìˆê¸´ í•˜ì§€ë§Œ, mock ë°ì´í„°ì¼ ë¿ì´ë‹¤

> **identity-obj-proxy**
>
> - css íŒŒì¼ì„ importí•´ì„œ ì‚¬ìš©í•˜ëŠ” ì‚¬ëŒì—ê²Œ í•„ìš”í•œ library
> - jestëŠ” identity-obj-proxyë¡œ ê°ì²´ë¥¼ CSS moduleë¡œ importí•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë©´ style ê°ì²´ ê°’ì„ ê°–ê³  ìˆëŠ” classNameë“¤ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
> - jest.config.moduleì— ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•œë‹¤
>
> ```jsx
> moduleNameMapper: {
>   '.*.(css|scss)$': 'identity-obj-proxy',
>   // ...
> },
> ```

**Ref**

- https://www.npmjs.com/package/identity-obj-proxy
- https://stackoverflow.com/questions/68648820/tohavestyles-not-working-with-module-css-styles-using-react-testing-library-with

### sleep vs loop

ë¹ ë¥¸ ì‹œê°„ ë‚´ì— ìˆ˜í–‰ë˜ì–´ ì‹œê°„ì„ ì¸¡ì •í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš° Promiseë¥¼ ì´ìš©í•´ì„œ sleep í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ì—¬ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.

ê·¸ëŸ¬ë‚˜ ì´ë ‡ê²Œ ë§Œë“¤ì–´ì§„ sleep í•¨ìˆ˜ì˜ ê²½ìš° ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì´ ë°œìƒí•œë‹¤.

sleep ëŒ€ì‹  ì•„ë˜ì²˜ëŸ¼ loopë¥¼ í†µí•´ì„œ cpu ì ìœ ë¥¼ ì´ì–´ê°€ëŠ” í˜•íƒœë¡œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³¼ ìˆ˜ ìˆë‹¤.

```jsx

function delay(ms: number) {
  const start = Date.now();
  for (;;;) {
    if (Date.now() - start > ms) {
    return;
  }
  }
}
```

## ì´ê²ƒì €ê²ƒ

## ì ì  ì—†ì–´ì§„ë‹¤ ğŸ« 

## ê¸°íƒ€ê³µìœ 

### A Chain Reaction

Dan Abramovì˜ ì˜¤ëœë§Œì˜ ë¸”ë¡œê·¸ ê¸€!

`<p>` íƒœê·¸ë‚˜ `<i>` íƒœê·¸ì²˜ëŸ¼ HTMLì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µë˜ëŠ” ê°„í¸í•œ íƒœê·¸ë“¤ì€, ê°œë°œìë“¤ë¡œ í•˜ì—¬ê¸ˆ ê·¸ ë’¤ì˜ ë³µì¡í•œ ë¡œì§ì„ ë¬´ì‹œí•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ì´ì™€ ê°™ì€ ë§¥ë½ì—ì„œ ì—¬ëŸ¬ ë¹ŒíŠ¸ì¸ íˆ´ì—ì„œëŠ” `text-2xl` ë˜ëŠ” `font-sans` ë“±ì˜ preset classNameì„ ì œê³µí•˜ê¸°ë„ í•œë‹¤.

JSXë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í•  ë•Œë„ ì´ë¦„ì„ ì§“ëŠ”ë‹¤.

```jsx
<Greeting person={alice} />
```

ìœ„ ì½”ë“œëŠ” `Greeting`ì„ ê·¸ ìì²´ì˜ ì˜ë¯¸ë¡œ ì´í•´í•˜ê²Œë” ë§Œë“¤ë‹¤.

í•˜ì§€ë§Œ ì‚¬ëŒì´ ì´í•´í•˜ëŠ” 'ì–¸ì–´'ì™€ ë¸Œë¼ìš°ì €ê°€ ì´í•´í•˜ëŠ” 'ì–¸ì–´'ëŠ” ì¡°ê¸ˆ ë‹¤ë¥´ë‹¤. ë¸Œë¼ìš°ì €ëŠ” `Greeting`ê³¼ ë”ë¶ˆì–´ `alice`ë¥¼ ì–´ë–»ê²Œ í•´ì„í•´ì•¼ í•˜ëŠ”ì§€ë„ ëª¨ë¥¼ ê²ƒì´ë‹¤.

ê·¸ë˜ì„œ ê°œë°œìëŠ” `alice`ë¥¼ ì •ì˜í•´ì¤˜ì•¼ í•œë‹¤.

```jsx
const alice = {
  firstName: "Alice",
  birthYear: 1970,
};
```

ê·¸ë¦¬ê³  `Greeting`ë„ ì •ì˜í•´ì¤€ë‹¤.

```jsx
function Greeting({ person }) {
  return (
    <p className="text-2xl font-sans text-purple-400 dark:text-purple-500">
      Hello, <i>{person.firstName}</i>!
    </p>
  );
}
```

ì´ì œ ë‹¤ìŒ ì½”ë“œë¥¼ ë´¤ì„ ë•Œ,

```jsx
<Greeting person={alice} />
```

ë¸Œë¼ìš°ì €ëŠ” ê°œë°œì ë¨¸ë¦¬ì† ê°œë…ì¸ `Greeting`ì„ ì´í•´í•˜ì§„ ëª»í•˜ë”ë¼ë„, í™”ë©´ì— ì–´ë–»ê²Œ ë³´ì—¬ì¤˜ì•¼ í• ì§€ ì•Œ ìˆ˜ ìˆê²Œ ëœë‹¤.

JSXëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë˜ì–´ ìˆë‹¤.

```jsx
const originalJSX = <Greeting person={alice} />;
console.log(originalJSX.type); // Greeting
console.log(originalJSX.props); // { firstName: 'Alice', birthYear: 1970 }
```

ë¸Œë¼ìš°ì €ëŠ” JSXë¥¼ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì„ ê±°ì³ í•´ì„í•  ê²ƒì´ë‹¤.

```jsx
function translateForBrowser(originalJSX) {
  const { type, props } = originalJSX;
  return type(props);
}
```

`translateForBrowser`ê°€ ì¢€ ë” ë³µì¡í•œ ë¹ŒíŠ¸ì¸ íƒœê·¸ë“¤(ex. `details`)ê³¼ ì»´í¬ë„ŒíŠ¸ì˜ ì¡°í•©ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ì½”ë“œë“¤ë„ í•´ì„í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ë³´ì.

```jsx
function translateForBrowser(originalJSX) {
  if (originalJSX == null || typeof originalJSX !== "object") {
    return originalJSX;
  }
  if (Array.isArray(originalJSX)) {
    return originalJSX.map(translateForBrowser);
  }
  const { type, props } = originalJSX;
  if (typeof type === "function") {
    const returnedJSX = type(props);
    return translateForBrowser(returnedJSX);
  } else if (typeof type === "string") {
    return {
      type,
      props: {
        ...props,
        children: translateForBrowser(props.children),
      },
    };
  }
}
```

ê·¸ëŸ¬ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ëŒì˜ ê´€ì ì—ì„œ ì‘ì„±í•œ JSX ì½”ë“œëŠ”

```jsx
<ExpandableGreeting person={alice} />
```

ì´ë ‡ê²Œ ë°”ë€” ê²ƒì´ê³ ,

```jsx
<details>
  <Greeting person={alice} />
</details>
```

ìµœì¢…ì ìœ¼ë¡œ ë‹¤ìŒ ì½”ë“œë¡œ ë³€í™˜ë  ê²ƒì´ë‹¤.

```jsx
<details>
  <p className="text-2xl font-sans text-purple-400 dark:text-purple-500">
    Hello, <i>Alice</i>!
  </p>
</details>
```

ì´ì™€ ê°™ì€ ê³¼ì •ì„ **chain reaction**ì´ë¼ ë¶€ë¥´ê³  ì‹¶ë‹¤.

ê°œë°œìëŠ” ë°ì´í„°ì™€ ì½”ë“œë¥¼ í•¨ê»˜ ì‘ì„±í•˜ê³ , ë¸Œë¼ìš°ì €ëŠ” ë” ì´ìƒ ì‹¤í–‰í•  ì½”ë“œê°€ ì—†ì„ ë•Œê¹Œì§€ ì´ë¥¼ ë³€í™˜í•œë‹¤.

ê·¸ëŸ°ë° ì´ ë³€í™˜ ê³¼ì •ì€ ì–´ë””ì„œ ë°œìƒí•˜ëŠ” ê±¸ê¹Œ?

ì»´í“¨í„°? ì•„ë‹ˆë©´ ë‚´ ìì‹ ?

> ì—´ë¦° ê²°ë§ì¸ê°€? ì´ëŒ€ë¡œ ê¸€ì´ ëë‚˜ë²„ë ¸ë‹¤...

**Ref** <https://overreacted.io/a-chain-reaction/>

### TextSniper

ì´ë¯¸ì§€ì— ìˆëŠ” ê¸€ìë¥¼ OCRë¡œ ë”°ì£¼ëŠ” ì•±

**Ref** <https://textsniper.gumroad.com/l/TXSGR?offer_code=FREEFOR24H>

---

## ë§ˆë¬´ë¦¬
